(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2132fe"],{ac39:function(t,e,n){"use strict";n.r(e),n.d(e,"circular_barplot",(function(){return o})),n.d(e,"circular_barplot_legend",(function(){return l})),n.d(e,"coord_box",(function(){return h})),n.d(e,"dropdown_menu",(function(){return f})),n.d(e,"table_crispr",(function(){return sc}));var r=n("09d6"),i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},a=".previous-next{font-size:3px;cursor:pointer}.previous-next:hover{text-decoration:underline}.previous-next.inactive{fill:#A4A4A4;cursor:default;text-decoration:none}svg{max-height:100vh}",o=function(){function t(t){Object(r["f"])(this,t),this.bin_number=50}return t.prototype.selectedSgrnaChange=function(){this.svg.selectAll(".single-sgrna-ticks").remove(),this.addSingleCoordinatesTicks()},t.prototype.handleCoordinateOver=function(t){var e=this.svg.select(".start"+parseInt(/\(([0-9]*),/.exec(t.detail)[1]));e.remove(),this.highlightCoordinatesTicks([t.detail],"#ff0000")},t.prototype.handleCoordinateOut=function(t){var e=this.svg.select(".start"+parseInt(/\(([0-9]*),/.exec(t.detail)[1]));e.remove(),this.highlightCoordinatesTicks([t.detail],"#ff9999")},t.prototype.createBinData=function(t,e,n,r){for(var i=Math.ceil((r-n)/e),a=[],o=0,s=n;s<r;s+=i)a.push({bin_start:s,bin_end:s+i,number_coords_inside:0,bin_id:o.toString()}),o+=1;return a[a.length-1].bin_end=r,t.map((function(t){var e=a.find((function(e){return t>=e.bin_start&&t<e.bin_end}));e.number_coords_inside++})),a.map((function(e){return e.number_coords_proportion=e.number_coords_inside/t.length})),a},t.prototype.initializeSvg=function(){this.width=150,this.height=200,this.circle_radius=this.height/6,this.circle_thickness=2,this.barplot_begin=this.gene_coordinates?this.height/4:this.height/4.5,this.barplot_end=this.gene_coordinates?this.height/2.7:this.height/3,this.detailed_barplot_begin=this.gene_coordinates?this.height/2.5:this.height/2.7,this.detailed_barplot_end=this.height/2-1,this.coordinates_begin=this.circle_radius+this.circle_thickness+3,this.coordinates_end=this.circle_radius+this.circle_thickness+6,this.gene_begin=this.gene_coordinates?this.barplot_begin-7:void 0,this.gene_tickness=3,this.barplot_gene_begin=this.gene_coordinates?this.height/3:void 0,this.barplot_gene_end=this.gene_coordinates?this.height/2-5:void 0,this.barplot_gene_name_y=this.gene_coordinates?this.height/2:void 0,this.genome_color="#5E4F63",this.gene_color="#D5912A",this.coord_color="#66B032";var t=this.element.shadowRoot.querySelector(".circular-barplot-main");this.svg=d3.select(t).append("svg").attr("viewBox",[-this.width/2,-this.height/2,this.width,this.height]).append("g").attr("class","main")},t.prototype.displaySvgContent=function(){this.createGenomeCircle(),this.createCircularBarplot(),this.addSingleCoordinatesTicks(),this.gene_coordinates&&this.displayGenes(),this.addReinitializeEvent(),this.applyRotation(0,0)},t.prototype.cleanSvg=function(){this.svg.selectAll("g").remove()},t.prototype.createGenomeCircle=function(){this.svg.append("g").attr("class","genome-circle").append("circle").on("click",(function(){})).attr("cx",0).attr("cy",0).attr("r",this.circle_radius+this.circle_thickness).style("fill","transparent").style("stroke",this.genome_color).style("stroke-width",this.circle_thickness);var t=12,e=360/t,n=d3.scaleLinear().range([-180,180-e]).domain([0,t-1]);this.svg.append("g").attr("class","coord-ticks-container").selectAll(".coord-tick").data(d3.range(0,t)).enter().append("line").attr("class","coord-tick").attr("x1",0).attr("x2",0).attr("y1",this.circle_radius).attr("y2",this.circle_radius-2).attr("transform",(function(t){return"rotate("+n(t)+")"})).attr("stroke","gray").attr("stroke-width",.5);for(var r=Math.round(this.genome_size/t),i=this.circle_radius-8,a=[],o=0;o<t;o++){var c=this.circleCoordinates(o*r,i);a.push({coord:o*r,x:c.x,y:c.y})}this.svg.append("g").attr("class","coord-label-container").selectAll(".coord-label").data(a).enter().append("text").attr("class","coord-label").attr("font-size","3px").attr("text-anchor","middle").style("fill","gray").attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).text((function(t){return s(Math.round(t.coord/1e3))+" kb"})),this.svg.append("g").attr("class","genome-size-container").append("text").text(s(this.genome_size)+" bp").attr("x",0).attr("y",0).attr("text-anchor","middle").attr("font-size","4.5px")},t.prototype.createCircularBarplot=function(){var t=this.barplot_begin,e=this.barplot_end,n=this.createBinData(this.list_coordinates,this.bin_number,0,this.genome_size),r=d3.scaleBand().range([0,2*Math.PI]).align(0).domain(n.map((function(t){return t.bin_id}))),a=i(n).sort((function(t,e){return e.number_coords_proportion-t.number_coords_proportion}))[0].number_coords_proportion,o=d3.scaleRadial().range([t,e]).domain([0,a]);n.forEach((function(t){return t.y_placement=o(t.number_coords_proportion)}));var s=d3.scaleLinear().range([0,360]).domain([0,this.genome_size]),c=this;this.svg.append("g").attr("class","barplot-container").selectAll("path").data(n).enter().append("path").attr("fill",this.coord_color).attr("class","bin").on("click",(function(t){if(c.svg.selectAll(".bin").style("opacity","0.5"),d3.select(this).style("opacity","1.0"),c.addBarplotDetailed(t),c.active_rotation){var e=t.bin_start+(t.bin_end-t.bin_start)/2;c.applyRotation(-s(e)),c.emphasizeZero()}})).attr("d",d3.arc().innerRadius(t).outerRadius((function(t){return t.y_placement})).startAngle((function(t){return r(t.bin_id)})).endAngle((function(t){return r(t.bin_id)+r.bandwidth()})).padAngle(.01).padRadius(t))},t.prototype.addBarplotDetailed=function(t){this.svg.selectAll(".detailed-barplot").remove();var e=this.list_coordinates.filter((function(e){return e>=t.bin_start&&e<t.bin_end})),n=this.createBinData(e,20,t.bin_start,t.bin_end),r=t.bin_start+(t.bin_end-t.bin_start)/2,a=this.genome_size/20,o=d3.scaleLinear().range([0,2*Math.PI]).domain([0,this.genome_size]),c=o(r-a),l=o(r+a),u=d3.arc().startAngle(c).endAngle(l).innerRadius(this.detailed_barplot_begin).outerRadius(this.detailed_barplot_begin+.5),h=d3.scaleLinear().range([c,l]).domain([t.bin_start,t.bin_end]),d=i(n).sort((function(t,e){return e.number_coords_proportion-t.number_coords_proportion}))[0].number_coords_proportion,f=d3.scaleLinear().range([this.detailed_barplot_begin+1,this.detailed_barplot_end]).domain([0,d]);this.svg.append("g").attr("class","detailed-barplot").append("path").attr("class","detailed-barplot-axis").attr("d",u).style("fill",this.genome_color),this.svg.selectAll(".detailed-barplot").selectAll("detailed-bin").data(n).enter().append("path").attr("fill",this.coord_color).attr("class","detailed-bin").attr("d",d3.arc().innerRadius(f(0)).outerRadius((function(t){return f(t.number_coords_proportion)})).startAngle((function(t){return h(t.bin_start)})).endAngle((function(t){return h(t.bin_end)})));var g=d3.scaleLinear().range([0,360]).domain([0,2*Math.PI]);this.svg.selectAll(".detailed-barplot").selectAll("detailed-barplot-label").data([[t.bin_start,c],[t.bin_end,l]]).enter().append("text").attr("class","detailed-barplot-label").attr("text-anchor",(function(t,e){return 0===e?"end":"start"})).attr("x",0).attr("y",-this.detailed_barplot_begin-.5).attr("transform",(function(t){return"rotate("+g(t[1])+")"})).text((function(t){return s(t[0])})).attr("font-size","3px").attr("fill",this.coord_color);var p=[this.circleCoordinates(t.bin_start,t.y_placement),this.circleCoordinates(r-a,this.detailed_barplot_begin)],m=[this.circleCoordinates(t.bin_end,t.y_placement),this.circleCoordinates(r+a,this.detailed_barplot_begin)];this.svg.selectAll(".detailed-barplot").selectAll(".detailed-barplot-line").data([p,m]).enter().append("line").attr("stroke",this.coord_color).attr("stroke-width","0.5").attr("x1",(function(t){return t[0].x})).attr("y1",(function(t){return t[0].y})).attr("x2",(function(t){return t[1].x})).attr("y2",(function(t){return t[1].y})).style("stroke-dasharray","1, 1")},t.prototype.addGeneBarplot=function(t,e,n,r){var i=this;this.svg.select(".detailed-barplot").remove();var a=d3.scaleLinear().range([0,2*Math.PI]).domain([0,this.genome_size]),o=e-n/2,s=e+n/2,c=a(o),l=a(s),u=d3.arc().startAngle(c).endAngle(l).innerRadius(this.barplot_gene_begin).outerRadius(this.barplot_gene_begin+.5);this.svg.append("g").attr("class","detailed-barplot").append("path").attr("class","detailed-barplot-axis").attr("d",u).style("fill",this.genome_color);var h=[this.circleCoordinates(e-r/2,this.gene_begin+this.gene_tickness),this.circleCoordinates(o,this.barplot_gene_begin)],d=[this.circleCoordinates(e+r/2,this.gene_begin+this.gene_tickness),this.circleCoordinates(s,this.barplot_gene_begin)];this.svg.selectAll(".detailed-barplot").selectAll(".detailed-barplot-line").data([h,d]).enter().append("line").attr("stroke",this.gene_color).attr("stroke-width","0.5").attr("x1",(function(t){return t[0].x})).attr("y1",(function(t){return t[0].y})).attr("x2",(function(t){return t[1].x})).attr("y2",(function(t){return t[1].y})).style("stroke-dasharray","1, 1"),this.addGeneBarplotBins(20,c,l),t.length>1&&(this.svg.select(".detailed-barplot").append("text").attr("class","previous-next "+(this.current_gene.gene_in_triangle===t.length-1?" inactive":"")).text("Next gene").attr("y",-this.barplot_gene_end).attr("x",this.barplot_gene_begin).attr("text-anchor","end").on("click",(function(){i.current_gene.gene_in_triangle!==t.length-1&&(i.current_gene=Object.assign(Object.assign({},t[i.current_gene.gene_in_triangle+1]),{gene_in_triangle:i.current_gene.gene_in_triangle+1,gene_total:i.gene_coordinates.findIndex((function(e){return e===t[i.current_gene.gene_in_triangle+1]}))}),i.addGeneBarplot(t,e,n,r),i.applyRotation(i.current_rotation_angle))})),this.svg.select(".detailed-barplot").append("text").attr("class","previous-next "+(0===this.current_gene.gene_in_triangle?" inactive":"")).text("Previous gene").attr("y",-this.barplot_gene_end).attr("x",-this.barplot_gene_begin).attr("text-anchor","start").on("click",(function(){0!==i.current_gene.gene_in_triangle&&(i.current_gene=Object.assign(Object.assign({},t[i.current_gene.gene_in_triangle-1]),{gene_in_triangle:i.current_gene.gene_in_triangle-1,gene_total:i.gene_coordinates.findIndex((function(e){return e===t[i.current_gene.gene_in_triangle-1]}))}),i.addGeneBarplot(t,e,n,r),i.applyRotation(i.current_rotation_angle))})))},t.prototype.addGeneBarplotBins=function(t,e,n){var r=this,a=this.list_coordinates.filter((function(t){return t>=r.current_gene.start&&t<r.current_gene.end})),o=this.createBinData(a,t,this.current_gene.start,this.current_gene.end),c=d3.scaleLinear().range([e,n]).domain([this.current_gene.start,this.current_gene.end]),l=i(o).sort((function(t,e){return e.number_coords_proportion-t.number_coords_proportion}))[0].number_coords_proportion,u=d3.scaleLinear().range([this.barplot_gene_begin+1,this.barplot_gene_end]).domain([0,l]);this.svg.select(".detailed-barplot").selectAll("detailed-bin").data(o).enter().append("path").attr("fill",this.gene_color).attr("class","detailed-bin").attr("d",d3.arc().innerRadius(u(0)).outerRadius((function(t){return u(t.number_coords_proportion)})).startAngle((function(t){return c(t.bin_start)})).endAngle((function(t){return c(t.bin_end)})));var h=d3.scaleLinear().range([0,360]).domain([0,2*Math.PI]);this.svg.select(".detailed-barplot").selectAll("detailed-barplot-label").data([[this.current_gene.start,e],[this.current_gene.end,n]]).enter().append("text").attr("class","detailed-barplot-label").attr("text-anchor",(function(t,e){return 0===e?"end":"start"})).attr("x",0).attr("y",-this.barplot_gene_begin-.5).attr("transform",(function(t){return"rotate("+h(t[1])+")"})).text((function(t){return s(t[0])})).attr("font-size","3px").attr("fill",this.gene_color),this.svg.select(".detailed-barplot").append("text").attr("class","gene-name").text("Homologous gene "+this.current_gene.gene_number).attr("fill","black").attr("y",-this.barplot_gene_end-1).attr("text-anchor","middle").attr("font-size","4px")},t.prototype.addSingleCoordinatesTicks=function(){var t=d3.scaleLinear().range([-180,180]).domain([0,this.genome_size]),e=this.svg.append("g").attr("class","single-sgrna-ticks-container").selectAll("single-sgrna-ticks").data(this.selected_sgrna_coordinates).enter().append("line").attr("class",(function(t){var e=parseInt(/\(([0-9]*),/.exec(t)[1]);return"single-sgrna-ticks start"+e})).attr("stroke","white").attr("stroke-width","0.5").attr("x1",0).attr("x2",0).attr("y1",this.coordinates_begin).attr("y2",this.coordinates_end).attr("transform",(function(e){return"rotate("+t(parseInt(/\(([0-9]*),/.exec(e)[1]))+")"}));e.transition().delay(600).attr("stroke","#ff9999")},t.prototype.highlightCoordinatesTicks=function(t,e){var n=d3.scaleLinear().range([-180,180]).domain([0,this.genome_size]);this.svg.selectAll(".single-sgrna-ticks-container").selectAll(".singe-sgrna-ticks").data(t).enter().append("line").attr("class",(function(t){var e=parseInt(/\(([0-9]*),/.exec(t)[1]);return"single-sgrna-ticks start"+e})).attr("stroke",e).attr("stroke-width","0.5").attr("x1",0).attr("x2",0).attr("y1",this.coordinates_begin).attr("y2",this.coordinates_end).attr("transform",(function(t){return"rotate("+n(parseInt(/\(([0-9]*),/.exec(t)[1]))+")"}))},t.prototype.circleCoordinates=function(t,e){var n=d3.scaleLinear().range([0,2*Math.PI]).domain([0,this.genome_size]),r=n(t),i=Math.sin(r)*e,a=-Math.cos(r)*e;return{x:i,y:a}},t.prototype.displayGenes=function(){var t=this,e=d3.scaleLinear().range([0,360]).domain([0,this.genome_size]),n=this.genome_size/100,r=this.gatherGenesInTriangles(n),i=this.recenterTriangles(r),a=this;this.svg.append("g").attr("class","genes").selectAll(".gene-arc").data(i).enter().append("polygon").attr("points",(function(e){var r=e.start+(e.end-e.start)/2,i=n/2,a=t.circleCoordinates(r,t.gene_begin),o=t.circleCoordinates(r-i,t.gene_begin+t.gene_tickness),s=t.circleCoordinates(r+i,t.gene_begin+t.gene_tickness);return a.x+","+a.y+" "+o.x+","+o.y+" "+s.x+","+s.y})).attr("fill",this.gene_color).on("click",(function(r){a.svg.selectAll(".detailed-barplot").remove(),a.svg.selectAll(".bin").style("opacity","0.3");var i=r.start+(r.end-r.start)/2;t.current_gene=Object.assign(Object.assign({},r.genes[0]),{gene_in_triangle:0,gene_total:t.gene_coordinates.findIndex((function(t){return t===r.genes[0]}))}),a.addGeneBarplot(r.genes,i,t.genome_size/5,n),t.current_rotation_angle=-e(i),a.applyRotation(t.current_rotation_angle)}));var o=this.getGenePoints(i,n);this.svg.select(".genes").selectAll(".gene-points").data(o).enter().append("circle").attr("cx",(function(e){return t.circleCoordinates(e.coord,e.y).x})).attr("cy",(function(e){return t.circleCoordinates(e.coord,e.y).y})).attr("r",(function(t){return t.r})).attr("fill",this.gene_color)},t.prototype.gatherGenesInTriangles=function(t){var e=[];return this.gene_coordinates.forEach((function(n){var r=n.start+(n.end-n.start)/2,i=!0;e.forEach((function(e){var a=e.start+(e.end-e.start)/2;r-t/2<=a+t/2&&(e.genes.push(n),i=!1)})),i&&e.push({start:n.start,end:n.end,genes:[n]})})),e},t.prototype.getGenePoints=function(t,e,n,r){var i=this;void 0===n&&(n=2),void 0===r&&(r=3);var a=[];return t.map((function(t){var o=t.start+(t.end-t.start)/2-e/2,s=t.genes.length>=r?e/r:e/t.genes.length,c=s/2;if(t.genes.length>n*r)a.push({coord:t.start+(t.end-t.start)/2,r:.7,y:i.gene_begin+i.gene_tickness+1});else for(var l=0,u=0;u<t.genes.length;u++)u%r===0&&0!=u&&l++,a.push({coord:o+c+(u-r*l)*s,r:.4,y:i.gene_begin+i.gene_tickness+l+1})})),a},t.prototype.applyRotation=function(t,e){void 0===e&&(e=500),this.svg.transition().duration(e).attr("transform","rotate("+t+")"),this.svg.selectAll(".genome-size-container").transition().duration(e).attr("transform","rotate("+-t+")"),this.svg.selectAll(".coord-label-container text").transition().duration(e).attr("transform",(function(e){return"rotate("+-t+", "+e.x+", "+e.y+")"})),this.svg.selectAll(".gene-name,.previous-next").attr("transform","rotate("+-t+")")},t.prototype.emphasizeZero=function(){this.svg.select(".coord-tick").attr("stroke","red").attr("stroke-width",.7),this.svg.select(".coord-label").style("fill","red").style("font-weight","bold")},t.prototype.deEmphasizeZero=function(){this.svg.select(".coord-tick").attr("stroke","grey").attr("stroke-width",.5),this.svg.select(".coord-label").style("fill","grey").style("font-weight","normal")},t.prototype.addReinitializeEvent=function(){var t=this,e=this.element.shadowRoot.querySelector("svg");e.addEventListener("click",(function(e){var n=e.target.parentElement;n.classList.contains("barplot-container")||n.classList.contains("detailed-barplot")||n.classList.contains("genes")||(t.svg.selectAll(".detailed-barplot").remove(),t.svg.selectAll(".bin").style("opacity","1"),t.active_rotation&&(t.applyRotation(0),t.deEmphasizeZero()))}))},t.prototype.recenterTriangles=function(t){var e=[];return t.forEach((function(t){if(1===t.genes.length)e.push(t);else{var n=t.genes.reduce((function(t,e){return t+e.start}),0)/t.genes.length,r=t.genes.reduce((function(t,e){return t+e.end}),0)/t.genes.length;e.push({start:n,end:r,genes:t.genes})}})),e},t.prototype.componentDidRender=function(){this.svg?this.cleanSvg():this.initializeSvg(),this.displaySvgContent()},t.prototype.render=function(){return Object(r["e"])("div",{class:"circular-barplot-main"})},Object.defineProperty(t.prototype,"element",{get:function(){return Object(r["d"])(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"watchers",{get:function(){return{selected_sgrna_coordinates:["selectedSgrnaChange"]}},enumerable:!0,configurable:!0}),t}();function s(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}o.style=a;var c="",l=function(){function t(t){Object(r["f"])(this,t)}return t.prototype.componentDidLoad=function(){this.width=25,this.height=11;var t=this.element.shadowRoot.querySelector(".circular-barplot-legend-main");this.svg=d3.select(t).append("svg").attr("viewBox",[-this.width/2,-this.height/2,this.width,this.height]).append("g"),this.addSingleCoordinatesLegend(),this.addCoordBarplotLegend(),this.gene&&(this.addGeneTriangleLegend(),this.addGeneBarplotLegend())},t.prototype.addSingleCoordinatesLegend=function(){var t=this;this.svg.append("g").attr("class","single-coordinates-legend");var e=Array.from({length:30},(function(){return Math.random()})),n=d3.scaleLinear().domain([0,1]).range([0,360]);this.svg.append("g").selectAll("ticks").data(e).enter().append("line").attr("stroke","#ff9999").attr("stroke-width",.1).attr("x1",-this.width/2+2).attr("x2",-this.width/2+2).attr("y1",-this.height/2+1.6).attr("y2",-this.height/2+2).attr("transform",(function(e){return"rotate ("+n(e)+", "+(-t.width/2+2)+", "+(-t.height/2+1)+")"})),this.svg.append("text").attr("class","legend-text").attr("x",-this.width/2+4).attr("y",-this.height/2+1).text("Position(s) of current sgRNA along the genome").attr("font-size","0.8px").attr("dominant-baseline","middle")},t.prototype.addMiniBarplot=function(t,e,n){var r=d3.scaleLinear().domain([0,1]).range([0,2]),i=d3.scaleLinear().domain([0,3]).range([t,t+1.5]),a=[[0,.3],[1,.8],[2,.4],[3,1]];this.svg.append("g").selectAll("bin").data(a).enter().append("rect").attr("x",(function(t){return i(t[0])})).attr("y",e).attr("width",.4).attr("height",(function(t){return r(t[1])})).attr("fill",n).attr("transform","rotate(180, "+t+", "+e+")")},t.prototype.addCoordBarplotLegend=function(){this.addMiniBarplot(-this.width/2+3,this.height/2-6.5,"#66B032"),this.svg.append("text").attr("class","legend-text").attr("x",-this.width/2+4).attr("y",-this.height/2+3.5).text("Distribution of all sgRNAs positions along the genome").attr("font-size","0.8px").attr("dominant-baseline","middle")},t.prototype.addGeneTriangleLegend=function(){this.svg.append("polygon").attr("points"," "+(-this.width/2+2)+","+(-this.height/2+6.5)+" "+(-this.width/2+1.5)+","+(-this.height/2+5.5)+" "+(-this.width/2+2.5)+","+(-this.height/2+5.5)).attr("fill","#D5912A"),this.svg.append("text").attr("x",-this.width/2+4).attr("y",-this.height/2+6).text("Position(s) of homolog genes along genome").attr("font-size","0.8px").attr("dominant-baseline","middle")},t.prototype.addGeneBarplotLegend=function(){this.addMiniBarplot(-this.width/2+3,this.height/2-1.5,"#D5912A"),this.svg.append("text").attr("x",-this.width/2+4).attr("y",-this.height/2+8.5).text("Distribution of all sgRNAs along the gene").attr("font-size","0.8px").attr("dominant-baseline","middle")},t.prototype.render=function(){return Object(r["e"])("div",{class:"circular-barplot-legend-main"})},Object.defineProperty(t.prototype,"element",{get:function(){return Object(r["d"])(this)},enumerable:!0,configurable:!0}),t}();l.style=c;var u=".coord-box-root{height:12.6rem;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.coord-box-header{font-weight:bold;margin-bottom:0.5rem}.coord-box-content{margin-bottom:17px;height:100%;overflow:auto;white-space:pre-line;line-height:1.3em;border-style:solid;border-width:thin;border-radius:8px;border-color:#e4e4e4}li{list-style-type:none}li:hover{color:#ff0000}.coord-on-gene{color:grey;font-size:12px}",h=function(){function t(t){Object(r["f"])(this,t),this.onOverCoordinate=Object(r["c"])(this,"coord-box.coordinate-over",7),this.onOutCoordinate=Object(r["c"])(this,"coord-box.coordinate-out",7)}return t.prototype.render=function(){var t=this,e=this.current_sgrnas.find((function(e){return e.seq===t.selected.sgrna})).coords;return Object(r["e"])("div",{class:"coord-box-root"},Object(r["e"])("div",{class:"coord-box-header"},Object(r["e"])("span",null,this.selected.sgrna," has ",e.length," hit",1===e.length?"":"s"," in ",this.selected.ref," from ",this.selected.org,":")),Object(r["e"])("div",{class:"coord-box-content"},Object(r["e"])("ul",null,e.map((function(e){return Object(r["e"])("li",{onMouseOver:function(){return t.onOverCoordinate.emit(e.coord)},onMouseOut:function(){return t.onOutCoordinate.emit(e.coord)}},Object(r["e"])("span",null,e.coord),Object(r["e"])("span",{class:"coord-on-gene"},t.current_genes?e.is_on_gene.length>0?" "+e.is_on_gene:" not on gene":""))})))))},t}();h.style=u;var d='.dropdown-menu-root{display:grid;grid-template-columns:8em 30em;-webkit-column-gap:1em;-moz-column-gap:1em;column-gap:1em;grid-template-areas:"button select-org"\n        "button select-ref"\n        "button ncbi-link"\n        "button select-sgrna"}.select-sgrna{grid-area:select-sgrna}.select-org{grid-area:select-org}.select-ref{grid-area:select-ref}.link{padding-bottom:0.5em;padding-top:0.5em;padding-left:0.5em;color:#4d4d4d;display:-ms-flexbox;display:flex;grid-area:ncbi-link}.ncbi-link{color:#4d4d4d;display:-ms-flexbox;display:flex;color:#4d4d4d;-ms-flex-align:center;align-items:center;text-decoration:none}.ncbi-link:hover{color:rgba(239, 71, 111)}.ncbi-link>span{text-decoration:underline}.info-icon{font-size:20px !important;padding-right:0.2em;text-decoration:none}.highlight-sgrna-button{grid-area:button;border-radius:5px;background-color:#f9f9f9;border:1px #e4e4e4 solid;width:100%;text-align:center;-webkit-transition:background-color .3s;transition:background-color .3s}.highlight-sgrna-button:hover{background-color:#e6e6e6}.inside-sgrna-button{display:grid;grid-template-columns:-webkit-min-content auto;grid-template-columns:min-content auto}.inside-sgrna-button>span{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.inside-sgrna-button>i{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}',f=function(){function t(t){Object(r["f"])(this,t),this.organisms=[],this.fasta_refs=[],this.sgrnas=[],this.selected=void 0,this.ref_visible="hidden",this.sgrna_visible="hidden",this.onClickHighlightButton=Object(r["c"])(this,"dropdown-menu.display-button-click",7)}return t.prototype.isValidAccession=function(t){var e=new RegExp("^[A-Z]{1}[0-9]{5}$"),n=new RegExp("^[A-Z]{2}[0-9]{6}$"),r=new RegExp("^[A-Z]{2}[0-9]{8}$"),i=new RegExp("^[NA][CGTWZ]_");return i.test(t)||e.test(t)||n.test(t)||r.test(t)},t.prototype.displayNcbiLink=function(){if(this.selected.ref){var t=this.selected.ref.split(".")[0];return this.isValidAccession(t)?Object(r["e"])("div",{class:"link"},Object(r["e"])("a",{class:"ncbi-link",href:"https://www.ncbi.nlm.nih.gov/nuccore/"+t,target:"_blank"},Object(r["e"])("i",{class:"material-icons info-icon"},"pageview"),Object(r["e"])("span",null," ",this.selected.ref," NCBI page "))):Object(r["e"])("div",{class:"link"},Object(r["e"])("a",{class:"ncbi-link",href:"https://www.ncbi.nlm.nih.gov/nuccore/",target:"_blank"},Object(r["e"])("i",{class:"material-icons info-icon"},"pageview"),Object(r["e"])("span",null," General NCBI nucleotide page ")),Object(r["e"])("span",null," This accession is not a valid RefSeq or GenBank genomic accession"))}},t.prototype.render=function(){var t=this;return Object(r["e"])("div",{class:"dropdown-menu-root"},Object(r["e"])("button",{class:"highlight-sgrna-button",style:{visibility:this.selected.sgrna?"visible":"hidden"},onClick:function(){t.onClickHighlightButton.emit()}},Object(r["e"])("div",{class:"inside-sgrna-button"},Object(r["e"])("i",{class:"material-icons",style:{float:"left"}},"arrow_left"),Object(r["e"])("span",null," Display in the left pannel "))),Object(r["e"])("div",{class:"select-org"},Object(r["e"])("mmsb-select",{label:"Select organism",data:this.organisms.map((function(t){return[t,t]})),selected:this.selected.org?[this.selected.org]:[],onSelect:function(e){t.selectOrg(e)},boldOnSelected:!0})),Object(r["e"])("div",{class:"select-ref",style:{visibility:this.fasta_refs.length?"visible":"hidden"}},Object(r["e"])("mmsb-select",{label:"Select fasta query",data:this.fasta_refs.map((function(t){return[t,t]})),selected:this.selected.ref?[this.selected.ref]:[],onSelect:function(e){t.selectRef(e)},boldOnSelected:!0})),Object(r["e"])("div",{class:"ncbi-link-div",style:{visibility:this.selected.ref?"visible":"hidden"}},this.displayNcbiLink()),Object(r["e"])("div",{class:"select-sgrna",style:{visibility:this.sgrnas.length?"visible":"hidden"}},Object(r["e"])("mmsb-select",{label:"Select sgRNA sequence",data:this.sgrnas.map((function(t){return[t.seq,t.seq]})),selected:this.selected.sgrna?[this.selected.sgrna]:[],onSelect:function(e){t.selectSgrna(e)},boldOnSelected:!0})))},t}();function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function p(t){return 1===t.length&&(t=m(t)),{left:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function m(t){return function(e,n){return g(t(e),n)}}f.style=d;var v=p(g),_=v.right,y=Math.sqrt(50),b=Math.sqrt(10),w=Math.sqrt(2);function x(t,e,n){var r,i,a,o,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=k(t,e,n))||!isFinite(o))return[];if(o>0){t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));while(++s<i)a[s]=(t+s)*o}else{t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));while(++s<i)a[s]=(t-s)/o}return r&&a.reverse(),a}function k(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=y?10:a>=b?5:a>=w?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=y?10:a>=b?5:a>=w?2:1)}function M(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=y?i*=10:a>=b?i*=5:a>=w&&(i*=2),e<t?-i:i}function A(t,e){var n,r,i=t.length,a=-1;if(null==e){while(++a<i)if(null!=(n=t[a])&&n>=n){r=n;while(++a<i)null!=(n=t[a])&&n>r&&(r=n)}}else while(++a<i)if(null!=(n=e(t[a],a,t))&&n>=n){r=n;while(++a<i)null!=(n=e(t[a],a,t))&&n>r&&(r=n)}return r}function S(t,e){var n,r,i=t.length,a=-1;if(null==e){while(++a<i)if(null!=(n=t[a])&&n>=n){r=n;while(++a<i)null!=(n=t[a])&&r>n&&(r=n)}}else while(++a<i)if(null!=(n=e(t[a],a,t))&&n>=n){r=n;while(++a<i)null!=(n=e(t[a],a,t))&&r>n&&(r=n)}return r}function O(t,e){if(n=t.length){var n,r,i=0,a=0,o=t[a];null==e&&(e=g);while(++i<n)(e(r=t[i],o)<0||0!==e(o,o))&&(o=r,a=i);return 0===e(o,o)?a:void 0}}var C=Array.prototype.slice;function j(t){return t}var T=1,D=2,N=3,R=4,E=1e-6;function q(t){return"translate("+(t+.5)+",0)"}function z(t){return"translate(0,"+(t+.5)+")"}function L(t){return function(e){return+t(e)}}function U(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function F(){return!this.__axis}function P(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,c=t===T||t===R?-1:1,l=t===R||t===D?"x":"y",u=t===T||t===N?q:z;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,f=null==i?e.tickFormat?e.tickFormat.apply(e,n):j:i,g=Math.max(a,0)+s,p=e.range(),m=+p[0]+.5,v=+p[p.length-1]+.5,_=(e.bandwidth?U:L)(e.copy()),y=h.selection?h.selection():h,b=y.selectAll(".domain").data([null]),w=y.selectAll(".tick").data(d,e).order(),x=w.exit(),k=w.enter().append("g").attr("class","tick"),M=w.select("line"),A=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(k),M=M.merge(k.append("line").attr("stroke","currentColor").attr(l+"2",c*a)),A=A.merge(k.append("text").attr("fill","currentColor").attr(l,c*g).attr("dy",t===T?"0em":t===N?"0.71em":"0.32em")),h!==y&&(b=b.transition(h),w=w.transition(h),M=M.transition(h),A=A.transition(h),x=x.transition(h).attr("opacity",E).attr("transform",(function(t){return isFinite(t=_(t))?u(t):this.getAttribute("transform")})),k.attr("opacity",E).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:_(t))}))),x.remove(),b.attr("d",t===R||t==D?o?"M"+c*o+","+m+"H0.5V"+v+"H"+c*o:"M0.5,"+m+"V"+v:o?"M"+m+","+c*o+"V0.5H"+v+"V"+c*o:"M"+m+",0.5H"+v),w.attr("opacity",1).attr("transform",(function(t){return u(_(t))})),M.attr(l+"2",c*a),A.attr(l,c*g).text(f),y.filter(F).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===D?"start":t===R?"end":"middle"),y.each((function(){this.__axis=_}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=C.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:C.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:C.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function B(t){return P(T,t)}function H(t){return P(D,t)}function Y(t){return P(N,t)}function I(t){return P(R,t)}var V={value:function(){}};function X(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new G(r)}function G(t){this._=t}function Z(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function $(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function W(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=V,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}G.prototype=X.prototype={constructor:G,on:function(t,e){var n,r=this._,i=Z(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++a<o)if(n=(t=i[a]).type)r[n]=W(r[n],t.name,e);else if(null==e)for(n in r)r[n]=W(r[n],t.name,null);return this}while(++a<o)if((n=(t=i[a]).type)&&(n=$(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new G(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,n=r.length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var J="http://www.w3.org/1999/xhtml",Q={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Q.hasOwnProperty(e)?{space:Q[e],local:t}:t}function tt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===J&&e.documentElement.namespaceURI===J?e.createElement(t):e.createElementNS(n,t)}}function et(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function nt(t){var e=K(t);return(e.local?et:tt)(e)}function rt(){}function it(t){return null==t?rt:function(){return this.querySelector(t)}}function at(t){"function"!==typeof t&&(t=it(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(o=t.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),l[u]=o);return new Fe(r,this._parents)}function ot(){return[]}function st(t){return null==t?ot:function(){return this.querySelectorAll(t)}}function ct(t){"function"!==typeof t&&(t=st(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],c=s.length,l=0;l<c;++l)(o=s[l])&&(r.push(t.call(o,o.__data__,l,s)),i.push(o));return new Fe(r,i)}function lt(t){return function(){return this.matches(t)}}function ut(t){"function"!==typeof t&&(t=lt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,c=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&c.push(a);return new Fe(r,this._parents)}function ht(t){return new Array(t.length)}function dt(){return new Fe(this._enter||this._groups.map(ht),this._parents)}function ft(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function gt(t){return function(){return t}}ft.prototype={constructor:ft,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var pt="$";function mt(t,e,n,r,i,a){for(var o,s=0,c=e.length,l=a.length;s<l;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new ft(t,a[s]);for(;s<c;++s)(o=e[s])&&(i[s]=o)}function vt(t,e,n,r,i,a,o){var s,c,l,u={},h=e.length,d=a.length,f=new Array(h);for(s=0;s<h;++s)(c=e[s])&&(f[s]=l=pt+o.call(c,c.__data__,s,e),l in u?i[s]=c:u[l]=c);for(s=0;s<d;++s)l=pt+o.call(t,a[s],s,a),(c=u[l])?(r[s]=c,c.__data__=a[s],u[l]=null):n[s]=new ft(t,a[s]);for(s=0;s<h;++s)(c=e[s])&&u[f[s]]===c&&(i[s]=c)}function _t(t,e){if(!t)return f=new Array(this.size()),l=-1,this.each((function(t){f[++l]=t})),f;var n=e?vt:mt,r=this._parents,i=this._groups;"function"!==typeof t&&(t=gt(t));for(var a=i.length,o=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var u=r[l],h=i[l],d=h.length,f=t.call(u,u&&u.__data__,l,r),g=f.length,p=s[l]=new Array(g),m=o[l]=new Array(g),v=c[l]=new Array(d);n(u,h,p,m,v,f,e);for(var _,y,b=0,w=0;b<g;++b)if(_=p[b]){b>=w&&(w=b+1);while(!(y=m[w])&&++w<g);_._next=y||null}}return o=new Fe(o,r),o._enter=s,o._exit=c,o}function yt(){return new Fe(this._exit||this._groups.map(ht),this._parents)}function bt(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i}function wt(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c,l=e[s],u=n[s],h=l.length,d=o[s]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;s<r;++s)o[s]=e[s];return new Fe(o,this._parents)}function xt(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this}function kt(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Mt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],c=s.length,l=i[a]=new Array(c),u=0;u<c;++u)(o=s[u])&&(l[u]=o);l.sort(e)}return new Fe(i,this._parents).order()}function Mt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function At(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function St(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t}function Ot(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Ct(){var t=0;return this.each((function(){++t})),t}function jt(){return!this.node()}function Tt(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this}function Dt(t){return function(){this.removeAttribute(t)}}function Nt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rt(t,e){return function(){this.setAttribute(t,e)}}function Et(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function zt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Lt(t,e){var n=K(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Nt:Dt:"function"===typeof e?n.local?zt:qt:n.local?Et:Rt)(n,e))}function Ut(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ft(t){return function(){this.style.removeProperty(t)}}function Pt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Bt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ht(t,e,n){return arguments.length>1?this.each((null==e?Ft:"function"===typeof e?Bt:Pt)(t,e,null==n?"":n)):Yt(this.node(),t)}function Yt(t,e){return t.style.getPropertyValue(e)||Ut(t).getComputedStyle(t,null).getPropertyValue(e)}function It(t){return function(){delete this[t]}}function Vt(t,e){return function(){this[t]=e}}function Xt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Gt(t,e){return arguments.length>1?this.each((null==e?It:"function"===typeof e?Xt:Vt)(t,e)):this.node()[t]}function Zt(t){return t.trim().split(/^|\s+/)}function $t(t){return t.classList||new Wt(t)}function Wt(t){this._node=t,this._names=Zt(t.getAttribute("class")||"")}function Jt(t,e){var n=$t(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function Qt(t,e){var n=$t(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function Kt(t){return function(){Jt(this,t)}}function te(t){return function(){Qt(this,t)}}function ee(t,e){return function(){(e.apply(this,arguments)?Jt:Qt)(this,t)}}function ne(t,e){var n=Zt(t+"");if(arguments.length<2){var r=$t(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?ee:e?Kt:te)(n,e))}function re(){this.textContent=""}function ie(t){return function(){this.textContent=t}}function ae(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function oe(t){return arguments.length?this.each(null==t?re:("function"===typeof t?ae:ie)(t)):this.node().textContent}function se(){this.innerHTML=""}function ce(t){return function(){this.innerHTML=t}}function le(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ue(t){return arguments.length?this.each(null==t?se:("function"===typeof t?le:ce)(t)):this.node().innerHTML}function he(){this.nextSibling&&this.parentNode.appendChild(this)}function de(){return this.each(he)}function fe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ge(){return this.each(fe)}function pe(t){var e="function"===typeof t?t:nt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function me(){return null}function ve(t,e){var n="function"===typeof t?t:nt(t),r=null==e?me:"function"===typeof e?e:it(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function _e(){var t=this.parentNode;t&&t.removeChild(this)}function ye(){return this.each(_e)}function be(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function we(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xe(t){return this.select(t?we:be)}function ke(t){return arguments.length?this.property("__data__",t):this.node().__data__}Wt.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Me={},Ae=null;if("undefined"!==typeof document){var Se=document.documentElement;"onmouseenter"in Se||(Me={mouseenter:"mouseover",mouseleave:"mouseout"})}function Oe(t,e,n){return t=Ce(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Ce(t,e,n){return function(r){var i=Ae;Ae=r;try{t.call(this,this.__data__,e,n)}finally{Ae=i}}}function je(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Te(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function De(t,e,n){var r=Me.hasOwnProperty(t.type)?Oe:Ce;return function(i,a,o){var s,c=this.__on,l=r(e,a,o);if(c)for(var u=0,h=c.length;u<h;++u)if((s=c[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function Ne(t,e,n){var r,i,a=je(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?De:Te,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<o;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value}function Re(t,e,n,r){var i=Ae;t.sourceEvent=Ae,Ae=t;try{return e.apply(n,r)}finally{Ae=i}}function Ee(t,e,n){var r=Ut(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function qe(t,e){return function(){return Ee(this,t,e)}}function ze(t,e){return function(){return Ee(this,t,e.apply(this,arguments))}}function Le(t,e){return this.each(("function"===typeof e?ze:qe)(t,e))}var Ue=[null];function Fe(t,e){this._groups=t,this._parents=e}function Pe(){return new Fe([[document.documentElement]],Ue)}function Be(t){return"string"===typeof t?new Fe([[document.querySelector(t)]],[document.documentElement]):new Fe([[t]],Ue)}function He(){var t,e=Ae;while(t=e.sourceEvent)e=t;return e}function Ye(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Ie(t){var e=He();return e.changedTouches&&(e=e.changedTouches[0]),Ye(t,e)}function Ve(t,e,n){arguments.length<3&&(n=e,e=He().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return Ye(t,r);return null}function Xe(){Ae.stopImmediatePropagation()}function Ge(){Ae.preventDefault(),Ae.stopImmediatePropagation()}function Ze(t){var e=t.document.documentElement,n=Be(t).on("dragstart.drag",Ge,!0);"onselectstart"in e?n.on("selectstart.drag",Ge,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $e(t,e){var n=t.document.documentElement,r=Be(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ge,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function We(t){return function(){return t}}function Je(t,e,n,r,i,a,o,s,c,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=c,this._=l}function Qe(){return!Ae.ctrlKey&&!Ae.button}function Ke(){return this.parentNode}function tn(t){return null==t?{x:Ae.x,y:Ae.y}:t}function en(){return navigator.maxTouchPoints||"ontouchstart"in this}function nn(){var t,e,n,r,i=Qe,a=Ke,o=tn,s=en,c={},l=X("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",m).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!r&&i.apply(this,arguments)){var o=y("mouse",a.apply(this,arguments),Ie,this,arguments);o&&(Be(Ae.view).on("mousemove.drag",g,!0).on("mouseup.drag",p,!0),Ze(Ae.view),Xe(),n=!1,t=Ae.clientX,e=Ae.clientY,o("start"))}}function g(){if(Ge(),!n){var r=Ae.clientX-t,i=Ae.clientY-e;n=r*r+i*i>h}c.mouse("drag")}function p(){Be(Ae.view).on("mousemove.drag mouseup.drag",null),$e(Ae.view,n),Ge(),c.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=Ae.changedTouches,r=a.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=y(n[t].identifier,r,Ve,this,arguments))&&(Xe(),e("start"))}}function v(){var t,e,n=Ae.changedTouches,r=n.length;for(t=0;t<r;++t)(e=c[n[t].identifier])&&(Ge(),e("drag"))}function _(){var t,e,n=Ae.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=c[n[t].identifier])&&(Xe(),e("end"))}function y(t,e,n,r,i){var a,s,h,f=n(e,t),g=l.copy();if(Re(new Je(d,"beforestart",a,t,u,f[0],f[1],0,0,g),(function(){return null!=(Ae.subject=a=o.apply(r,i))&&(s=a.x-f[0]||0,h=a.y-f[1]||0,!0)})))return function o(l){var p,m=f;switch(l){case"start":c[t]=o,p=u++;break;case"end":delete c[t],--u;case"drag":f=n(e,t),p=u;break}Re(new Je(d,l,a,t,p,f[0]+s,f[1]+h,f[0]-m[0],f[1]-m[1],g),g.apply,g,[l,r,i])}}return d.filter=function(t){return arguments.length?(i="function"===typeof t?t:We(!!t),d):i},d.container=function(t){return arguments.length?(a="function"===typeof t?t:We(t),d):a},d.subject=function(t){return arguments.length?(o="function"===typeof t?t:We(t),d):o},d.touchable=function(t){return arguments.length?(s="function"===typeof t?t:We(!!t),d):s},d.on=function(){var t=l.on.apply(l,arguments);return t===l?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}function rn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function an(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function on(){}Fe.prototype=Pe.prototype={constructor:Fe,select:at,selectAll:ct,filter:ut,data:_t,enter:dt,exit:yt,join:bt,merge:wt,order:xt,sort:kt,call:At,nodes:St,node:Ot,size:Ct,empty:jt,each:Tt,attr:Lt,style:Ht,property:Gt,classed:ne,text:oe,html:ue,raise:de,lower:ge,append:pe,insert:ve,remove:ye,clone:xe,datum:ke,on:Ne,dispatch:Le},Je.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var sn=.7,cn=1/sn,ln="\\s*([+-]?\\d+)\\s*",un="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dn=/^#([0-9a-f]{3,8})$/,fn=new RegExp("^rgb\\("+[ln,ln,ln]+"\\)$"),gn=new RegExp("^rgb\\("+[hn,hn,hn]+"\\)$"),pn=new RegExp("^rgba\\("+[ln,ln,ln,un]+"\\)$"),mn=new RegExp("^rgba\\("+[hn,hn,hn,un]+"\\)$"),vn=new RegExp("^hsl\\("+[un,hn,hn]+"\\)$"),_n=new RegExp("^hsla\\("+[un,hn,hn,un]+"\\)$"),yn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bn(){return this.rgb().formatHex()}function wn(){return Rn(this).formatHsl()}function xn(){return this.rgb().formatRgb()}function kn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Mn(e):3===n?new Cn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?An(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?An(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=fn.exec(t))?new Cn(e[1],e[2],e[3],1):(e=gn.exec(t))?new Cn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=pn.exec(t))?An(e[1],e[2],e[3],e[4]):(e=mn.exec(t))?An(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=vn.exec(t))?Nn(e[1],e[2]/100,e[3]/100,1):(e=_n.exec(t))?Nn(e[1],e[2]/100,e[3]/100,e[4]):yn.hasOwnProperty(t)?Mn(yn[t]):"transparent"===t?new Cn(NaN,NaN,NaN,0):null}function Mn(t){return new Cn(t>>16&255,t>>8&255,255&t,1)}function An(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cn(t,e,n,r)}function Sn(t){return t instanceof on||(t=kn(t)),t?(t=t.rgb(),new Cn(t.r,t.g,t.b,t.opacity)):new Cn}function On(t,e,n,r){return 1===arguments.length?Sn(t):new Cn(t,e,n,null==r?1:r)}function Cn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function jn(){return"#"+Dn(this.r)+Dn(this.g)+Dn(this.b)}function Tn(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Dn(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Nn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qn(t,e,n,r)}function Rn(t){if(t instanceof qn)return new qn(t.h,t.s,t.l,t.opacity);if(t instanceof on||(t=kn(t)),!t)return new qn;if(t instanceof qn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new qn(o,s,c,t.opacity)}function En(t,e,n,r){return 1===arguments.length?Rn(t):new qn(t,e,n,null==r?1:r)}function qn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function zn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ln(t){return function(){return t}}function Un(t,e){return function(n){return t+n*e}}function Fn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Pn(t){return 1===(t=+t)?Bn:function(e,n){return n-e?Fn(e,n,t):Ln(isNaN(e)?n:e)}}function Bn(t,e){var n=e-t;return n?Un(t,n):Ln(isNaN(t)?e:t)}rn(on,kn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:bn,formatHex:bn,formatHsl:wn,formatRgb:xn,toString:xn}),rn(Cn,On,an(on,{brighter:function(t){return t=null==t?cn:Math.pow(cn,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?sn:Math.pow(sn,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jn,formatHex:jn,formatRgb:Tn,toString:Tn})),rn(qn,En,an(on,{brighter:function(t){return t=null==t?cn:Math.pow(cn,t),new qn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?sn:Math.pow(sn,t),new qn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cn(zn(t>=240?t-240:t+120,i,r),zn(t,i,r),zn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Hn=function t(e){var n=Pn(e);function r(t,e){var r=n((t=On(t)).r,(e=On(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Bn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Yn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function In(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Vn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=tr(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function Xn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Zn(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=tr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var $n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wn=new RegExp($n.source,"g");function Jn(t){return function(){return t}}function Qn(t){return function(e){return t(e)+""}}function Kn(t,e){var n,r,i,a=$n.lastIndex=Wn.lastIndex=0,o=-1,s=[],c=[];t+="",e+="";while((n=$n.exec(t))&&(r=Wn.exec(e)))(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,c.push({i:o,x:Gn(n,r)})),a=Wn.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?Qn(c[0].x):Jn(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function tr(t,e){var n,r=typeof e;return null==e||"boolean"===r?Ln(e):("number"===r?Gn:"string"===r?(n=kn(e))?(e=n,Hn):Kn:e instanceof kn?Hn:e instanceof Date?Xn:In(e)?Yn:Array.isArray(e)?Vn:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?Zn:Gn)(t,e)}function er(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var nr,rr,ir,ar,or=180/Math.PI,sr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cr(t,e,n,r,i,a){var o,s,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*or,skewX:Math.atan(c)*or,scaleX:o,scaleY:s}}function lr(t){return"none"===t?sr:(nr||(nr=document.createElement("DIV"),rr=document.documentElement,ir=document.defaultView),nr.style.transform=t,t=ir.getComputedStyle(rr.appendChild(nr),null).getPropertyValue("transform"),rr.removeChild(nr),t=t.slice(7,-1).split(","),cr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ur(t){return null==t?sr:(ar||(ar=document.createElementNS("http://www.w3.org/2000/svg","g")),ar.setAttribute("transform",t),(t=ar.transform.baseVal.consolidate())?(t=t.matrix,cr(t.a,t.b,t.c,t.d,t.e,t.f)):sr)}function hr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var c=o.push("translate(",null,e,null,n);s.push({i:c-4,x:Gn(t,i)},{i:c-2,x:Gn(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}function o(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Gn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Gn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function c(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Gn(t,n)},{i:s-2,x:Gn(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),o(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),c(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,a=i.length;while(++n<a)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var dr,fr,gr=hr(lr,"px, ","px)","deg)"),pr=hr(ur,", ",")",")"),mr=0,vr=0,_r=0,yr=1e3,br=0,wr=0,xr=0,kr="object"===typeof performance&&performance.now?performance:Date,Mr="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ar(){return wr||(Mr(Sr),wr=kr.now()+xr)}function Sr(){wr=0}function Or(){this._call=this._time=this._next=null}function Cr(t,e,n){var r=new Or;return r.restart(t,e,n),r}function jr(){Ar(),++mr;var t,e=dr;while(e)(t=wr-e._time)>=0&&e._call.call(null,t),e=e._next;--mr}function Tr(){wr=(br=kr.now())+xr,mr=vr=0;try{jr()}finally{mr=0,Nr(),wr=0}}function Dr(){var t=kr.now(),e=t-br;e>yr&&(xr-=e,br=t)}function Nr(){var t,e,n=dr,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:dr=e);fr=t,Rr(r)}function Rr(t){if(!mr){vr&&(vr=clearTimeout(vr));var e=t-wr;e>24?(t<1/0&&(vr=setTimeout(Tr,t-kr.now()-xr)),_r&&(_r=clearInterval(_r))):(_r||(br=kr.now(),_r=setInterval(Dr,yr)),mr=1,Mr(Tr))}}function Er(t,e,n){var r=new Or;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Or.prototype=Cr.prototype={constructor:Or,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Ar():+n)+(null==e?0:+e),this._next||fr===this||(fr?fr._next=this:dr=this,fr=this),this._call=t,this._time=n,Rr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rr())}};var qr=X("start","end","cancel","interrupt"),zr=[],Lr=0,Ur=1,Fr=2,Pr=3,Br=4,Hr=5,Yr=6;function Ir(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};Zr(t,n,{name:e,index:r,group:i,on:qr,tween:zr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Lr})}function Vr(t,e){var n=Gr(t,e);if(n.state>Lr)throw new Error("too late; already scheduled");return n}function Xr(t,e){var n=Gr(t,e);if(n.state>Pr)throw new Error("too late; already running");return n}function Gr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Zr(t,e,n){var r,i=t.__transition;function a(t){n.state=Ur,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var l,u,h,d;if(n.state!==Ur)return c();for(l in i)if(d=i[l],d.name===n.name){if(d.state===Pr)return Er(o);d.state===Br?(d.state=Yr,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[l]):+l<e&&(d.state=Yr,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[l])}if(Er((function(){n.state===Pr&&(n.state=Br,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=Fr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fr){for(n.state=Pr,r=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(c),n.state=Hr,1),a=-1,o=r.length;while(++a<o)r[a].call(t,i);n.state===Hr&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var r in n.state=Yr,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Cr(a,0,n.time)}function $r(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Fr&&n.state<Hr,n.state=Yr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}function Wr(t){return this.each((function(){$r(this,t)}))}function Jr(t,e){var n,r;return function(){var i=Xr(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Qr(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=Xr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}a.tween=i}}function Kr(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Gr(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Jr:Qr)(n,t,e))}function ti(t,e,n){var r=t._id;return t.each((function(){var t=Xr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Gr(t,r).value[e]}}function ei(t,e){var n;return("number"===typeof e?Gn:e instanceof kn?Hn:(n=kn(e))?(e=n,Hn):Kn)(t,e)}function ni(t){return function(){this.removeAttribute(t)}}function ri(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ii(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function ai(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function oi(t,e,n){var r,i,a;return function(){var o,s,c=n(this);if(null!=c)return o=this.getAttribute(t),s=c+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,c));this.removeAttribute(t)}}function si(t,e,n){var r,i,a;return function(){var o,s,c=n(this);if(null!=c)return o=this.getAttributeNS(t.space,t.local),s=c+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,c));this.removeAttributeNS(t.space,t.local)}}function ci(t,e){var n=K(t),r="transform"===n?pr:ei;return this.attrTween(t,"function"===typeof e?(n.local?si:oi)(n,r,ti(this,"attr."+t,e)):null==e?(n.local?ri:ni)(n):(n.local?ai:ii)(n,r,e))}function li(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ui(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function hi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ui(t,i)),n}return i._value=e,i}function di(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&li(t,i)),n}return i._value=e,i}function fi(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=K(t);return this.tween(n,(r.local?hi:di)(r,e))}function gi(t,e){return function(){Vr(this,t).delay=+e.apply(this,arguments)}}function pi(t,e){return e=+e,function(){Vr(this,t).delay=e}}function mi(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?gi:pi)(e,t)):Gr(this.node(),e).delay}function vi(t,e){return function(){Xr(this,t).duration=+e.apply(this,arguments)}}function _i(t,e){return e=+e,function(){Xr(this,t).duration=e}}function yi(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?vi:_i)(e,t)):Gr(this.node(),e).duration}function bi(t,e){if("function"!==typeof e)throw new Error;return function(){Xr(this,t).ease=e}}function wi(t){var e=this._id;return arguments.length?this.each(bi(e,t)):Gr(this.node(),e).ease}function xi(t){"function"!==typeof t&&(t=lt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,c=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&c.push(a);return new Ji(r,this._parents,this._name,this._id)}function ki(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var c,l=e[s],u=n[s],h=l.length,d=o[s]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;s<r;++s)o[s]=e[s];return new Ji(o,this._parents,this._name,this._id)}function Mi(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function Ai(t,e,n){var r,i,a=Mi(e)?Vr:Xr;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function Si(t,e){var n=this._id;return arguments.length<2?Gr(this.node(),n).on.on(t):this.each(Ai(n,t,e))}function Oi(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ci(){return this.on("end.remove",Oi(this._id))}function ji(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=it(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,c,l=r[o],u=l.length,h=a[o]=new Array(u),d=0;d<u;++d)(s=l[d])&&(c=t.call(s,s.__data__,d,l))&&("__data__"in s&&(c.__data__=s.__data__),h[d]=c,Ir(h[d],e,n,d,h,Gr(s,n)));return new Ji(a,this._parents,e,n)}function Ti(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=st(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var d,f=t.call(c,c.__data__,h,l),g=Gr(c,n),p=0,m=f.length;p<m;++p)(d=f[p])&&Ir(d,e,n,p,f,g);a.push(f),o.push(c)}return new Ji(a,o,e,n)}var Di=Pe.prototype.constructor;function Ni(){return new Di(this._groups,this._parents)}function Ri(t,e){var n,r,i;return function(){var a=Yt(this,t),o=(this.style.removeProperty(t),Yt(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Ei(t){return function(){this.style.removeProperty(t)}}function qi(t,e,n){var r,i,a=n+"";return function(){var o=Yt(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}function zi(t,e,n){var r,i,a;return function(){var o=Yt(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=Yt(this,t)),o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,s))}}function Li(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var c=Xr(this,t),l=c.on,u=null==c.value[o]?a||(a=Ei(e)):void 0;l===n&&i===u||(r=(n=l).copy()).on(s,i=u),c.on=r}}function Ui(t,e,n){var r="transform"===(t+="")?gr:ei;return null==e?this.styleTween(t,Ri(t,r)).on("end.style."+t,Ei(t)):"function"===typeof e?this.styleTween(t,zi(t,r,ti(this,"style."+t,e))).each(Li(this._id,t)):this.styleTween(t,qi(t,r,e),n).on("end.style."+t,null)}function Fi(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Pi(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Fi(t,a,n)),r}return a._value=e,a}function Bi(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,Pi(t,e,null==n?"":n))}function Hi(t){return function(){this.textContent=t}}function Yi(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Ii(t){return this.tween("text","function"===typeof t?Yi(ti(this,"text",t)):Hi(null==t?"":t+""))}function Vi(t){return function(e){this.textContent=t.call(this,e)}}function Xi(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Vi(r)),e}return r._value=t,r}function Gi(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Xi(t))}function Zi(){for(var t=this._name,e=this._id,n=Ki(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,l=0;l<c;++l)if(o=s[l]){var u=Gr(o,e);Ir(o,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ji(r,this._parents,t,n)}function $i(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},c={value:function(){0===--i&&a()}};n.each((function(){var n=Xr(this,r),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e}))}))}var Wi=0;function Ji(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Qi(t){return Pe().transition(t)}function Ki(){return++Wi}var ta=Pe.prototype;function ea(t){return t*(2-t)}function na(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ji.prototype=Qi.prototype={constructor:Ji,select:ji,selectAll:Ti,filter:xi,merge:ki,selection:Ni,transition:Zi,call:ta.call,nodes:ta.nodes,node:ta.node,size:ta.size,empty:ta.empty,each:ta.each,on:Si,attr:ci,attrTween:fi,style:Ui,styleTween:Bi,text:Ii,textTween:Gi,remove:Ci,tween:Kr,delay:mi,duration:yi,ease:wi,end:$i};var ra={time:null,delay:0,duration:250,ease:na};function ia(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))return ra.time=Ar(),ra;return n}function aa(t){var e,n;t instanceof Ji?(e=t._id,t=t._name):(e=Ki(),(n=ra).time=Ar(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],c=s.length,l=0;l<c;++l)(o=s[l])&&Ir(o,t,e,l,s,n||ia(o,e));return new Ji(r,this._parents,t,e)}function oa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sa(t){return t=oa(Math.abs(t)),t?t[1]:NaN}function ca(t,e){return function(n,r){var i=n.length,a=[],o=0,s=t[0],c=0;while(i>0&&s>0){if(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),(c+=s+1)>r)break;s=t[o=(o+1)%t.length]}return a.reverse().join(e)}}function la(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}Pe.prototype.interrupt=Wr,Pe.prototype.transition=aa;var ua,ha=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function da(t){if(!(e=ha.exec(t)))throw new Error("invalid format: "+t);var e;return new fa({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function fa(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ga(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(e+1):t}function pa(t,e){var n=oa(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(ua=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+oa(t,Math.max(0,e+a-1))[0]}function ma(t,e){var n=oa(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}da.prototype=fa.prototype,fa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var va={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ma(100*t,e)},r:ma,s:pa,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function _a(t){return t}var ya,ba,wa,xa=Array.prototype.map,ka=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ma(t){var e=void 0===t.grouping||void 0===t.thousands?_a:ca(xa.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?_a:la(xa.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function l(t){t=da(t);var l=t.fill,u=t.align,h=t.sign,d=t.symbol,f=t.zero,g=t.width,p=t.comma,m=t.precision,v=t.trim,_=t.type;"n"===_?(p=!0,_="g"):va[_]||(void 0===m&&(m=12),v=!0,_="g"),(f||"0"===l&&"="===u)&&(f=!0,l="0",u="=");var y="$"===d?n:"#"===d&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",b="$"===d?r:/[%p]/.test(_)?o:"",w=va[_],x=/[defgprs%]/.test(_);function k(t){var n,r,o,d=y,k=b;if("c"===_)k=w(t)+k,t="";else{t=+t;var M=t<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),m),v&&(t=ga(t)),M&&0===+t&&"+"!==h&&(M=!1),d=(M?"("===h?h:s:"-"===h||"("===h?"":h)+d,k=("s"===_?ka[8+ua/3]:"")+k+(M&&"("===h?")":""),x){n=-1,r=t.length;while(++n<r)if(o=t.charCodeAt(n),48>o||o>57){k=(46===o?i+t.slice(n+1):t.slice(n))+k,t=t.slice(0,n);break}}}p&&!f&&(t=e(t,1/0));var A=d.length+t.length+k.length,S=A<g?new Array(g-A+1).join(l):"";switch(p&&f&&(t=e(S+t,S.length?g-k.length:1/0),S=""),u){case"<":t=d+t+k+S;break;case"=":t=d+S+t+k;break;case"^":t=S.slice(0,A=S.length>>1)+d+t+k+S.slice(A);break;default:t=S+d+t+k;break}return a(t)}return m=void 0===m?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}function u(t,e){var n=l((t=da(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(sa(e)/3))),i=Math.pow(10,-r),a=ka[8+r/3];return function(t){return n(i*t)+a}}return{format:l,formatPrefix:u}}function Aa(t){return ya=Ma(t),ba=ya.format,wa=ya.formatPrefix,ya}function Sa(t){return Math.max(0,-sa(Math.abs(t)))}function Oa(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sa(e)/3)))-sa(Math.abs(t)))}function Ca(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sa(e)-sa(t))+1}function ja(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}Aa({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Ta=Array.prototype,Da=Ta.map,Na=Ta.slice;function Ra(t){return function(){return t}}function Ea(t){return+t}var qa=[0,1];function za(t){return t}function La(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ra(isNaN(e)?NaN:.5)}function Ua(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Fa(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=La(i,r),a=n(o,a)):(r=La(r,i),a=n(a,o)),function(t){return a(r(t))}}function Pa(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++o<r)i[o]=La(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=_(t,e,1,r)-1;return a[n](i[n](e))}}function Ba(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ha(){var t,e,n,r,i,a,o=qa,s=qa,c=tr,l=za;function u(){return r=Math.min(o.length,s.length)>2?Pa:Fa,i=a=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,c)))(t(l(e)))}return h.invert=function(n){return l(e((a||(a=r(s,o.map(t),Gn)))(n)))},h.domain=function(t){return arguments.length?(o=Da.call(t,Ea),l===za||(l=Ua(o)),u()):o.slice()},h.range=function(t){return arguments.length?(s=Na.call(t),u()):s.slice()},h.rangeRound=function(t){return s=Na.call(t),c=er,u()},h.clamp=function(t){return arguments.length?(l=t?Ua(o):za,h):l!==za},h.interpolate=function(t){return arguments.length?(c=t,u()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Ya(t,e){return Ha()(t,e)}function Ia(t,e,n,r){var i,a=M(t,e,n);switch(r=da(null==r?",f":r),r.type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Oa(a,o))||(r.precision=i),wa(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Ca(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Sa(a))||(r.precision=i-2*("%"===r.type));break}return ba(r)}function Va(t){var e=t.domain;return t.ticks=function(t){var n=e();return x(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Ia(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],c=i[o];return c<s&&(r=s,s=c,c=r,r=a,a=o,o=r),r=k(s,c,n),r>0?(s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r,r=k(s,c,n)):r<0&&(s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r,r=k(s,c,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(c/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(c*r)/r,e(i)),t},t}function Xa(){var t=Ya(za,za);return t.copy=function(){return Ba(t,Xa())},ja.apply(t,arguments),Va(t)}function Ga(t,e){t=t.slice();var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}var Za=new Date,$a=new Date;function Wa(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return Wa((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)while(++r<=0)while(e(t,-1),!n(t));else while(--r>=0)while(e(t,1),!n(t));}))},n&&(i.count=function(e,r){return Za.setTime(+e),$a.setTime(+r),t(Za),t($a),Math.floor(n(Za,$a))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var Ja=Wa((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ja.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Wa((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ja:null};var Qa=1e3,Ka=6e4,to=36e5,eo=864e5,no=6048e5,ro=Wa((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Qa)}),(function(t,e){return(e-t)/Qa}),(function(t){return t.getUTCSeconds()})),io=Wa((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qa)}),(function(t,e){t.setTime(+t+e*Ka)}),(function(t,e){return(e-t)/Ka}),(function(t){return t.getMinutes()})),ao=Wa((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qa-t.getMinutes()*Ka)}),(function(t,e){t.setTime(+t+e*to)}),(function(t,e){return(e-t)/to}),(function(t){return t.getHours()})),oo=Wa((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ka)/eo}),(function(t){return t.getDate()-1}));function so(t){return Wa((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ka)/no}))}var co=so(0),lo=so(1),uo=(so(2),so(3),so(4)),ho=(so(5),so(6),Wa((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),fo=Wa((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));fo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Wa((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var go=Wa((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/eo}),(function(t){return t.getUTCDate()-1}));function po(t){return Wa((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/no}))}var mo=po(0),vo=po(1),_o=(po(2),po(3),po(4)),yo=(po(5),po(6),Wa((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));function bo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function wo(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xo(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ko(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,l=No(i),u=Ro(i),h=No(a),d=Ro(a),f=No(o),g=Ro(o),p=No(s),m=Ro(s),v=No(c),_=Ro(c),y={a:R,A:E,b:q,B:z,c:null,d:ts,e:ts,f:as,H:es,I:ns,j:rs,L:is,m:os,M:ss,p:L,q:U,Q:qs,s:zs,S:cs,u:ls,U:us,V:hs,w:ds,W:fs,x:null,X:null,y:gs,Y:ps,Z:ms,"%":Es},b={a:F,A:P,b:B,B:H,c:null,d:vs,e:vs,f:xs,H:_s,I:ys,j:bs,L:ws,m:ks,M:Ms,p:Y,q:I,Q:qs,s:zs,S:As,u:Ss,U:Os,V:Cs,w:js,W:Ts,x:null,X:null,y:Ds,Y:Ns,Z:Rs,"%":Es},w={a:S,A:O,b:C,B:j,c:T,d:Io,e:Io,f:Wo,H:Xo,I:Xo,j:Vo,L:$o,m:Yo,M:Go,p:A,q:Ho,Q:Qo,s:Ko,S:Zo,u:qo,U:zo,V:Lo,w:Eo,W:Uo,x:D,X:N,y:Po,Y:Fo,Z:Bo,"%":Jo};function x(t,e){return function(n){var r,i,a,o=[],s=-1,c=0,l=t.length;n instanceof Date||(n=new Date(+n));while(++s<l)37===t.charCodeAt(s)&&(o.push(t.slice(c,s)),null!=(i=So[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),c=s+1);return o.push(t.slice(c,s)),o.join("")}}function k(t,e){return function(n){var r,i,a=xo(1900,void 0,1),o=M(a,t,n+="",0);if(o!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=wo(xo(a.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?vo.ceil(r):vo(r),r=go.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(r=bo(xo(a.y,0,1)),i=r.getDay(),r=i>4||0===i?lo.ceil(r):lo(r),r=oo.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?wo(xo(a.y,0,1)).getUTCDay():bo(xo(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,wo(a)):bo(a)}}function M(t,e,n,r){var i,a,o=0,s=e.length,c=n.length;while(o<s){if(r>=c)return-1;if(i=e.charCodeAt(o++),37===i){if(i=e.charAt(o++),a=w[i in So?e.charAt(o++):i],!a||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function A(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1}function S(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=g[r[0].toLowerCase()],n+r[0].length):-1}function O(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1}function j(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1}function T(t,n,r){return M(t,e,n,r)}function D(t,e,r){return M(t,n,e,r)}function N(t,e,n){return M(t,r,e,n)}function R(t){return o[t.getDay()]}function E(t){return a[t.getDay()]}function q(t){return c[t.getMonth()]}function z(t){return s[t.getMonth()]}function L(t){return i[+(t.getHours()>=12)]}function U(t){return 1+~~(t.getMonth()/3)}function F(t){return o[t.getUTCDay()]}function P(t){return a[t.getUTCDay()]}function B(t){return c[t.getUTCMonth()]}function H(t){return s[t.getUTCMonth()]}function Y(t){return i[+(t.getUTCHours()>=12)]}function I(t){return 1+~~(t.getUTCMonth()/3)}return y.x=x(n,y),y.X=x(r,y),y.c=x(e,y),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}yo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Wa((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Mo,Ao,So={"-":"",_:" ",0:"0"},Oo=/^\s*\d+/,Co=/^%/,jo=/[\\^$*+?|[\]().{}]/g;function To(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Do(t){return t.replace(jo,"\\$&")}function No(t){return new RegExp("^(?:"+t.map(Do).join("|")+")","i")}function Ro(t){var e={},n=-1,r=t.length;while(++n<r)e[t[n].toLowerCase()]=n;return e}function Eo(t,e,n){var r=Oo.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qo(t,e,n){var r=Oo.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function zo(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Lo(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Uo(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Fo(t,e,n){var r=Oo.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Po(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Bo(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ho(t,e,n){var r=Oo.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Yo(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Io(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Vo(t,e,n){var r=Oo.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Xo(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Go(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Zo(t,e,n){var r=Oo.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $o(t,e,n){var r=Oo.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Wo(t,e,n){var r=Oo.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Jo(t,e,n){var r=Co.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Qo(t,e,n){var r=Oo.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ko(t,e,n){var r=Oo.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ts(t,e){return To(t.getDate(),e,2)}function es(t,e){return To(t.getHours(),e,2)}function ns(t,e){return To(t.getHours()%12||12,e,2)}function rs(t,e){return To(1+oo.count(fo(t),t),e,3)}function is(t,e){return To(t.getMilliseconds(),e,3)}function as(t,e){return is(t,e)+"000"}function os(t,e){return To(t.getMonth()+1,e,2)}function ss(t,e){return To(t.getMinutes(),e,2)}function cs(t,e){return To(t.getSeconds(),e,2)}function ls(t){var e=t.getDay();return 0===e?7:e}function us(t,e){return To(co.count(fo(t)-1,t),e,2)}function hs(t,e){var n=t.getDay();return t=n>=4||0===n?uo(t):uo.ceil(t),To(uo.count(fo(t),t)+(4===fo(t).getDay()),e,2)}function ds(t){return t.getDay()}function fs(t,e){return To(lo.count(fo(t)-1,t),e,2)}function gs(t,e){return To(t.getFullYear()%100,e,2)}function ps(t,e){return To(t.getFullYear()%1e4,e,4)}function ms(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+To(e/60|0,"0",2)+To(e%60,"0",2)}function vs(t,e){return To(t.getUTCDate(),e,2)}function _s(t,e){return To(t.getUTCHours(),e,2)}function ys(t,e){return To(t.getUTCHours()%12||12,e,2)}function bs(t,e){return To(1+go.count(yo(t),t),e,3)}function ws(t,e){return To(t.getUTCMilliseconds(),e,3)}function xs(t,e){return ws(t,e)+"000"}function ks(t,e){return To(t.getUTCMonth()+1,e,2)}function Ms(t,e){return To(t.getUTCMinutes(),e,2)}function As(t,e){return To(t.getUTCSeconds(),e,2)}function Ss(t){var e=t.getUTCDay();return 0===e?7:e}function Os(t,e){return To(mo.count(yo(t)-1,t),e,2)}function Cs(t,e){var n=t.getUTCDay();return t=n>=4||0===n?_o(t):_o.ceil(t),To(_o.count(yo(t),t)+(4===yo(t).getUTCDay()),e,2)}function js(t){return t.getUTCDay()}function Ts(t,e){return To(vo.count(yo(t)-1,t),e,2)}function Ds(t,e){return To(t.getUTCFullYear()%100,e,2)}function Ns(t,e){return To(t.getUTCFullYear()%1e4,e,4)}function Rs(){return"+0000"}function Es(){return"%"}function qs(t){return+t}function zs(t){return Math.floor(+t/1e3)}function Ls(t){return Mo=ko(t),Ao=Mo.format,Mo}Ls({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Us=1e3,Fs=60*Us,Ps=60*Fs,Bs=24*Ps,Hs=7*Bs,Ys=30*Bs,Is=365*Bs;function Vs(t){return new Date(t)}function Xs(t){return t instanceof Date?+t:+new Date(+t)}function Gs(t,e,n,r,i,a,o,s,c){var l=Ya(za,za),u=l.invert,h=l.domain,d=c(".%L"),f=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),_=c("%b %d"),y=c("%B"),b=c("%Y"),w=[[o,1,Us],[o,5,5*Us],[o,15,15*Us],[o,30,30*Us],[a,1,Fs],[a,5,5*Fs],[a,15,15*Fs],[a,30,30*Fs],[i,1,Ps],[i,3,3*Ps],[i,6,6*Ps],[i,12,12*Ps],[r,1,Bs],[r,2,2*Bs],[n,1,Hs],[e,1,Ys],[e,3,3*Ys],[t,1,Is]];function x(s){return(o(s)<s?d:a(s)<s?f:i(s)<s?g:r(s)<s?m:e(s)<s?n(s)<s?v:_:t(s)<s?y:b)(s)}function k(e,n,r,i){if(null==e&&(e=10),"number"===typeof e){var a=Math.abs(r-n)/e,o=p((function(t){return t[2]})).right(w,a);o===w.length?(i=M(n/Is,r/Is,e),e=t):o?(o=w[a/w[o-1][2]<w[o][2]/a?o-1:o],i=o[1],e=o[0]):(i=Math.max(M(n,r,e),1),e=s)}return null==i?e:e.every(i)}return l.invert=function(t){return new Date(u(t))},l.domain=function(t){return arguments.length?h(Da.call(t,Xs)):h().map(Vs)},l.ticks=function(t,e){var n,r=h(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=k(t,i,a,e),n=n?n.range(i,a+1):[],o?n.reverse():n},l.tickFormat=function(t,e){return null==e?x:c(e)},l.nice=function(t,e){var n=h();return(t=k(t,n[0],n[n.length-1],e))?h(Ga(n,t)):l},l.copy=function(){return Ba(l,Gs(t,e,n,r,i,a,o,s,c))},l}function Zs(){return ja.apply(Gs(fo,ho,co,oo,ao,io,ro,Ja,Ao).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var $s=200,Ws=8,Js=100,Qs=1,Ks=2,tc=3,ec=4;function nc(t){return"translate("+t+",0)"}function rc(t){return"translate(0,"+t+")"}function ic(t,e){e="undefined"!==typeof e?e:null;var n=[0],r=[0],i=[0,10],a=100,o=100,s=!0,c="M-5.5,-5.5v10l6,5.5l6,-5.5v-10z",l=null,u=null,h=null,d=null,f=null,g=null,p=null,m=X("onchange","start","end","drag"),v=null,_=null,y=null,b=t===Qs||t===ec?-1:1,w=t===ec||t===Ks?"y":"x",x=t===ec||t===Ks?"x":"y",k=t===Qs||t===tc?nc:rc,M=t===Qs||t===tc?rc:nc,C=null;switch(t){case Qs:C=B;break;case Ks:C=H;break;case tc:C=Y;break;case ec:C=I;break}var j=null,T=null,D=null;function N(r){v=r.selection?r.selection():r,e?e=e.range([S(e.range()),S(e.range())+(t===Qs||t===tc?a:o)]):(e=i[0]instanceof Date?Zs():Xa(),e=e.domain(i).range(t===Qs||t===tc?[0,a]:[o,0]).clamp(!0)),_=Xa().range(e.range()).domain(e.range()).clamp(!0),n=n.map((function(t){return Xa().range(i).domain(i).clamp(!0)(t)})),d=d||e.tickFormat(),g=g||d||e.tickFormat();var h=v.selectAll(".axis").data([null]);h.enter().append("g").attr("transform",M(7*b)).attr("class","axis");var A=v.selectAll(".slider").data([null]),L=A.enter().append("g").attr("class","slider").attr("cursor",t===Qs||t===tc?"ew-resize":"ns-resize").call(nn().on("start",P).on("drag",B).on("end",H));L.append("line").attr("class","track").attr(w+"1",e.range()[0]-b*Ws).attr("stroke","#bbb").attr("stroke-width",6).attr("stroke-linecap","round"),L.append("line").attr("class","track-inset").attr(w+"1",e.range()[0]-b*Ws).attr("stroke","#eee").attr("stroke-width",4).attr("stroke-linecap","round"),p&&L.append("line").attr("class","track-fill").attr(w+"1",1===n.length?e.range()[0]-b*Ws:e(n[0])).attr("stroke",p).attr("stroke-width",4).attr("stroke-linecap","round"),L.append("line").attr("class","track-overlay").attr(w+"1",e.range()[0]-b*Ws).attr("stroke","transparent").attr("stroke-width",40).attr("stroke-linecap","round").merge(A.select(".track-overlay")),j=L.selectAll(".parameter-value").data(n);var U=j.enter().append("g").attr("class","parameter-value").attr("transform",(function(t){return k(e(t))})).attr("font-family","sans-serif").attr("text-anchor",t===Ks?"start":t===ec?"end":"middle");function F(t){var r=E(e.invert(t));return n.map((function(t,e){return 2===n.length?e===y?0===y?Math.min(r,E(n[1])):Math.max(r,E(n[0])):t:e===y?r:t}))}function P(){Be(this).classed("active",!0);var r=_(t===tc||t===Qs?Ae.x:Ae.y);y=n[0]===i[0]&&n[1]===i[0]?1:n[0]===i[1]&&n[1]===i[1]?0:O(n.map((function(t){return Math.abs(t-E(e.invert(r)))})));var a=n.map((function(t,n){return n===y?E(e.invert(r)):t}));z(a),m.call("start",A,1===a.length?a[0]:a),q(a,!0)}function B(){var e=_(t===tc||t===Qs?Ae.x:Ae.y),n=F(e);z(n),m.call("drag",A,1===n.length?n[0]:n),q(n,!0)}function H(){Be(this).classed("active",!1);var e=_(t===tc||t===Qs?Ae.x:Ae.y),n=F(e);z(n),m.call("end",A,1===n.length?n[0]:n),q(n,!0),y=null}U.append("path").attr("transform","rotate("+90*(t+1)+")").attr("d",c).attr("class","handle").attr("aria-label","handle").attr("aria-valuemax",i[1]).attr("aria-valuemin",i[0]).attr("aria-valuenow",n).attr("aria-orientation",t===ec||t===Ks?"vertical":"horizontal").attr("focusable","true").attr("tabindex",0).attr("fill","white").attr("stroke","#777").on("keydown",(function(t,e){var r=l||(i[1]-i[0])/Js;function a(t){return n.map((function(r,i){return 2===n.length?i===e?0===e?Math.min(t,E(n[1])):Math.max(t,E(n[0])):r:i===e?t:r}))}switch(Ae.key){case"ArrowLeft":case"ArrowDown":N.value(a(+n[e]-r)),Ae.preventDefault();break;case"PageDown":N.value(a(+n[e]-2*r)),Ae.preventDefault();break;case"ArrowRight":case"ArrowUp":N.value(a(+n[e]+r)),Ae.preventDefault();break;case"PageUp":N.value(a(+n[e]+2*r)),Ae.preventDefault();break;case"Home":N.value(a(i[0])),Ae.preventDefault();break;case"End":N.value(a(i[1])),Ae.preventDefault();break}})),s&&1===n.length&&U.append("text").attr("font-size",10).attr(x,27*b).attr("dy",t===Qs?"0em":t===tc?".71em":".32em").text(d(n[0])),r.select(".track").attr(w+"2",e.range()[1]+b*Ws),r.select(".track-inset").attr(w+"2",e.range()[1]+b*Ws),p&&r.select(".track-fill").attr(w+"2",1===n.length?e(n[0]):e(n[1])),r.select(".track-overlay").attr(w+"2",e.range()[1]+b*Ws),r.select(".axis").call(C(e).tickFormat(d).ticks(f).tickValues(u)),v.select(".axis").select(".domain").remove(),r.select(".axis").attr("transform",M(7*b)),r.selectAll(".axis text").attr("fill","#aaa").attr(x,20*b).attr("dy",t===Qs?"0em":t===tc?".71em":".32em").attr("text-anchor",t===Ks?"start":t===ec?"end":"middle"),r.selectAll(".axis line").attr("stroke","#aaa"),r.selectAll(".parameter-value").attr("transform",(function(t){return k(e(t))})),R(),D=v.select(".parameter-value text"),T=v.select(".track-fill")}function R(){if(v&&s&&1===n.length){var t=[];v.selectAll(".axis .tick").each((function(e){t.push(Math.abs(e-n[0]))}));var e=O(t);v.selectAll(".axis .tick text").attr("opacity",(function(t,n){return n===e?0:1}))}}function E(t){if(l){var e=(t-i[0])%l,n=t-e;return 2*e>l&&(n+=l),t instanceof Date?new Date(n):n}if(h){var r=O(h.map((function(e){return Math.abs(t-e)})));return h[r]}return t}function q(t,e){(n[0]!==t[0]||n.length>1&&n[1]!==t[1])&&(n=t,e&&m.call("onchange",N,1===t.length?t[0]:t),R())}function z(t,r){v&&(r="undefined"!==typeof r&&r,r?(v.selectAll(".parameter-value").data(t).transition().ease(ea).duration($s).attr("transform",(function(t){return k(e(t))})).select(".handle").attr("aria-valuenow",(function(t){return t})),p&&T.transition().ease(ea).duration($s).attr(w+"1",1===n.length?e.range()[0]-b*Ws:e(t[0])).attr(w+"2",1===n.length?e(t[0]):e(t[1]))):(v.selectAll(".parameter-value").data(t).attr("transform",(function(t){return k(e(t))})).select(".handle").attr("aria-valuenow",(function(t){return t})),p&&T.attr(w+"1",1===n.length?e.range()[0]-b*Ws:e(t[0])).attr(w+"2",1===n.length?e(t[0]):e(t[1]))),s&&D.text(g(t[0])))}return e&&(i=[S(e.domain()),A(e.domain())],t===Qs||t===tc?a=A(e.range())-S(e.range()):o=A(e.range())-S(e.range()),e=e.clamp(!0)),N.min=function(t){return arguments.length?(i[0]=t,N):i[0]},N.max=function(t){return arguments.length?(i[1]=t,N):i[1]},N.domain=function(t){return arguments.length?(i=t,N):i},N.width=function(t){return arguments.length?(a=t,N):a},N.height=function(t){return arguments.length?(o=t,N):o},N.tickFormat=function(t){return arguments.length?(d=t,N):d},N.displayFormat=function(t){return arguments.length?(g=t,N):g},N.ticks=function(t){return arguments.length?(f=t,N):f},N.value=function(t){if(!arguments.length)return 1===n.length?n[0]:n;var r=Array.isArray(t)?t:[t];r.sort((function(t,e){return t-e}));var i=r.map(e).map(_),a=i.map(e.invert).map(E);return z(a,!0),q(a,!0),N},N.silentValue=function(t){if(!arguments.length)return 1===n.length?n[0]:n;var r=Array.isArray(t)?t:[t];r.sort((function(t,e){return t-e}));var i=r.map(e).map(_),a=i.map(e.invert).map(E);return z(a,!1),q(a,!1),N},N.default=function(t){if(!arguments.length)return 1===r.length?r[0]:r;var e=Array.isArray(t)?t:[t];return e.sort((function(t,e){return t-e})),r=e,n=e,N},N.step=function(t){return arguments.length?(l=t,N):l},N.tickValues=function(t){return arguments.length?(u=t,N):u},N.marks=function(t){return arguments.length?(h=t,N):h},N.handle=function(t){return arguments.length?(c=t,N):c},N.displayValue=function(t){return arguments.length?(s=t,N):s},N.fill=function(t){return arguments.length?(p=t,N):p},N.on=function(){var t=m.on.apply(m,arguments);return t===m?N:t},N}function ac(t){return ic(tc,t)}var oc='.main-table{font-family:"Helvetica Neue", Helvetica, Arial;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.search-container{display:grid;grid-row-gap:10%;padding-bottom:1em}.slider-containers{display:grid;grid-template-areas:\'header header\' \'. .\'}.slider-containers .selection-header{grid-area:header}#regexString{width:100%;font-size:16px;padding:12px 20px;border:1px solid #ddd}.tooltipRegex .tooltiptextRegex{visibility:hidden;width:120px;background-color:#6da7c3b3;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1}.tooltipRegex:hover .tooltiptextRegex{visibility:visible}.tooltipRegex .tooltiptextRegex::after{content:" ";position:absolute;top:50%;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent rgba(103, 203, 222, 0.9) transparent transparent}.spinner-grow{width:40 !important;height:40 !important}input{border-radius:5px}#resultTab{border-collapse:collapse}#resultTab>tr{border-bottom:1px solid #9e9e9e3d}.global-header>th:nth-child(3){padding-left:10px}.table-sort-icon{vertical-align:middle;}.table-sort-icon.ascending{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.table-sort-icon.highlighted{color:rgba(239, 71, 111)}.seq-header{background-color:#DCDCDC}.seq-header>td:nth-child(1){padding:5px 0 5px 5px}.seq-header>td:nth-child(2){padding:5px 0}.seq-header>td:nth-child(3){padding:5px 5px 5px 0;text-align:center}.sg-occ{text-align:center}.sgrna-organism{padding:3px;width:80%}.organism-line:hover{background-color:lightgray}.organism-line.click-selected{background-color:lightblue}.organism-line.click-selected:hover{background-color:lightblue}.organism-line.checkbox-selected{background-color:#f2f2f2}.organism-line.checkbox-selected:hover{background-color:lightgray}.pagination{display:grid;grid-template-columns:-webkit-max-content -webkit-max-content;grid-template-columns:max-content max-content;grid-column-gap:1.3rem}.page-field{color:black;text-decoration:none;padding:5px 5px;-webkit-transition:background-color .3s;transition:background-color .3s;text-align:center;cursor:pointer}.pagination-select-page{padding-top:2px}.page-field.active{background-color:dodgerblue;color:white}.page-field:hover:not(.active){background-color:#ddd}.page-field.disabled{color:grey}.page-numbering{display:-ms-flexbox;display:flex}.pagination-select-entries{padding-top:5px}.selection-header{display:inline-block;margin-bottom:0.5rem;font-weight:bold}.sgrna-search-container{display:grid;grid-template-areas:"header header" "filter close";grid-template-columns:auto -webkit-min-content;grid-template-columns:auto min-content}.sgrna-search-container .selection-header{grid-area:header}.close-icon{-ms-flex-item-align:center;align-self:center;margin-left:0.5em;cursor:pointer}.close-icon:hover{font-weight:bold}',sc=function(){function t(t){var e=this;Object(r["f"])(this,t),this.displaySgrna=[],this.page=1,this.state="initialize",this.error_msg="",this.sort_type="Alphabetical",this.sort_order="descending",this.entries_by_pages=10,this.max_pagination=7,this.number_selected=0,this.handleChangeSortMethod=function(t){var n=t.currentTarget,r=n.querySelector("i");e.page=1;var i=n.dataset.type;i===e.sort_type?(e.sort_order="ascending"===e.sort_order?"descending":"ascending",r.classList.toggle("ascending")):(e.sort_order=r.classList.contains("ascending")?"ascending":"descending",e.sort_type=i)},this.sgRNAFilter=this.sgRNAFilter.bind(this)}return t.prototype.handleButtonSelectSgrna=function(){this.reinitializeSliders(),this.highlighted_selection=Object.assign({},this.selected),this.sgRNAFilter(this.highlighted_selection.sgrna);var t=this.currentSgrnas.map((function(t){return t.seq})).indexOf(this.selected.sgrna),e=Math.trunc(t/10)+1;this.page=e},t.prototype.sgRNAFilter=function(t){var e=this;void 0===t&&(t=void 0);var n=t||this.element.shadowRoot.querySelector("#regexString").value;this.currentSgrnas=this.initial_min_max_data.filter((function(t){return RegExp(n).test(t.seq)})).filter((function(t){return t.total_occurences>=e.occ_filter[0]&&t.total_occurences<=e.occ_filter[1]})),this.page=1},t.prototype.getCurrentPagination=function(t,e){for(var n=[],r=t;r<=e;r++)n.push(r);return n},t.prototype.componentWillLoad=function(){var t=0;this.error_msg="ERROR : ",void 0===this.complete_data&&(t=1,this.error_msg+="complete_data undefined"),t?this.state="stop":(this.initial_min_max_data=this.minMaxOccurences(),this.currentSgrnas=this.initial_min_max_data,this.sortData(),this.displaySgrna=this.currentSgrnas.slice(10*(this.page-1),10*this.page));var e=this.currentSgrnas.reduce((function(t,e){return t>e.min_occurences?t:e.min_occurences}),0),n=this.currentSgrnas.reduce((function(t,e){return t>e.max_occurences?t:e.max_occurences}),0);this.initial_minocc=[0,e],this.initial_maxocc=[0,n],this.minocc_filter=this.initial_minocc,this.maxocc_filter=this.initial_maxocc;var r=this.currentSgrnas.reduce((function(t,e){return t>e.total_occurences?t:e.total_occurences}),0),i=this.currentSgrnas.reduce((function(t,e){return t<e.total_occurences?t:e.total_occurences}),r);this.initial_occ_limits=[i,r],this.occ_filter=this.initial_occ_limits},t.prototype.componentDidLoad=function(){this.displaySlider(this.element.shadowRoot.querySelector(".slider"),this.occ_filter[0],this.occ_filter[1]),this.addSliderSvgText()},t.prototype.componentWillUpdate=function(){!this.highlighted_selection||this.highlighted_selection.sgrna==this.selected.sgrna&&this.highlighted_selection.org==this.selected.org&&this.highlighted_selection.ref==this.selected.ref||(this.highlighted_selection=void 0,this.element.shadowRoot.querySelector("#regexString").value="",this.sgRNAFilter()),this.sortData(),this.displaySgrna=this.currentSgrnas.slice(10*(this.page-1),10*this.page)},t.prototype.componentDidUpdate=function(){this.conserveCheckbox()},t.prototype.sequencesOccurences=function(t){var e=this,n=this.complete_data.find((function(e){return e.sequence===t}));return n.occurences.map((function(t){var n=t.all_ref.reduce((function(t,e){return t+e.coords.length}),0),r=0,i=0;return e.gene&&t.all_ref.forEach((function(t){return t.coords.forEach((function(t){t.is_on_gene.length>0?r++:i++}))})),{name:t.org,coords_count:n,on_gene_count:r,not_on_gene_count:i}})).sort((function(t,e){return e.coords_count-t.coords_count}))},t.prototype.minMaxOccurences=function(){return this.complete_data.map((function(t){var e=[];return t.occurences.map((function(t){e.push(t.all_ref.reduce((function(t,e){return t+e.coords.length}),0))})),e.sort((function(t,e){return t-e})),{seq:t.sequence,min_occurences:e[0],max_occurences:e[e.length-1],total_occurences:e.reduce((function(t,e){return t+e}),0)}}))},t.prototype.sortData=function(){"Alphabetical"===this.sort_type&&"descending"===this.sort_order?this.currentSgrnas=this.currentSgrnas.sort((function(t,e){return e.seq<t.seq?1:-1})):"Alphabetical"===this.sort_type&&"ascending"===this.sort_order?this.currentSgrnas=this.currentSgrnas.sort((function(t,e){return e.seq<t.seq?-1:1})):"Occurences"===this.sort_type&&"descending"===this.sort_order?this.currentSgrnas=this.currentSgrnas.sort((function(t,e){return e.total_occurences-t.total_occurences})):"Occurences"===this.sort_type&&"ascending"===this.sort_order&&(this.currentSgrnas=this.currentSgrnas.sort((function(t,e){return t.total_occurences-e.total_occurences})))},t.prototype.actualizePaginationDisplay=function(){var t,e;this.page-3<=0?(t=1,e=this.total_pages<this.max_pagination?this.total_pages:this.max_pagination):this.page+3>=this.total_pages?(t=this.total_pages-this.max_pagination,e=this.total_pages):(t=this.page-3,e=this.page+3),this.current_pagination_display=this.getCurrentPagination(t,e)},t.prototype.displaySlider=function(t,e,n){var r=this,i=ac().min(e).max(n).step(1).width(450).ticks(n-e<10?n-e:10).default([e,n]).fill("rgba(239, 71, 111)").tickFormat(ba(",.0f")).on("onchange",(function(t){r.occ_filter=[t[0],t[1]],r.sgRNAFilter(),r.addSliderSvgText()}));Be(t).append("svg").attr("width",500).attr("height",50).append("g").attr("transform","translate(10,10)").call(i)},t.prototype.addSliderSvgText=function(){var t=this,e=0;this.element.shadowRoot.querySelectorAll(".slider .parameter-value").forEach((function(n){Be(n).select("text").remove(),Be(n).append("text").text(t.occ_filter[e]).attr("font-size",10).attr("dy",".71em").attr("y","27"),e+=1}))},t.prototype.reinitializeSliders=function(){this.element.shadowRoot.querySelector(".slider svg").remove(),this.minocc_filter=this.initial_minocc,this.maxocc_filter=this.initial_maxocc,this.displaySlider(this.element.shadowRoot.querySelector(".slider"),this.occ_filter[0],this.occ_filter[1]),this.addSliderSvgText()},t.prototype.reinitializeSgrna=function(){this.element.shadowRoot.querySelector("#regexString").value="",this.sgRNAFilter(),this.highlighted_selection=void 0},t.prototype.uncheckCheckbox=function(){var t=this.element.shadowRoot.querySelectorAll(".checkbox");t.forEach((function(t){t.checked&&(t.checked=!1)}))},t.prototype.conserveCheckbox=function(){var t=this;this.uncheckCheckbox(),this.card_selection.forEach((function(e){var n=t.element.shadowRoot.querySelector("#"+e);n&&(n.checked=!0)}))},t.prototype.highlightSelectedOrg=function(t){var e=this.element.shadowRoot.querySelectorAll("#org-"+t.id);e.forEach((function(e){return e.style.background=t.checked?"#f2f2f2":""}))},t.prototype.getBackground=function(t,e){return t&&this.shouldHighlight?"red":e?"yellow":""},t.prototype.countSelected=function(t){this.number_selected=t.checked?this.number_selected+1:this.number_selected-1},t.prototype.render=function(){var t=this;return"stop"==this.state?this.error_msg:(this.displaySgrna=this.currentSgrnas.slice(this.entries_by_pages*(this.page-1),this.entries_by_pages*this.page),this.total_pages=Number.isInteger(this.currentSgrnas.length/this.entries_by_pages)?this.currentSgrnas.length/this.entries_by_pages:Math.trunc(this.currentSgrnas.length/this.entries_by_pages)+1,this.actualizePaginationDisplay(),[Object(r["e"])("head",null,Object(r["e"])("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})),Object(r["e"])("div",{style:{display:"none"}},Object(r["e"])("strong",null," Loading ... "),Object(r["e"])("div",{class:"spinner-grow text-info",role:"status"})),Object(r["e"])("div",{class:"main-table",style:{display:"block"}},Object(r["e"])("div",{class:"search-container"},Object(r["e"])("div",{class:"sgrna-search-container"},Object(r["e"])("span",{class:"selection-header"},"Filter by sequence"),Object(r["e"])("input",{type:"text",id:"regexString",onKeyUp:function(){return t.sgRNAFilter()},placeholder:"Search for sgRNA..",value:this.highlighted_selection?this.highlighted_selection.sgrna:""}),Object(r["e"])("i",{class:"material-icons close-icon",onClick:function(){t.reinitializeSgrna(),t.reinitSelection()}},"close")),Object(r["e"])("div",{class:"slider-containers"},Object(r["e"])("span",{class:"selection-header"},"Filter by number of occurences"),Object(r["e"])("div",{class:"slider"}))),Object(r["e"])("table",{id:"resultTab",style:{width:"100%"}},Object(r["e"])("thead",null,Object(r["e"])("tr",{class:"global-header"},Object(r["e"])("th",{rowSpan:this.gene?2:1,onClick:function(e){t.handleChangeSortMethod(e)},"data-type":"Alphabetical"},Object(r["e"])("span",null,"Sequence(s) (",this.currentSgrnas.length," sgRNAs selected)"),Object(r["e"])("i",{class:"material-icons table-sort-icon "+("Alphabetical"===this.sort_type?"highlighted":"")},"keyboard_arrow_down")),Object(r["e"])("th",{colSpan:2,onClick:function(e){t.handleChangeSortMethod(e)},"data-type":"Occurences"},Object(r["e"])("span",null,"Occurences number"),Object(r["e"])("i",{class:"material-icons table-sort-icon "+("Occurences"===this.sort_type?"highlighted":"")},"keyboard_arrow_down")),Object(r["e"])("th",{rowSpan:this.gene?2:1},"Selection (",this.card_selection.length,")",Object(r["e"])("input",{type:"checkbox",class:"all-checkbox",onClick:function(e){t.cardAction(e.target,t.currentSgrnas.map((function(t){return t.seq})))}}))),this.gene?Object(r["e"])("tr",null,Object(r["e"])("td",{style:{paddingRight:"10px"},class:"sg-occ"},"Inside homologous gene(s)"),Object(r["e"])("td",{class:"sg-occ"},"Outside homologous gene(s)")):""),Object(r["e"])("tbody",null,Object(r["e"])("tr",{style:{height:"8px"}},Object(r["e"])("td",null),Object(r["e"])("td",null),Object(r["e"])("td",null),Object(r["e"])("td",null)),this.displaySgrna.map((function(e){var n=t.sequencesOccurences(e.seq),i=[Object(r["e"])("tr",{class:"seq-header"},Object(r["e"])("td",null,Object(r["e"])("strong",null,e.seq.slice(0,-3),Object(r["e"])("span",{style:{color:"rgba(239, 71, 111)"}},e.seq.slice(-3)," "))),t.gene?Object(r["e"])("td",{class:"sg-occ"},Object(r["e"])("strong",null,n.reduce((function(t,e){return t+e.on_gene_count}),0))):Object(r["e"])("td",{colSpan:2,class:"occ-col"},Object(r["e"])("strong",null,n.reduce((function(t,e){return t+e.coords_count}),0))),t.gene?Object(r["e"])("td",{class:"sg-occ"},Object(r["e"])("strong",null,n.reduce((function(t,e){return t+e.not_on_gene_count}),0))):"",Object(r["e"])("td",null,Object(r["e"])("input",{type:"checkbox",class:"checkbox",id:e.seq,onClick:function(n){t.cardAction(n.target,[e.seq])}})))];return n.map((function(n){var a=t.selected&&t.selected.org===n.name&&t.selected.sgrna===e.seq,o=t.card_selection.includes(e.seq);i.push(Object(r["e"])("tr",{class:"organism-line"+(o&&!a?" checkbox-selected":"")+(a&&t.shouldHighlight?" click-selected":""),onClick:function(){t.onOrganismClick(n.name,e.seq)}},Object(r["e"])("td",{class:"sgrna-organism"},n.name),t.gene?Object(r["e"])("td",{class:"sg-occ"}," ",n.on_gene_count):Object(r["e"])("td",{colSpan:2},n.coords_count),t.gene?Object(r["e"])("td",{class:"sg-occ"}," ",n.not_on_gene_count):"",Object(r["e"])("td",null)))})),i})))),Object(r["e"])("div",{class:"pagination"},Object(r["e"])("div",{class:"pagination-select-entries"},Object(r["e"])("span",null,"Items by page : "),Object(r["e"])("select",{onChange:function(e){t.entries_by_pages=e.target.value,t.page=1}},Object(r["e"])("option",{value:"5"},"5"),Object(r["e"])("option",{value:"10",selected:!0},"10"),Object(r["e"])("option",{value:"25"},"25"),Object(r["e"])("option",{value:"50"},"50"))),Object(r["e"])("div",{class:"page-numbering"},Object(r["e"])("div",{class:"page-field"+(1===this.page?" disabled":""),onClick:function(){return t.page=1}},"First"),Object(r["e"])("div",{class:"page-field"+(1===this.page?" disabled":""),onClick:function(){return t.page=1===t.page?t.page:t.page-1}},""),this.current_pagination_display.map((function(e){return Object(r["e"])("div",{class:"page-field page-number"+(t.page===e?" active":""),onClick:function(){return t.page=e}},Object(r["e"])("span",null,e))})),Object(r["e"])("div",{class:"page-field"+(this.page===this.total_pages?" disabled":""),onClick:function(){return t.page=t.page===t.total_pages?t.page:t.page+1}},""),Object(r["e"])("div",{class:"page-field"+(this.page===this.total_pages?" disabled":""),onClick:function(){return t.page=t.total_pages}},"Last"))))])},Object.defineProperty(t.prototype,"element",{get:function(){return Object(r["d"])(this)},enumerable:!0,configurable:!0}),t}();sc.style=oc}}]);
//# sourceMappingURL=chunk-2d2132fe.a174a6ec.js.map