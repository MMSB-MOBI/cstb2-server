{"version":3,"sources":["webpack:///./node_modules/@mmsb/result_page/dist/esm-es5/circular-barplot_5.entry.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","circularBarplotCss","CircularBarplot","hostRef","this","bin_number","prototype","selectedSgrnaChange","svg","selectAll","remove","addSingleCoordinatesTicks","handleCoordinateOver","coord","tick","select","parseInt","exec","detail","highlightCoordinatesTicks","handleCoordinateOut","createBinData","list_coordinates","start","end","bin_size","Math","ceil","bin_data","bin_id","push","bin_start","bin_end","number_coords_inside","toString","map","bin","find","e","number_coords_proportion","initializeSvg","width","height","circle_radius","circle_thickness","barplot_begin","gene_coordinates","barplot_end","detailed_barplot_begin","detailed_barplot_end","coordinates_begin","coordinates_end","gene_begin","undefined","gene_tickness","barplot_gene_begin","barplot_gene_end","barplot_gene_name_y","genome_color","gene_color","coord_color","main_div","element","shadowRoot","querySelector","d3","append","attr","displaySvgContent","createGenomeCircle","createCircularBarplot","displayGenes","addReinitializeEvent","applyRotation","cleanSvg","on","style","ticks_number","tickAngle","tickScale","scaleLinear","range","domain","data","enter","d","gap_between_ticks","round","genome_size","label_radius","data_label","coordinates","circleCoordinates","x","y","text","numberWithCommas","innerRadius","outerRadius","scaleBand","PI","align","max_prop","sort","b","scaleRadial","forEach","y_placement","angle","component","addBarplotDetailed","active_rotation","middle","emphasizeZero","arc","startAngle","endAngle","bandwidth","padAngle","padRadius","coordinates_inside","filter","detailed_bin_data","midlength","arc_placement","start_angle","end_angle","detailed_barplot_axis","bin_x","bin_y","coordAngle","line1","line2","addGeneBarplot","genes","middle_placement","barplot_length","triangle_length","_this","axis_start","axis_end","addGeneBarplotBins","current_gene","gene_in_triangle","Object","assign","gene_total","findIndex","current_rotation_angle","nb_bins","gene_number","coordinateScale","ticks","selected_sgrna_coordinates","transition","delay","coords","color","genome_position","radius","positionAngle","sin","cos","triangles","gatherGenesInTriangles","recentered_triangles","recenterTriangles","triangle_gap","point1","point2","point3","gene_points","getGenePoints","gene_triangles","gene_coord","potential_triangle_middle","new_triangle","triangle","triangle_middle","max_row","points_per_row","triangle_start","point_start","nb_row","transition_time","duration","deEmphasizeZero","addEventListener","current_parent_node","target","classList","contains","new_triangles","start_mean","reduce","acc","val","end_mean","componentDidRender","render","class","defineProperty","get","enumerable","configurable","replace","circularBarplotLegendCss","CircularBarplotLegend","componentDidLoad","addSingleCoordinatesLegend","addCoordBarplotLegend","gene","addGeneTriangleLegend","addGeneBarplotLegend","factice_data","from","random","addMiniBarplot","x_coord","y_coord","coordBoxCss","CoordBox","onOverCoordinate","onOutCoordinate","current_sgrnas","seq","selected","sgrna","ref","org","coord_obj","onMouseOver","emit","onMouseOut","current_genes","is_on_gene","dropdownMenuCss","DropdownMenu","organisms","fasta_refs","sgrnas","ref_visible","sgrna_visible","onClickHighlightButton","isValidAccession","accession","genbank1_regex","RegExp","genbank2_regex","genbank3_regex","refseq_regex","test","displayNcbiLink","cut_ref","split","href","visibility","onClick","float","label","onSelect","selectOrg","boldOnSelected","selectRef","sgrna_entry","selectSgrna","ascending","NaN","bisector","compare","ascendingComparator","left","lo","hi","mid","right","f","ascendingBisect","bisectRight","e10","sqrt","e5","e2","stop","count","reverse","n","step","tickIncrement","isFinite","floor","max","power","log","LN10","error","pow","tickStep","step0","abs","step1","values","valueof","value","min","scan","xi","xj","slice","identity","top","bottom","epsilon","translateX","translateY","number","scale","center","offset","entering","__axis","axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","transform","context","apply","format","spacing","range0","range1","position","copy","selection","path","order","tickExit","exit","tickEnter","line","merge","insert","getAttribute","p","parentNode","each","_","call","tickSize","axisTop","axisRight","axisBottom","axisLeft","noop","dispatch","t","Error","Dispatch","parseTypenames","typenames","types","trim","name","indexOf","hasOwnProperty","type","c","set","callback","concat","constructor","typename","T","that","args","xhtml","namespaces","xlink","xml","xmlns","namespace","prefix","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","creator","none","selector","selection_select","groups","_groups","m","subgroups","node","subnode","group","subgroup","__data__","Selection","_parents","empty","selectorAll","querySelectorAll","selection_selectAll","parents","matcher","matches","selection_filter","match","sparse","update","selection_enter","_enter","EnterNode","parent","datum","_next","_parent","constant","appendChild","child","insertBefore","next","keyPrefix","bindIndex","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","keyValues","selection_data","size","bind","enterGroup","updateGroup","exitGroup","previous","i0","i1","_exit","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","groups0","groups1","m0","m1","merges","group0","group1","selection_order","compareDocumentPosition","selection_sort","compareNode","ascending$1","sortgroups","sortgroup","selection_call","selection_nodes","nodes","selection_node","selection_size","selection_empty","selection_each","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","selection_attr","getAttributeNS","defaultView","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","selection_style","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","ClassList","_node","_names","classedAdd","names","list","add","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textContent","textConstant","textFunction","selection_text","htmlRemove","innerHTML","htmlConstant","htmlFunction","selection_html","raise","nextSibling","selection_raise","lower","previousSibling","firstChild","selection_lower","selection_append","create","constantNull","selection_insert","before","removeChild","selection_remove","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","selection_clone","deep","selection_datum","property","join","splice","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","event1","event0","parseTypenames$1","onRemove","__on","o","removeEventListener","capture","onAdd","wrap","selection_on","customEvent","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","dispatchConstant","dispatchFunction","selection_dispatch","root","source","current","point","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","mouse","changedTouches","touch","touches","identifier","nopropagation","stopImmediatePropagation","noevent","preventDefault","dragDisable","view","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","constant$1","DragEvent","subject","id","active","dx","dy","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","drag","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","listeners","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","clearTimeout","sublisteners","p0","clickDistance","define","factory","extend","definition","Color","classed","html","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","l","toLowerCase","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","h","Hsl","hsl","hsl2rgb","m2","constant$2","linear","exponential","gamma","nogamma","channels","displayable","interpolateRgb","rgbGamma","rgb$1","numberArray","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","interpolateValue","date","Date","setTime","interpolateNumber","object","reA","reB","zero","one","interpolateString","am","bm","bs","bi","lastIndex","q","isArray","valueOf","interpolateRound","cssNode","cssRoot","cssView","svgNode","degrees","identity$1","rotate","skewX","scaleX","scaleY","decompose","atan2","atan","parseCss","parseSvg","baseVal","consolidate","matrix","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","taskHead","taskTail","interpolateTransformCss","interpolateTransformSvg","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","time","restart","timerFlush","wake","nap","poke","t0","t2","t1","Infinity","sleep","clearInterval","setInterval","timeout$1","elapsed","TypeError","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","timing","schedules","__transition","tween","ease","state","init","get$1","set$1","self","interrupt","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","_id","tweenValue","interpolate","attrRemove$1","attrRemoveNS$1","attrConstant$1","value1","string00","interpolate0","string1","string0","attrConstantNS$1","attrFunction$1","string10","attrFunctionNS$1","transition_attr","attrTween","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","transition_filter","Transition","_name","transition_merge","every","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","children","inherit","Selection$1","transition_selection","styleNull","styleRemove$1","styleConstant$1","styleFunction$1","styleMaybeRemove","listener0","transition_style","styleTween","styleInterpolate","transition_styleTween","textConstant$1","textFunction$1","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","Promise","resolve","reject","cancel","selection_prototype","quadOut","cubicInOut","defaultTiming","selection_transition","formatDecimal","toExponential","coefficient","exponent","formatGroup","grouping","thousands","substring","formatNumerals","numerals","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","fill","sign","symbol","comma","precision","formatTrim","out","formatPrefixAuto","formatRounded","formatTypes","toFixed","toPrecision","toUpperCase","identity$2","locale","formatPrefix","prefixes","formatLocale","Number","currencyPrefix","currency","currencySuffix","decimal","String","percent","minus","nan","newFormat","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","charCodeAt","padding","defaultLocale","precisionFixed","precisionPrefix","precisionRound","initRange","array","map$1","slice$1","constant$3","number$1","unit","identity$3","normalize","clamper","bimap","d0","d1","r0","r1","polymap","clamp","unknown","transformer","untransform","piecewise","output","input","rescale","invert","rangeRound","u","continuous","linearish","nice","linear$1","x0","x1","newInterval","floori","offseti","field","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newDate","formatLocale$1","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","pad","pads","charAt","newParse","Z","week","day$1","parseSpecifier","Q","V","w","getUTCMonth","W","U","getUTCHours","X","utcFormat","utcParse","locale$1","timeFormat","numberRe","percentRe","requoteRe","requote","z","getUTCMilliseconds","getUTCMinutes","dow","defaultLocale$1","durationSecond$1","durationMinute$1","durationHour$1","durationDay$1","durationWeek$1","durationMonth","durationYear","date$1","number$2","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickIntervals","tickInterval","scaleTime","UPDATE_DURATION","SLIDER_END_PADDING","KEYBOARD_NUMBER_STEPS","top$1","right$1","bottom$1","left$1","translateX$1","translateY$1","slider","orientation","defaultValue","displayValue","handle","marks","displayFormat","identityClamped","handleIndex","transformAlong","transformAcross","axisFunction","handleSelection","fillSelection","textSelection","sliderSelection","sliderEnter","dragstarted","dragged","dragended","handleEnter","computeDragNewValue","pos","adjustedValue","alignedValue","newValue","updateHandle","updateValue","change","fadeTickText","distances","valueModStep","alignValue","notifyListener","animate","toArray","silentValue","default","sliderHorizontal","tableCrisprCss","TableCrispr","displaySgrna","page","error_msg","sort_type","sort_order","entries_by_pages","max_pagination","number_selected","handleChangeSortMethod","clicked_e","currentTarget","icon_element","selected_mode","dataset","toggle","sgRNAFilter","handleButtonSelectSgrna","reinitializeSliders","highlighted_selection","selected_sgrna_index","currentSgrnas","current_page","trunc","search","initial_min_max_data","total_occurences","occ_filter","getCurrentPagination","pagination_display","componentWillLoad","complete_data","minMaxOccurences","sortData","minocc_max","min_occurences","maxocc_max","max_occurences","initial_minocc","initial_maxocc","minocc_filter","maxocc_filter","occ_max","occ_min","initial_occ_limits","displaySlider","addSliderSvgText","componentWillUpdate","componentDidUpdate","conserveCheckbox","sequencesOccurences","hit","sequence","occurences","coords_count","all_ref","on_gene_count","not_on_gene_count","all_ref_obj","nb_occurences","occ","actualizePaginationDisplay","total_pages","current_pagination_display","elmt","sliderRange","svg_elmt","reinitializeSgrna","uncheckCheckbox","checkboxes","checkbox","checked","card_selection","select_checkbox","highlightSelectedOrg","org_lines","td","background","getBackground","checkbox_selected","shouldHighlight","countSelected","isInteger","rel","display","role","onKeyUp","placeholder","reinitSelection","rowSpan","colSpan","cardAction","paddingRight","currentOccurences","to_return","includes","onOrganismClick","onChange"],"mappings":"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","file":"js/chunk-2d2132fe.a174a6ec.js","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { r as registerInstance, h, g as getElement, c as createEvent } from './index-209bbf7a.js';\nvar circularBarplotCss = \".previous-next{font-size:3px;cursor:pointer}.previous-next:hover{text-decoration:underline}.previous-next.inactive{fill:#A4A4A4;cursor:default;text-decoration:none}svg{max-height:100vh}\";\nvar CircularBarplot = /** @class */ (function () {\n    function CircularBarplot(hostRef) {\n        registerInstance(this, hostRef);\n        this.bin_number = 50;\n    }\n    CircularBarplot.prototype.selectedSgrnaChange = function () {\n        this.svg.selectAll(\".single-sgrna-ticks\").remove();\n        this.addSingleCoordinatesTicks();\n    };\n    CircularBarplot.prototype.handleCoordinateOver = function (coord) {\n        var tick = this.svg.select(\".start\" + parseInt(/\\(([0-9]*),/.exec(coord.detail)[1])); //Select corresponding coord tick\n        tick.remove();\n        this.highlightCoordinatesTicks([coord.detail], \"#ff0000\");\n    };\n    CircularBarplot.prototype.handleCoordinateOut = function (coord) {\n        var tick = this.svg.select(\".start\" + parseInt(/\\(([0-9]*),/.exec(coord.detail)[1])); //Select corresponding coord tick\n        tick.remove();\n        this.highlightCoordinatesTicks([coord.detail], \"#ff9999\");\n    };\n    /**\n     * Format data for bin construction\n     * @param list_coordinates list of start coordinates\n     * @param bin_number number of bins to construct\n     * @param start histogram start coordinate\n     * @param end histogram end coordinate\n     */\n    CircularBarplot.prototype.createBinData = function (list_coordinates, bin_number, start, end) {\n        var bin_size = Math.ceil((end - start) / bin_number);\n        var bin_data = [];\n        var bin_id = 0;\n        for (var i = start; i < end; i = i + bin_size) {\n            bin_data.push({ bin_start: i, bin_end: i + bin_size, number_coords_inside: 0, bin_id: bin_id.toString() });\n            bin_id += 1;\n        }\n        bin_data[bin_data.length - 1].bin_end = end; //Correct the last value because of round approximation\n        list_coordinates.map(function (coord) {\n            var bin = bin_data.find(function (e) { return coord >= e.bin_start && coord < e.bin_end; });\n            bin.number_coords_inside++;\n        });\n        bin_data.map(function (e) { return e.number_coords_proportion = e.number_coords_inside / list_coordinates.length; });\n        return bin_data;\n    };\n    /**\n     * Fix svg margin, circles radius, color, and create svg\n     */\n    CircularBarplot.prototype.initializeSvg = function () {\n        //this.margin = 10; \n        this.width = 150;\n        this.height = 200;\n        this.circle_radius = this.height / 6;\n        this.circle_thickness = 2;\n        this.barplot_begin = this.gene_coordinates ? this.height / 4 : this.height / 4.5;\n        this.barplot_end = this.gene_coordinates ? this.height / 2.7 : this.height / 3;\n        this.detailed_barplot_begin = this.gene_coordinates ? this.height / 2.5 : this.height / 2.7;\n        this.detailed_barplot_end = this.height / 2 - 1;\n        this.coordinates_begin = this.circle_radius + this.circle_thickness + 3;\n        this.coordinates_end = this.circle_radius + this.circle_thickness + 6;\n        this.gene_begin = this.gene_coordinates ? this.barplot_begin - 7 : undefined;\n        this.gene_tickness = 3;\n        this.barplot_gene_begin = this.gene_coordinates ? this.height / 3 : undefined;\n        this.barplot_gene_end = this.gene_coordinates ? this.height / 2 - 5 : undefined;\n        this.barplot_gene_name_y = this.gene_coordinates ? this.height / 2 : undefined;\n        this.genome_color = \"#5E4F63\";\n        this.gene_color = \"#D5912A\";\n        this.coord_color = \"#66B032\";\n        var main_div = this.element.shadowRoot.querySelector('.circular-barplot-main');\n        this.svg = d3.select(main_div)\n            .append(\"svg\")\n            .attr(\"viewBox\", [-this.width / 2, -this.height / 2, this.width, this.height])\n            .append(\"g\")\n            .attr(\"class\", \"main\");\n    };\n    CircularBarplot.prototype.displaySvgContent = function () {\n        this.createGenomeCircle();\n        this.createCircularBarplot();\n        this.addSingleCoordinatesTicks();\n        if (this.gene_coordinates)\n            this.displayGenes();\n        this.addReinitializeEvent();\n        this.applyRotation(0, 0);\n    };\n    CircularBarplot.prototype.cleanSvg = function () {\n        this.svg.selectAll(\"g\").remove();\n    };\n    /**\n     * Draw genome circle with coordinates ticks and labels on it.\n     */\n    CircularBarplot.prototype.createGenomeCircle = function () {\n        //Draw and add the circle to svg\n        this.svg\n            .append(\"g\")\n            .attr('class', 'genome-circle')\n            .append('circle')\n            .on(\"click\", function () {\n            /*this.svg.selectAll(\".detailed-barplot\").remove(); //Remove detailed barplot if exists\n            this.svg.selectAll(\".bin\").style(\"opacity\", \"1\"); //All bins with initial opacity\n            if(this.active_rotation){\n                this.applyRotation(0)\n                this.deEmphasizeZero();\n            }*/\n        })\n            .attr(\"cx\", 0)\n            .attr(\"cy\", 0)\n            .attr(\"r\", this.circle_radius + this.circle_thickness)\n            .style(\"fill\", \"transparent\")\n            .style(\"stroke\", this.genome_color)\n            .style(\"stroke-width\", this.circle_thickness);\n        //Draw the coordinates ticks and labels, inspired by http://bl.ocks.org/tomgp/6475678\n        var ticks_number = 12;\n        var tickAngle = 360 / ticks_number; //This is the angle between two ticks. \n        var tickScale = d3.scaleLinear()\n            .range([-180, 180 - tickAngle]) // -180, 180 so tick 0 will be at genome origin (up middle)\n            .domain([0, ticks_number - 1]);\n        this.svg\n            .append(\"g\")\n            .attr(\"class\", \"coord-ticks-container\")\n            .selectAll(\".coord-tick\")\n            .data(d3.range(0, ticks_number)).enter()\n            .append(\"line\")\n            .attr(\"class\", \"coord-tick\")\n            .attr('x1', 0)\n            .attr('x2', 0)\n            .attr('y1', this.circle_radius)\n            .attr('y2', this.circle_radius - 2)\n            .attr('transform', function (d) { return 'rotate(' + tickScale(d) + ')'; })\n            .attr(\"stroke\", \"gray\")\n            .attr(\"stroke-width\", 0.5);\n        var gap_between_ticks = Math.round(this.genome_size / ticks_number);\n        var label_radius = this.circle_radius - 8;\n        //Compute coordinates for each coordinates label\n        var data_label = [];\n        for (var i = 0; i < ticks_number; i++) {\n            var coordinates = this.circleCoordinates(i * gap_between_ticks, label_radius);\n            data_label.push({ coord: i * gap_between_ticks, x: coordinates.x, y: coordinates.y });\n        }\n        //Add coordinates label\n        this.svg.append(\"g\")\n            .attr(\"class\", \"coord-label-container\")\n            .selectAll(\".coord-label\")\n            .data(data_label)\n            .enter()\n            .append(\"text\")\n            .attr('class', 'coord-label')\n            .attr(\"font-size\", \"3px\")\n            .attr(\"text-anchor\", \"middle\")\n            .style(\"fill\", \"gray\")\n            .attr(\"x\", function (d) { return d.x; })\n            .attr(\"y\", function (d) { return d.y; })\n            .text(function (d) { return numberWithCommas(Math.round(d.coord / 1000)) + \" kb\"; });\n        //Add genome size in the middle\n        this.svg\n            .append(\"g\")\n            .attr(\"class\", \"genome-size-container\")\n            .append(\"text\")\n            .text(numberWithCommas(this.genome_size) + \" bp\")\n            .attr('x', 0)\n            .attr('y', 0)\n            .attr('text-anchor', 'middle')\n            .attr('font-size', '4.5px');\n    };\n    /**\n     * Draw circular barplot for distribution of all sgRNAs\n     */\n    CircularBarplot.prototype.createCircularBarplot = function () {\n        // https://www.d3-graph-gallery.com/graph/circular_barplot_basic.html\n        var innerRadius = this.barplot_begin;\n        var outerRadius = this.barplot_end;\n        var bin_data = this.createBinData(this.list_coordinates, this.bin_number, 0, this.genome_size);\n        var x = d3.scaleBand()\n            .range([0, 2 * Math.PI]) // X axis goes from 0 to 2pi = all around the circle. If I stop at 1Pi, it will be around a half circle\n            .align(0) // This does nothing ?\n            .domain(bin_data.map(function (d) { return d.bin_id; }));\n        var max_prop = __spreadArrays(bin_data).sort(function (a, b) { return b.number_coords_proportion - a.number_coords_proportion; })[0].number_coords_proportion; //maximum height for bin\n        var y = d3.scaleRadial()\n            .range([innerRadius, outerRadius])\n            .domain([0, max_prop]); // Domain of Y is from 0 to the max seen in the data\n        //Compute all y placements, we need it for detailed barplot so it has to be precomputed.\n        bin_data.forEach(function (bin) { return bin.y_placement = y(bin.number_coords_proportion); });\n        var angle = d3.scaleLinear()\n            .range([0, 360])\n            .domain([0, this.genome_size]);\n        var component = this; //Save component in variable for use in click function\n        this.svg.append(\"g\")\n            .attr(\"class\", \"barplot-container\")\n            .selectAll(\"path\")\n            .data(bin_data)\n            .enter()\n            .append(\"path\")\n            .attr(\"fill\", this.coord_color)\n            .attr(\"class\", \"bin\")\n            .on(\"click\", function (d) {\n            component.svg.selectAll(\".bin\").style(\"opacity\", \"0.5\"); //Fade all bins\n            d3.select(this).style(\"opacity\", \"1.0\"); //Highlight current bin\n            component.addBarplotDetailed(d); //Add the detailed barplot for current bin\n            if (component.active_rotation) {\n                var middle = d.bin_start + ((d.bin_end - d.bin_start) / 2);\n                component.applyRotation(-angle(middle));\n                component.emphasizeZero();\n            }\n            //component.applyRotation(90);\n        })\n            .attr(\"d\", d3.arc()\n            .innerRadius(innerRadius)\n            //@ts-ignore\n            .outerRadius(function (d) { return d.y_placement; })\n            //@ts-ignore\n            .startAngle(function (d) { return x(d.bin_id); })\n            //@ts-ignore\n            .endAngle(function (d) { return x(d.bin_id) + x.bandwidth(); })\n            .padAngle(0.01)\n            .padRadius(innerRadius));\n    };\n    /**\n     * Add detailed barplot corresponding to some bin_data. Called when click on first barplot bin.\n     * @param bin_data : data of clicked bin.\n     */\n    CircularBarplot.prototype.addBarplotDetailed = function (bin_data) {\n        this.svg.selectAll(\".detailed-barplot\").remove(); //Remove if an other detailed barplot exist \n        var coordinates_inside = this.list_coordinates.filter(function (e) { return e >= bin_data.bin_start && e < bin_data.bin_end; }); //list of coordinates inside the bin\n        var detailed_bin_data = this.createBinData(coordinates_inside, 20, bin_data.bin_start, bin_data.bin_end); //Format data for detailed histogram\n        var middle = bin_data.bin_start + (bin_data.bin_end - bin_data.bin_start) / 2; //Middle placement of new histogram\n        var midlength = this.genome_size / 20; //Length at each side\n        var arc_placement = d3.scaleLinear() //Scale to place new histogram on circle\n            .range([0, 2 * Math.PI])\n            .domain([0, this.genome_size]);\n        var start_angle = arc_placement(middle - midlength);\n        var end_angle = arc_placement(middle + midlength);\n        //Draw axis to follow circle, so it's an arc\n        var detailed_barplot_axis = d3.arc()\n            .startAngle(start_angle)\n            .endAngle(end_angle)\n            .innerRadius(this.detailed_barplot_begin)\n            .outerRadius(this.detailed_barplot_begin + 0.5);\n        //Scale for x axis of barplot\n        var bin_x = d3.scaleLinear()\n            .range([start_angle, end_angle])\n            .domain([bin_data.bin_start, bin_data.bin_end]);\n        var max_prop = __spreadArrays(detailed_bin_data).sort(function (a, b) { return b.number_coords_proportion - a.number_coords_proportion; })[0].number_coords_proportion;\n        //Scale for y axis of barplot\n        var bin_y = d3.scaleLinear()\n            .range([this.detailed_barplot_begin + 1, this.detailed_barplot_end])\n            .domain([0, max_prop]); //Maybe max height instead of 1 ? Between 0 and 1 because we work with proportion.\n        //Add the axis\n        this.svg\n            .append(\"g\")\n            .attr(\"class\", \"detailed-barplot\")\n            .append('path')\n            .attr(\"class\", \"detailed-barplot-axis\")\n            .attr('d', detailed_barplot_axis)\n            .style('fill', this.genome_color);\n        //Add the barplot\n        this.svg.selectAll(\".detailed-barplot\")\n            .selectAll(\"detailed-bin\")\n            .data(detailed_bin_data)\n            .enter()\n            .append(\"path\")\n            .attr(\"fill\", this.coord_color)\n            .attr(\"class\", \"detailed-bin\")\n            .attr(\"d\", d3.arc()\n            .innerRadius(bin_y(0))\n            .outerRadius(function (d) { return bin_y(d.number_coords_proportion); })\n            .startAngle(function (d) { return bin_x(d.bin_start); })\n            .endAngle(function (d) { return bin_x(d.bin_end); }));\n        //Scale for placing start and end coordinates of barplot\n        var coordAngle = d3.scaleLinear()\n            .range([0, 360]) //Angle\n            .domain([0, 2 * Math.PI]); //Circle coordinates  \n        this.svg.selectAll(\".detailed-barplot\")\n            .selectAll(\"detailed-barplot-label\")\n            .data([[bin_data.bin_start, start_angle], [bin_data.bin_end, end_angle]])\n            .enter()\n            .append(\"text\")\n            .attr(\"class\", \"detailed-barplot-label\")\n            //@ts-ignore\n            .attr('text-anchor', function (d, i) { return i === 0 ? 'end' : 'start'; }) //If it's start coordinate, anchor end. If it's end coordinates, anchor start.\n            .attr(\"x\", 0)\n            .attr(\"y\", -this.detailed_barplot_begin - 0.5)\n            .attr('transform', function (d) { return \"rotate(\" + coordAngle(d[1]) + \")\"; })\n            .text(function (d) { return numberWithCommas(d[0]); })\n            .attr(\"font-size\", \"3px\")\n            .attr(\"fill\", this.coord_color);\n        //Lines between bin from global barplot and its detailed version\n        var line1 = [this.circleCoordinates(bin_data.bin_start, bin_data.y_placement), this.circleCoordinates(middle - midlength, this.detailed_barplot_begin)]; //Coordinates (x,y) for begin and end of the first line\n        var line2 = [this.circleCoordinates(bin_data.bin_end, bin_data.y_placement), this.circleCoordinates(middle + midlength, this.detailed_barplot_begin)]; //Coordinates (x,y) for begin and end of the second line\n        this.svg.selectAll(\".detailed-barplot\")\n            .selectAll(\".detailed-barplot-line\")\n            .data([line1, line2])\n            .enter()\n            .append(\"line\")\n            .attr(\"stroke\", this.coord_color)\n            .attr(\"stroke-width\", \"0.5\")\n            .attr(\"x1\", function (d) { return d[0].x; })\n            .attr(\"y1\", function (d) { return d[0].y; })\n            .attr(\"x2\", function (d) { return d[1].x; })\n            .attr(\"y2\", function (d) { return d[1].y; })\n            .style(\"stroke-dasharray\", (\"1, 1\"));\n    };\n    /**\n     * Add barplot that represents distribution of sgrna along genes.\n     * If several genes are given, display navigable barplots\n     * @param genes : genes to display\n     * @param middle_placement : coordinate of the middle of the barplot in bp\n     * @param barplot_length : barplot length in bp\n     * @param triangle_length : genes triangle length in bp\n     */\n    CircularBarplot.prototype.addGeneBarplot = function (genes, middle_placement, barplot_length, triangle_length) {\n        var _this = this;\n        this.svg.select(\".detailed-barplot\").remove();\n        //Barplot axis\n        var arc_placement = d3.scaleLinear() //Scale to place new histogram on circle\n            .range([0, 2 * Math.PI])\n            .domain([0, this.genome_size]);\n        var axis_start = middle_placement - (barplot_length / 2);\n        var axis_end = middle_placement + (barplot_length / 2);\n        var start_angle = arc_placement(axis_start);\n        var end_angle = arc_placement(axis_end);\n        var detailed_barplot_axis = d3.arc()\n            .startAngle(start_angle)\n            .endAngle(end_angle)\n            .innerRadius(this.barplot_gene_begin)\n            .outerRadius(this.barplot_gene_begin + 0.5);\n        //Draw barplot axis\n        this.svg\n            .append(\"g\")\n            .attr(\"class\", \"detailed-barplot\")\n            .append('path')\n            .attr(\"class\", \"detailed-barplot-axis\")\n            .attr('d', detailed_barplot_axis)\n            .style('fill', this.genome_color);\n        //Lines between bin from global barplot and its detailed version\n        var line1 = [this.circleCoordinates(middle_placement - triangle_length / 2, this.gene_begin + this.gene_tickness), this.circleCoordinates(axis_start, this.barplot_gene_begin)]; //Coordinates (x,y) for begin and end of the first line\n        var line2 = [this.circleCoordinates(middle_placement + triangle_length / 2, this.gene_begin + this.gene_tickness), this.circleCoordinates(axis_end, this.barplot_gene_begin)]; //Coordinates (x,y) for begin and end of the second line\n        this.svg.selectAll(\".detailed-barplot\")\n            .selectAll(\".detailed-barplot-line\")\n            .data([line1, line2])\n            .enter()\n            .append(\"line\")\n            .attr(\"stroke\", this.gene_color)\n            .attr(\"stroke-width\", \"0.5\")\n            .attr(\"x1\", function (d) { return d[0].x; })\n            .attr(\"y1\", function (d) { return d[0].y; })\n            .attr(\"x2\", function (d) { return d[1].x; })\n            .attr(\"y2\", function (d) { return d[1].y; })\n            .style(\"stroke-dasharray\", (\"1, 1\"));\n        //Draw bins\n        this.addGeneBarplotBins(20, start_angle, end_angle);\n        //Draw text to navigate between homologous genes\n        if (genes.length > 1) {\n            this.svg.select(\".detailed-barplot\")\n                .append(\"text\")\n                .attr(\"class\", \"previous-next \" + (this.current_gene.gene_in_triangle === genes.length - 1 ? \" inactive\" : \"\"))\n                .text(\"Next gene\")\n                .attr(\"y\", -this.barplot_gene_end)\n                .attr(\"x\", this.barplot_gene_begin)\n                .attr(\"text-anchor\", \"end\")\n                .on(\"click\", function () {\n                if (_this.current_gene.gene_in_triangle !== genes.length - 1) { //if active\n                    _this.current_gene = Object.assign(Object.assign({}, genes[_this.current_gene.gene_in_triangle + 1]), { gene_in_triangle: _this.current_gene.gene_in_triangle + 1, gene_total: _this.gene_coordinates.findIndex(function (e) { return e === genes[_this.current_gene.gene_in_triangle + 1]; }) });\n                    _this.addGeneBarplot(genes, middle_placement, barplot_length, triangle_length);\n                    _this.applyRotation(_this.current_rotation_angle);\n                }\n            });\n            this.svg.select(\".detailed-barplot\")\n                .append(\"text\")\n                .attr(\"class\", \"previous-next \" + (this.current_gene.gene_in_triangle === 0 ? \" inactive\" : \"\"))\n                .text(\"Previous gene\")\n                .attr(\"y\", -this.barplot_gene_end)\n                .attr(\"x\", -this.barplot_gene_begin)\n                .attr(\"text-anchor\", \"start\")\n                .on(\"click\", function () {\n                if (_this.current_gene.gene_in_triangle !== 0) {\n                    _this.current_gene = Object.assign(Object.assign({}, genes[_this.current_gene.gene_in_triangle - 1]), { gene_in_triangle: _this.current_gene.gene_in_triangle - 1, gene_total: _this.gene_coordinates.findIndex(function (e) { return e === genes[_this.current_gene.gene_in_triangle - 1]; }) });\n                    _this.addGeneBarplot(genes, middle_placement, barplot_length, triangle_length);\n                    _this.applyRotation(_this.current_rotation_angle);\n                }\n            });\n        }\n    };\n    /**\n     * Add sgRNA distribution along the current gene.\n     * @param nb_bins : number of bins to display in barplot\n     * @param start_angle : angle where the barplot begins\n     * @param end_angle : angle where the barplot ends\n     */\n    CircularBarplot.prototype.addGeneBarplotBins = function (nb_bins, start_angle, end_angle) {\n        var _this = this;\n        var coordinates_inside = this.list_coordinates.filter(function (e) { return e >= _this.current_gene.start && e < _this.current_gene.end; }); //list of coordinates inside the current gene\n        var detailed_bin_data = this.createBinData(coordinates_inside, nb_bins, this.current_gene.start, this.current_gene.end); //Format data for detailed histogram\n        var bin_x = d3.scaleLinear()\n            .range([start_angle, end_angle])\n            .domain([this.current_gene.start, this.current_gene.end]);\n        var max_prop = __spreadArrays(detailed_bin_data).sort(function (a, b) { return b.number_coords_proportion - a.number_coords_proportion; })[0].number_coords_proportion;\n        //Scale for y axis of barplot\n        var bin_y = d3.scaleLinear()\n            .range([this.barplot_gene_begin + 1, this.barplot_gene_end])\n            .domain([0, max_prop]); //Maybe max height instead of 1 ? Between 0 and 1 because we work with proportion.\n        //Add the barplot\n        this.svg.select(\".detailed-barplot\")\n            .selectAll(\"detailed-bin\")\n            .data(detailed_bin_data)\n            .enter()\n            .append(\"path\")\n            .attr(\"fill\", this.gene_color)\n            .attr(\"class\", \"detailed-bin\")\n            .attr(\"d\", d3.arc()\n            .innerRadius(bin_y(0))\n            .outerRadius(function (d) { return bin_y(d.number_coords_proportion); })\n            .startAngle(function (d) { return bin_x(d.bin_start); })\n            .endAngle(function (d) { return bin_x(d.bin_end); }));\n        var coordAngle = d3.scaleLinear()\n            .range([0, 360]) //Angle\n            .domain([0, 2 * Math.PI]); //Circle coordinates  \n        this.svg.select(\".detailed-barplot\")\n            .selectAll(\"detailed-barplot-label\")\n            .data([[this.current_gene.start, start_angle], [this.current_gene.end, end_angle]])\n            .enter()\n            .append(\"text\")\n            .attr(\"class\", \"detailed-barplot-label\")\n            //@ts-ignore\n            .attr('text-anchor', function (d, i) { return i === 0 ? 'end' : 'start'; }) //If it's start coordinate, anchor end. If it's end coordinates, anchor start.\n            .attr(\"x\", 0)\n            .attr(\"y\", -this.barplot_gene_begin - 0.5)\n            .attr('transform', function (d) { return \"rotate(\" + coordAngle(d[1]) + \")\"; })\n            .text(function (d) { return numberWithCommas(d[0]); })\n            .attr(\"font-size\", \"3px\")\n            .attr(\"fill\", this.gene_color);\n        this.svg.select(\".detailed-barplot\")\n            .append(\"text\")\n            .attr(\"class\", \"gene-name\")\n            .text(\"Homologous gene \" + this.current_gene.gene_number)\n            .attr(\"fill\", \"black\")\n            .attr(\"y\", -this.barplot_gene_end - 1)\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"font-size\", \"4px\");\n    };\n    /**\n     * Add coordinates red ticks for current sgrna\n     */\n    CircularBarplot.prototype.addSingleCoordinatesTicks = function () {\n        var coordinateScale = d3.scaleLinear()\n            .range([-180, 180]) // -180, 180 so tick 0 will be at genome origin (up middle)\n            .domain([0, this.genome_size]);\n        var ticks = this.svg\n            .append(\"g\")\n            .attr(\"class\", \"single-sgrna-ticks-container\")\n            .selectAll(\"single-sgrna-ticks\")\n            .data(this.selected_sgrna_coordinates)\n            .enter()\n            .append(\"line\")\n            .attr(\"class\", function (d) {\n            var start = parseInt(/\\(([0-9]*),/.exec(d)[1]);\n            return \"single-sgrna-ticks start\" + start;\n        })\n            .attr(\"stroke\", \"white\")\n            .attr(\"stroke-width\", \"0.5\")\n            .attr('x1', 0)\n            .attr(\"x2\", 0)\n            .attr(\"y1\", this.coordinates_begin)\n            .attr(\"y2\", this.coordinates_end)\n            .attr('transform', function (d) { return 'rotate(' + coordinateScale(parseInt(/\\(([0-9]*),/.exec(d)[1])) + ')'; });\n        //Transition when change sgrna\n        ticks.transition()\n            .delay(600)\n            .attr(\"stroke\", \"#ff9999\");\n    };\n    /**\n     * Highlight the given coord. In fact it's just creation of ticks in given color, because the concerned ticks are previously removed.\n     * @param coords : list of coords to highlight\n     * @param color : in which color you want to highlight\n     */\n    CircularBarplot.prototype.highlightCoordinatesTicks = function (coords, color) {\n        var coordinateScale = d3.scaleLinear()\n            .range([-180, 180]) // -180, 180 so tick 0 will be at genome origin (up middle)\n            .domain([0, this.genome_size]);\n        this.svg.selectAll(\".single-sgrna-ticks-container\")\n            .selectAll(\".singe-sgrna-ticks\")\n            .data(coords)\n            .enter()\n            .append(\"line\")\n            .attr(\"class\", function (d) {\n            var start = parseInt(/\\(([0-9]*),/.exec(d)[1]);\n            return \"single-sgrna-ticks start\" + start;\n        })\n            //.attr(\"class\", d => {const start = parseInt(/\\(([0-9]*),/.exec(d)[1]); return `start${start}`})\n            .attr(\"stroke\", color)\n            .attr(\"stroke-width\", \"0.5\")\n            .attr('x1', 0)\n            .attr(\"x2\", 0)\n            .attr(\"y1\", this.coordinates_begin)\n            .attr(\"y2\", this.coordinates_end)\n            .attr('transform', function (d) { return 'rotate(' + coordinateScale(parseInt(/\\(([0-9]*),/.exec(d)[1])) + ')'; });\n    };\n    /**\n     * Give coordinates on circle of genome position with trigonometry\n     * @param genome_position : position on genome\n     * @param radius : circle radius\n     */\n    CircularBarplot.prototype.circleCoordinates = function (genome_position, radius) {\n        //Give the angle for this genome position\n        var positionAngle = d3.scaleLinear()\n            .range([0, 2 * Math.PI])\n            .domain([0, this.genome_size]);\n        var angle = positionAngle(genome_position);\n        var x = Math.sin(angle) * radius; //Trigonometrie sin(alpha) = opposé / hypothénuse\n        var y = -Math.cos(angle) * radius; // Trigonometrie cos(alpha) = adjacent / hypothénuse\n        return { x: x, y: y };\n    };\n    /**\n     * Display gene triangles\n     */\n    CircularBarplot.prototype.displayGenes = function () {\n        var _this = this;\n        var angle = d3.scaleLinear()\n            .range([0, 360])\n            .domain([0, this.genome_size]);\n        var triangle_length = this.genome_size / 100;\n        var triangles = this.gatherGenesInTriangles(triangle_length);\n        var recentered_triangles = this.recenterTriangles(triangles);\n        var component = this;\n        this.svg\n            .append(\"g\")\n            .attr(\"class\", \"genes\")\n            .selectAll(\".gene-arc\")\n            .data(recentered_triangles)\n            .enter()\n            .append(\"polygon\")\n            .attr(\"points\", function (d) {\n            var middle = d.start + ((d.end - d.start) / 2);\n            var triangle_gap = triangle_length / 2;\n            var point1 = _this.circleCoordinates(middle, _this.gene_begin);\n            var point2 = _this.circleCoordinates(middle - triangle_gap, _this.gene_begin + _this.gene_tickness);\n            var point3 = _this.circleCoordinates(middle + triangle_gap, _this.gene_begin + _this.gene_tickness);\n            return point1.x + \",\" + point1.y + \" \" + point2.x + \",\" + point2.y + \" \" + point3.x + \",\" + point3.y;\n        })\n            .attr(\"fill\", this.gene_color)\n            //.attr(\"transform\", d => `rotate(${angle(d.end - d.start / 2)})`)\n            .on(\"click\", function (d) {\n            component.svg.selectAll(\".detailed-barplot\").remove(); //Remove detailed barplot if exists\n            component.svg.selectAll(\".bin\").style(\"opacity\", \"0.3\"); //All bins with initial opacity\n            var middle = d.start + ((d.end - d.start) / 2);\n            _this.current_gene = Object.assign(Object.assign({}, d.genes[0]), { \"gene_in_triangle\": 0, \"gene_total\": _this.gene_coordinates.findIndex(function (e) { return e === d.genes[0]; }) });\n            component.addGeneBarplot(d.genes, middle, _this.genome_size / 5, triangle_length);\n            //component.addGeneBarplotDetailed(d.start, d.end, middle - triangle_gap, middle + triangle_gap, this.gene_begin + this.gene_tickness, this.barplot_gene_begin, this.barplot_gene_end, \".barplot-detailed-gene\", this.gene_color, 20, 5)\n            _this.current_rotation_angle = -angle(middle);\n            component.applyRotation(_this.current_rotation_angle);\n            //component.displayGeneChoose(d.genes); \n        });\n        var gene_points = this.getGenePoints(recentered_triangles, triangle_length);\n        this.svg.select(\".genes\")\n            .selectAll(\".gene-points\")\n            .data(gene_points)\n            .enter()\n            .append(\"circle\")\n            .attr(\"cx\", function (d) { return _this.circleCoordinates(d.coord, d.y).x; })\n            .attr(\"cy\", function (d) { return _this.circleCoordinates(d.coord, d.y).y; })\n            .attr(\"r\", function (d) { return d.r; })\n            .attr(\"fill\", this.gene_color);\n    };\n    /**\n     * Gather close genes into single triangles.\n     * If the triangle used for represent a gene overlap an already existing triangle, the gene is added to this triangle.\n     * @param triangle_length : triangle length in bp\n     * Return list of triangles object, where start and end are the coordinates of first gene and genes is the list of genes inside triangle.\n     */\n    CircularBarplot.prototype.gatherGenesInTriangles = function (triangle_length) {\n        var gene_triangles = [];\n        this.gene_coordinates.forEach(function (gene_coord) {\n            var potential_triangle_middle = gene_coord.start + ((gene_coord.end - gene_coord.start) / 2);\n            var new_triangle = true;\n            gene_triangles.forEach(function (triangle) {\n                var triangle_middle = triangle.start + ((triangle.end - triangle.start) / 2);\n                if (potential_triangle_middle - triangle_length / 2 <= triangle_middle + triangle_length / 2) {\n                    triangle.genes.push(gene_coord);\n                    new_triangle = false;\n                }\n            });\n            if (new_triangle) {\n                gene_triangles.push({ \"start\": gene_coord.start, \"end\": gene_coord.end, \"genes\": [gene_coord] });\n            }\n        });\n        return gene_triangles;\n    };\n    /**\n     * Compute coordinates of points that represent genes inside triangle.\n     * If a triangle contains more than max_row * points_per_row genes, only a bigger point is displayed.\n     * @param gene_triangles : triangles that contains genes.\n     * @param triangle_length : triangle length in bp\n     * @param max_row : maximum number of row to display points\n     * @param points_per_row : number of points per row\n     * Return list of points, 'coord' is the x coordinate of point in bp, 'r' is the point radius and 'y' is the vertical y coordinate.\n     */\n    CircularBarplot.prototype.getGenePoints = function (gene_triangles, triangle_length, max_row, points_per_row) {\n        var _this = this;\n        if (max_row === void 0) { max_row = 2; }\n        if (points_per_row === void 0) { points_per_row = 3; }\n        var gene_points = [];\n        gene_triangles.map(function (triangle) {\n            var triangle_start = (triangle.start + ((triangle.end - triangle.start) / 2)) - triangle_length / 2;\n            var triangle_gap = triangle.genes.length >= points_per_row ? triangle_length / points_per_row : triangle_length / triangle.genes.length;\n            var point_start = triangle_gap / 2;\n            if (triangle.genes.length > max_row * points_per_row) {\n                gene_points.push({ \"coord\": triangle.start + ((triangle.end - triangle.start) / 2), \"r\": 0.7, \"y\": _this.gene_begin + _this.gene_tickness + 1 });\n            }\n            else {\n                var nb_row = 0;\n                for (var i = 0; i < triangle.genes.length; i++) {\n                    if (i % points_per_row === 0 && i != 0)\n                        nb_row++;\n                    gene_points.push({ \"coord\": triangle_start + point_start + (i - points_per_row * nb_row) * triangle_gap, \"r\": 0.4, \"y\": _this.gene_begin + _this.gene_tickness + nb_row + 1 });\n                }\n            }\n        });\n        return gene_points;\n    };\n    /**\n     * Apply rotation to genome circle\n     * @param angle : rotation angle\n     */\n    CircularBarplot.prototype.applyRotation = function (angle, transition_time) {\n        if (transition_time === void 0) { transition_time = 500; }\n        this.svg\n            .transition()\n            .duration(transition_time)\n            .attr(\"transform\", \"rotate(\" + angle + \")\");\n        this.svg.selectAll(\".genome-size-container\")\n            .transition()\n            .duration(transition_time)\n            .attr(\"transform\", \"rotate(\" + -angle + \")\");\n        this.svg.selectAll(\".coord-label-container text\")\n            .transition()\n            .duration(transition_time)\n            .attr(\"transform\", function (d) { return \"rotate(\" + -angle + \", \" + d.x + \", \" + d.y + \")\"; });\n        this.svg.selectAll(\".gene-name,.previous-next\")\n            .attr(\"transform\", \"rotate(\" + -angle + \")\");\n    };\n    /**\n     * Emphasize label for 0 coordinates (red and bold)\n     */\n    CircularBarplot.prototype.emphasizeZero = function () {\n        this.svg.select(\".coord-tick\")\n            .attr(\"stroke\", \"red\")\n            .attr(\"stroke-width\", 0.7);\n        this.svg.select(\".coord-label\")\n            .style(\"fill\", \"red\")\n            .style(\"font-weight\", \"bold\");\n    };\n    /**\n     * De-emphasize label for 0 coordinate (grey and not bold)\n     */\n    CircularBarplot.prototype.deEmphasizeZero = function () {\n        this.svg.select(\".coord-tick\")\n            .attr(\"stroke\", \"grey\")\n            .attr(\"stroke-width\", 0.5);\n        this.svg.select(\".coord-label\")\n            .style(\"fill\", \"grey\")\n            .style(\"font-weight\", \"normal\");\n    };\n    /**\n     * Reinitialize genome circle when click everywhere in svg except barplot, detailed barplots and gene triangle\n     */\n    CircularBarplot.prototype.addReinitializeEvent = function () {\n        var _this = this;\n        var svg = this.element.shadowRoot.querySelector(\"svg\");\n        svg.addEventListener('click', function (e) {\n            var current_parent_node = (e.target.parentElement);\n            if (!current_parent_node.classList.contains(\"barplot-container\") && !current_parent_node.classList.contains(\"detailed-barplot\") && !current_parent_node.classList.contains(\"genes\")) {\n                _this.svg.selectAll(\".detailed-barplot\").remove(); //Remove detailed barplot if exists\n                _this.svg.selectAll(\".bin\").style(\"opacity\", \"1\"); //All bins with initial opacity                \n                if (_this.active_rotation) {\n                    _this.applyRotation(0);\n                    _this.deEmphasizeZero();\n                }\n            }\n        });\n    };\n    /**\n     * Center triangles relative to their inside genes\n     * If triangle contains only 1 gene, start and end don't change. If triangle contains more than 1 gene, start and end become mean of start and end coordinates of genes.\n     * @param triangles : triangles to recenter\n     */\n    CircularBarplot.prototype.recenterTriangles = function (triangles) {\n        var new_triangles = [];\n        triangles.forEach(function (triangle) {\n            if (triangle.genes.length === 1)\n                new_triangles.push(triangle);\n            else {\n                var start_mean = triangle.genes.reduce(function (acc, val) { return acc + val.start; }, 0) / triangle.genes.length;\n                var end_mean = triangle.genes.reduce(function (acc, val) { return acc + val.end; }, 0) / triangle.genes.length;\n                new_triangles.push({ \"start\": start_mean, \"end\": end_mean, \"genes\": triangle.genes });\n            }\n        });\n        return new_triangles;\n    };\n    /**\n     * If svg exists, clean it. If not, initialize it.\n     */\n    CircularBarplot.prototype.componentDidRender = function () {\n        this.svg ? this.cleanSvg() : this.initializeSvg();\n        this.displaySvgContent();\n    };\n    CircularBarplot.prototype.render = function () {\n        return (h(\"div\", { class: \"circular-barplot-main\" }));\n    };\n    Object.defineProperty(CircularBarplot.prototype, \"element\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularBarplot, \"watchers\", {\n        get: function () {\n            return {\n                \"selected_sgrna_coordinates\": [\"selectedSgrnaChange\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CircularBarplot;\n}());\n/**\n * Transform number to string with comma as thousands separators\n * @param x : number to transform\n */\n//https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\nCircularBarplot.style = circularBarplotCss;\nvar circularBarplotLegendCss = \"\";\nvar CircularBarplotLegend = /** @class */ (function () {\n    function CircularBarplotLegend(hostRef) {\n        registerInstance(this, hostRef);\n    }\n    CircularBarplotLegend.prototype.componentDidLoad = function () {\n        this.width = 25;\n        this.height = 11;\n        var main_div = this.element.shadowRoot.querySelector('.circular-barplot-legend-main');\n        this.svg = d3.select(main_div)\n            .append(\"svg\")\n            .attr(\"viewBox\", [-this.width / 2, -this.height / 2, this.width, this.height])\n            .append(\"g\");\n        this.addSingleCoordinatesLegend();\n        this.addCoordBarplotLegend();\n        if (this.gene) {\n            this.addGeneTriangleLegend();\n            this.addGeneBarplotLegend();\n        }\n    };\n    CircularBarplotLegend.prototype.addSingleCoordinatesLegend = function () {\n        var _this = this;\n        this.svg.append(\"g\").attr(\"class\", \"single-coordinates-legend\");\n        var factice_data = Array.from({ length: 30 }, function () { return Math.random(); });\n        var angle = d3.scaleLinear()\n            .domain([0, 1])\n            .range([0, 360]);\n        this.svg.append(\"g\")\n            .selectAll(\"ticks\")\n            .data(factice_data)\n            .enter()\n            .append(\"line\")\n            .attr(\"stroke\", \"#ff9999\")\n            .attr(\"stroke-width\", 0.1)\n            .attr(\"x1\", -this.width / 2 + 2)\n            .attr(\"x2\", -this.width / 2 + 2)\n            .attr(\"y1\", -this.height / 2 + 1.6)\n            .attr(\"y2\", -this.height / 2 + 2)\n            .attr(\"transform\", function (d) { return \"rotate (\" + angle(d) + \", \" + (-_this.width / 2 + 2) + \", \" + (-_this.height / 2 + 1) + \")\"; });\n        /*this.svg\n            //.append(\"g\")\n            //.attr(\"class\", \"single-coordinates-legend-line\")\n            .append(\"line\")\n            .attr(\"class\", \"legend-line\")\n            .attr(\"stroke\", \"#ff9999\")\n            .attr(\"stroke-width\", 0.1)\n            .attr('x1', -this.width/2 + 1.5)\n            .attr('x2', -this.width/2 + 2.5)\n            .attr('y1', -this.height/2 + 1)\n            .attr('y2', -this.height/2 + 1)*/\n        this.svg\n            //.append(\"g\")\n            //.attr(\"class\", \"single-coordinates-legend-text\")\n            .append(\"text\")\n            .attr(\"class\", \"legend-text\")\n            .attr('x', -this.width / 2 + 4)\n            .attr('y', -this.height / 2 + 1)\n            .text(\"Position(s) of current sgRNA along the genome\")\n            //.attr('text-anchor', 'left')\n            .attr('font-size', '0.8px')\n            .attr(\"dominant-baseline\", \"middle\");\n    };\n    CircularBarplotLegend.prototype.addMiniBarplot = function (x_coord, y_coord, color) {\n        var y = d3.scaleLinear()\n            .domain([0, 1])\n            .range([0, 2]);\n        var x = d3.scaleLinear()\n            .domain([0, 3])\n            .range([x_coord, x_coord + 1.5]);\n        var factice_data = [[0, 0.3], [1, 0.8], [2, 0.4], [3, 1]];\n        //this.svg.append(\"g\").call(d3.axisLeft(y))\n        //this.svg.append(\"g\").call(d3.axisBottom(x))\n        this.svg.append(\"g\")\n            .selectAll(\"bin\")\n            .data(factice_data)\n            .enter()\n            .append(\"rect\")\n            .attr(\"x\", function (d) { return x(d[0]); })\n            .attr(\"y\", y_coord)\n            .attr(\"width\", 0.4)\n            .attr(\"height\", function (d) { return y(d[1]); })\n            .attr(\"fill\", color)\n            .attr(\"transform\", \"rotate(180, \" + x_coord + \", \" + y_coord + \")\");\n    };\n    CircularBarplotLegend.prototype.addCoordBarplotLegend = function () {\n        this.addMiniBarplot(-this.width / 2 + 3, this.height / 2 - 6.5, \"#66B032\");\n        this.svg\n            .append(\"text\")\n            .attr(\"class\", \"legend-text\")\n            .attr('x', -this.width / 2 + 4)\n            .attr('y', -this.height / 2 + 3.5)\n            .text(\"Distribution of all sgRNAs positions along the genome\")\n            //.attr('text-anchor', 'left')\n            .attr('font-size', '0.8px')\n            .attr(\"dominant-baseline\", \"middle\");\n    };\n    CircularBarplotLegend.prototype.addGeneTriangleLegend = function () {\n        this.svg\n            .append(\"polygon\")\n            .attr(\"points\", \" \" + (-this.width / 2 + 2) + \",\" + (-this.height / 2 + 6.5) + \" \" + (-this.width / 2 + 1.5) + \",\" + (-this.height / 2 + 5.5) + \" \" + (-this.width / 2 + 2.5) + \",\" + (-this.height / 2 + 5.5))\n            .attr(\"fill\", \"#D5912A\");\n        this.svg\n            .append(\"text\")\n            .attr('x', -this.width / 2 + 4)\n            .attr('y', -this.height / 2 + 6)\n            .text(\"Position(s) of homolog genes along genome\")\n            //.attr('text-anchor', 'left')\n            .attr('font-size', '0.8px')\n            .attr(\"dominant-baseline\", \"middle\");\n    };\n    CircularBarplotLegend.prototype.addGeneBarplotLegend = function () {\n        this.addMiniBarplot(-this.width / 2 + 3, this.height / 2 - 1.5, \"#D5912A\");\n        this.svg\n            .append(\"text\")\n            .attr('x', -this.width / 2 + 4)\n            .attr('y', -this.height / 2 + 8.5)\n            .text(\"Distribution of all sgRNAs along the gene\")\n            //.attr('text-anchor', 'left')\n            .attr('font-size', '0.8px')\n            .attr(\"dominant-baseline\", \"middle\");\n    };\n    CircularBarplotLegend.prototype.render = function () {\n        return (h(\"div\", { class: \"circular-barplot-legend-main\" }));\n    };\n    Object.defineProperty(CircularBarplotLegend.prototype, \"element\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return CircularBarplotLegend;\n}());\nCircularBarplotLegend.style = circularBarplotLegendCss;\nvar coordBoxCss = \".coord-box-root{height:12.6rem;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.coord-box-header{font-weight:bold;margin-bottom:0.5rem}.coord-box-content{margin-bottom:17px;height:100%;overflow:auto;white-space:pre-line;line-height:1.3em;border-style:solid;border-width:thin;border-radius:8px;border-color:#e4e4e4}li{list-style-type:none}li:hover{color:#ff0000}.coord-on-gene{color:grey;font-size:12px}\";\nvar CoordBox = /** @class */ (function () {\n    function CoordBox(hostRef) {\n        registerInstance(this, hostRef);\n        this.onOverCoordinate = createEvent(this, \"coord-box.coordinate-over\", 7);\n        this.onOutCoordinate = createEvent(this, \"coord-box.coordinate-out\", 7);\n    }\n    CoordBox.prototype.render = function () {\n        var _this = this;\n        var coords = this.current_sgrnas.find(function (e) { return e.seq === _this.selected.sgrna; }).coords;\n        return (h(\"div\", { class: \"coord-box-root\" }, h(\"div\", { class: \"coord-box-header\" }, h(\"span\", null, this.selected.sgrna, \" has \", coords.length, \" hit\", coords.length === 1 ? \"\" : \"s\", \" in \", this.selected.ref, \" from \", this.selected.org, \":\")), h(\"div\", { class: \"coord-box-content\" }, h(\"ul\", null, coords\n            .map(function (coord_obj) { return h(\"li\", { onMouseOver: function () { return _this.onOverCoordinate.emit(coord_obj.coord); }, onMouseOut: function () { return _this.onOutCoordinate.emit(coord_obj.coord); } }, h(\"span\", null, coord_obj.coord), h(\"span\", { class: \"coord-on-gene\" }, _this.current_genes ? coord_obj.is_on_gene.length > 0 ? \" \" + coord_obj.is_on_gene : \" not on gene\" : \"\")); })))));\n    };\n    return CoordBox;\n}());\nCoordBox.style = coordBoxCss;\nvar dropdownMenuCss = \".dropdown-menu-root{display:grid;grid-template-columns:8em 30em;-webkit-column-gap:1em;-moz-column-gap:1em;column-gap:1em;grid-template-areas:\\\"button select-org\\\"\\n        \\\"button select-ref\\\"\\n        \\\"button ncbi-link\\\"\\n        \\\"button select-sgrna\\\"}.select-sgrna{grid-area:select-sgrna}.select-org{grid-area:select-org}.select-ref{grid-area:select-ref}.link{padding-bottom:0.5em;padding-top:0.5em;padding-left:0.5em;color:#4d4d4d;display:-ms-flexbox;display:flex;grid-area:ncbi-link}.ncbi-link{color:#4d4d4d;display:-ms-flexbox;display:flex;color:#4d4d4d;-ms-flex-align:center;align-items:center;text-decoration:none}.ncbi-link:hover{color:rgba(239, 71, 111)}.ncbi-link>span{text-decoration:underline}.info-icon{font-size:20px !important;padding-right:0.2em;text-decoration:none}.highlight-sgrna-button{grid-area:button;border-radius:5px;background-color:#f9f9f9;border:1px #e4e4e4 solid;width:100%;text-align:center;-webkit-transition:background-color .3s;transition:background-color .3s}.highlight-sgrna-button:hover{background-color:#e6e6e6}.inside-sgrna-button{display:grid;grid-template-columns:-webkit-min-content auto;grid-template-columns:min-content auto}.inside-sgrna-button>span{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.inside-sgrna-button>i{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}\";\nvar DropdownMenu = /** @class */ (function () {\n    function DropdownMenu(hostRef) {\n        registerInstance(this, hostRef);\n        this.organisms = [];\n        this.fasta_refs = [];\n        this.sgrnas = [];\n        this.selected = undefined;\n        this.ref_visible = \"hidden\";\n        this.sgrna_visible = \"hidden\";\n        this.onClickHighlightButton = createEvent(this, \"dropdown-menu.display-button-click\", 7);\n    }\n    /*Maybe put it elsewhere\n    To check if accession is a valid refseq or genbank genomic accession\n    genbank : https://www.ncbi.nlm.nih.gov/Sequin/acc.html\n    refseq : https://www.ncbi.nlm.nih.gov/books/NBK21091/table/ch18.T.refseq_accession_numbers_and_mole/?report=objectonly\n    */\n    DropdownMenu.prototype.isValidAccession = function (accession) {\n        var genbank1_regex = new RegExp('^[A-Z]{1}[0-9]{5}$');\n        var genbank2_regex = new RegExp('^[A-Z]{2}[0-9]{6}$');\n        var genbank3_regex = new RegExp('^[A-Z]{2}[0-9]{8}$');\n        var refseq_regex = new RegExp('^[NA][CGTWZ]_');\n        return refseq_regex.test(accession) || genbank1_regex.test(accession) || genbank2_regex.test(accession) || genbank3_regex.test(accession);\n    };\n    DropdownMenu.prototype.displayNcbiLink = function () {\n        if (this.selected.ref) {\n            var cut_ref = this.selected.ref.split(\".\")[0];\n            if (this.isValidAccession(cut_ref)) {\n                return h(\"div\", { class: \"link\" }, h(\"a\", { class: \"ncbi-link\", href: \"https://www.ncbi.nlm.nih.gov/nuccore/\" + (cut_ref), target: \"_blank\" }, h(\"i\", { class: \"material-icons info-icon\" }, \"pageview\"), h(\"span\", null, \" \", this.selected.ref, \" NCBI page \")));\n            }\n            else {\n                return h(\"div\", { class: \"link\" }, h(\"a\", { class: \"ncbi-link\", href: \"https://www.ncbi.nlm.nih.gov/nuccore/\", target: \"_blank\" }, h(\"i\", { class: \"material-icons info-icon\" }, \"pageview\"), h(\"span\", null, \" General NCBI nucleotide page \")), h(\"span\", null, \" This accession is not a valid RefSeq or GenBank genomic accession\"));\n            }\n        }\n        else\n            return;\n    };\n    DropdownMenu.prototype.render = function () {\n        var _this = this;\n        return (h(\"div\", { class: \"dropdown-menu-root\" }, h(\"button\", { class: \"highlight-sgrna-button\", style: { visibility: this.selected.sgrna ? \"visible\" : \"hidden\" }, onClick: function () { _this.onClickHighlightButton.emit(); } }, h(\"div\", { class: \"inside-sgrna-button\" }, h(\"i\", { class: \"material-icons\", style: { float: 'left' } }, \"arrow_left\"), h(\"span\", null, \" Display in the left pannel \"))), h(\"div\", { class: \"select-org\" }, h(\"mmsb-select\", { label: \"Select organism\", data: this.organisms.map(function (org) { return [org, org]; }), selected: this.selected.org ? [this.selected.org] : [], onSelect: function (e) {\n                _this.selectOrg(e);\n            }, boldOnSelected: true })), h(\"div\", { class: \"select-ref\", style: { visibility: this.fasta_refs.length ? \"visible\" : \"hidden\" } }, h(\"mmsb-select\", { label: \"Select fasta query\", data: this.fasta_refs.map(function (ref) { return [ref, ref]; }), selected: this.selected.ref ? [this.selected.ref] : [], onSelect: function (e) {\n                _this.selectRef(e);\n            }, boldOnSelected: true })), h(\"div\", { class: \"ncbi-link-div\", style: { visibility: this.selected.ref ? \"visible\" : \"hidden\" } }, this.displayNcbiLink()), h(\"div\", { class: \"select-sgrna\", style: { visibility: this.sgrnas.length ? \"visible\" : \"hidden\" } }, h(\"mmsb-select\", { label: \"Select sgRNA sequence\", data: this.sgrnas.map(function (sgrna_entry) { return [sgrna_entry.seq, sgrna_entry.seq]; }), selected: this.selected.sgrna ? [this.selected.sgrna] : [], onSelect: function (e) {\n                _this.selectSgrna(e);\n            }, boldOnSelected: true }))));\n    };\n    return DropdownMenu;\n}());\nDropdownMenu.style = dropdownMenuCss;\nfunction ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction bisector(compare) {\n    if (compare.length === 1)\n        compare = ascendingComparator(compare);\n    return {\n        left: function (a, x, lo, hi) {\n            if (lo == null)\n                lo = 0;\n            if (hi == null)\n                hi = a.length;\n            while (lo < hi) {\n                var mid = lo + hi >>> 1;\n                if (compare(a[mid], x) < 0)\n                    lo = mid + 1;\n                else\n                    hi = mid;\n            }\n            return lo;\n        },\n        right: function (a, x, lo, hi) {\n            if (lo == null)\n                lo = 0;\n            if (hi == null)\n                hi = a.length;\n            while (lo < hi) {\n                var mid = lo + hi >>> 1;\n                if (compare(a[mid], x) > 0)\n                    hi = mid;\n                else\n                    lo = mid + 1;\n            }\n            return lo;\n        }\n    };\n}\nfunction ascendingComparator(f) {\n    return function (d, x) {\n        return ascending(f(d), x);\n    };\n}\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\nvar e10 = Math.sqrt(50), e5 = Math.sqrt(10), e2 = Math.sqrt(2);\nfunction ticks(start, stop, count) {\n    var reverse, i = -1, n, ticks, step;\n    stop = +stop, start = +start, count = +count;\n    if (start === stop && count > 0)\n        return [start];\n    if (reverse = stop < start)\n        n = start, start = stop, stop = n;\n    if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step))\n        return [];\n    if (step > 0) {\n        start = Math.ceil(start / step);\n        stop = Math.floor(stop / step);\n        ticks = new Array(n = Math.ceil(stop - start + 1));\n        while (++i < n)\n            ticks[i] = (start + i) * step;\n    }\n    else {\n        start = Math.floor(start * step);\n        stop = Math.ceil(stop * step);\n        ticks = new Array(n = Math.ceil(start - stop + 1));\n        while (++i < n)\n            ticks[i] = (start - i) / step;\n    }\n    if (reverse)\n        ticks.reverse();\n    return ticks;\n}\nfunction tickIncrement(start, stop, count) {\n    var step = (stop - start) / Math.max(0, count), power = Math.floor(Math.log(step) / Math.LN10), error = step / Math.pow(10, power);\n    return power >= 0\n        ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n        : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nfunction tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count), step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)), error = step0 / step1;\n    if (error >= e10)\n        step1 *= 10;\n    else if (error >= e5)\n        step1 *= 5;\n    else if (error >= e2)\n        step1 *= 2;\n    return stop < start ? -step1 : step1;\n}\nfunction max(values, valueof) {\n    var n = values.length, i = -1, value, max;\n    if (valueof == null) {\n        while (++i < n) { // Find the first comparable value.\n            if ((value = values[i]) != null && value >= value) {\n                max = value;\n                while (++i < n) { // Compare the remaining values.\n                    if ((value = values[i]) != null && value > max) {\n                        max = value;\n                    }\n                }\n            }\n        }\n    }\n    else {\n        while (++i < n) { // Find the first comparable value.\n            if ((value = valueof(values[i], i, values)) != null && value >= value) {\n                max = value;\n                while (++i < n) { // Compare the remaining values.\n                    if ((value = valueof(values[i], i, values)) != null && value > max) {\n                        max = value;\n                    }\n                }\n            }\n        }\n    }\n    return max;\n}\nfunction min(values, valueof) {\n    var n = values.length, i = -1, value, min;\n    if (valueof == null) {\n        while (++i < n) { // Find the first comparable value.\n            if ((value = values[i]) != null && value >= value) {\n                min = value;\n                while (++i < n) { // Compare the remaining values.\n                    if ((value = values[i]) != null && min > value) {\n                        min = value;\n                    }\n                }\n            }\n        }\n    }\n    else {\n        while (++i < n) { // Find the first comparable value.\n            if ((value = valueof(values[i], i, values)) != null && value >= value) {\n                min = value;\n                while (++i < n) { // Compare the remaining values.\n                    if ((value = valueof(values[i], i, values)) != null && min > value) {\n                        min = value;\n                    }\n                }\n            }\n        }\n    }\n    return min;\n}\nfunction scan(values, compare) {\n    if (!(n = values.length))\n        return;\n    var n, i = 0, j = 0, xi, xj = values[j];\n    if (compare == null)\n        compare = ascending;\n    while (++i < n) {\n        if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n            xj = xi, j = i;\n        }\n    }\n    if (compare(xj, xj) === 0)\n        return j;\n}\nvar slice = Array.prototype.slice;\nfunction identity(x) {\n    return x;\n}\nvar top = 1, right = 2, bottom = 3, left = 4, epsilon = 1e-6;\nfunction translateX(x) {\n    return \"translate(\" + (x + 0.5) + \",0)\";\n}\nfunction translateY(y) {\n    return \"translate(0,\" + (y + 0.5) + \")\";\n}\nfunction number(scale) {\n    return function (d) {\n        return +scale(d);\n    };\n}\nfunction center(scale) {\n    var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n    if (scale.round())\n        offset = Math.round(offset);\n    return function (d) {\n        return +scale(d) + offset;\n    };\n}\nfunction entering() {\n    return !this.__axis;\n}\nfunction axis(orient, scale) {\n    var tickArguments = [], tickValues = null, tickFormat = null, tickSizeInner = 6, tickSizeOuter = 6, tickPadding = 3, k = orient === top || orient === left ? -1 : 1, x = orient === left || orient === right ? \"x\" : \"y\", transform = orient === top || orient === bottom ? translateX : translateY;\n    function axis(context) {\n        var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues, format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat, spacing = Math.max(tickSizeInner, 0) + tickPadding, range = scale.range(), range0 = +range[0] + 0.5, range1 = +range[range.length - 1] + 0.5, position = (scale.bandwidth ? center : number)(scale.copy()), selection = context.selection ? context.selection() : context, path = selection.selectAll(\".domain\").data([null]), tick = selection.selectAll(\".tick\").data(values, scale).order(), tickExit = tick.exit(), tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"), line = tick.select(\"line\"), text = tick.select(\"text\");\n        path = path.merge(path.enter().insert(\"path\", \".tick\")\n            .attr(\"class\", \"domain\")\n            .attr(\"stroke\", \"currentColor\"));\n        tick = tick.merge(tickEnter);\n        line = line.merge(tickEnter.append(\"line\")\n            .attr(\"stroke\", \"currentColor\")\n            .attr(x + \"2\", k * tickSizeInner));\n        text = text.merge(tickEnter.append(\"text\")\n            .attr(\"fill\", \"currentColor\")\n            .attr(x, k * spacing)\n            .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n        if (context !== selection) {\n            path = path.transition(context);\n            tick = tick.transition(context);\n            line = line.transition(context);\n            text = text.transition(context);\n            tickExit = tickExit.transition(context)\n                .attr(\"opacity\", epsilon)\n                .attr(\"transform\", function (d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n            tickEnter\n                .attr(\"opacity\", epsilon)\n                .attr(\"transform\", function (d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n        }\n        tickExit.remove();\n        path\n            .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n        tick\n            .attr(\"opacity\", 1)\n            .attr(\"transform\", function (d) { return transform(position(d)); });\n        line\n            .attr(x + \"2\", k * tickSizeInner);\n        text\n            .attr(x, k * spacing)\n            .text(format);\n        selection.filter(entering)\n            .attr(\"fill\", \"none\")\n            .attr(\"font-size\", 10)\n            .attr(\"font-family\", \"sans-serif\")\n            .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n        selection\n            .each(function () { this.__axis = position; });\n    }\n    axis.scale = function (_) {\n        return arguments.length ? (scale = _, axis) : scale;\n    };\n    axis.ticks = function () {\n        return tickArguments = slice.call(arguments), axis;\n    };\n    axis.tickArguments = function (_) {\n        return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n    };\n    axis.tickValues = function (_) {\n        return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n    };\n    axis.tickFormat = function (_) {\n        return arguments.length ? (tickFormat = _, axis) : tickFormat;\n    };\n    axis.tickSize = function (_) {\n        return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n    };\n    axis.tickSizeInner = function (_) {\n        return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n    };\n    axis.tickSizeOuter = function (_) {\n        return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n    };\n    axis.tickPadding = function (_) {\n        return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n    };\n    return axis;\n}\nfunction axisTop(scale) {\n    return axis(top, scale);\n}\nfunction axisRight(scale) {\n    return axis(right, scale);\n}\nfunction axisBottom(scale) {\n    return axis(bottom, scale);\n}\nfunction axisLeft(scale) {\n    return axis(left, scale);\n}\nvar noop = { value: function () { } };\nfunction dispatch() {\n    for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n        if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t))\n            throw new Error(\"illegal type: \" + t);\n        _[t] = [];\n    }\n    return new Dispatch(_);\n}\nfunction Dispatch(_) {\n    this._ = _;\n}\nfunction parseTypenames(typenames, types) {\n    return typenames.trim().split(/^|\\s+/).map(function (t) {\n        var name = \"\", i = t.indexOf(\".\");\n        if (i >= 0)\n            name = t.slice(i + 1), t = t.slice(0, i);\n        if (t && !types.hasOwnProperty(t))\n            throw new Error(\"unknown type: \" + t);\n        return { type: t, name: name };\n    });\n}\nDispatch.prototype = dispatch.prototype = {\n    constructor: Dispatch,\n    on: function (typename, callback) {\n        var _ = this._, T = parseTypenames(typename + \"\", _), t, i = -1, n = T.length;\n        // If no callback was specified, return the callback of the given type and name.\n        if (arguments.length < 2) {\n            while (++i < n)\n                if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name)))\n                    return t;\n            return;\n        }\n        // If a type was specified, set the callback for the given type and name.\n        // Otherwise, if a null callback was specified, remove callbacks of the given name.\n        if (callback != null && typeof callback !== \"function\")\n            throw new Error(\"invalid callback: \" + callback);\n        while (++i < n) {\n            if (t = (typename = T[i]).type)\n                _[t] = set(_[t], typename.name, callback);\n            else if (callback == null)\n                for (t in _)\n                    _[t] = set(_[t], typename.name, null);\n        }\n        return this;\n    },\n    copy: function () {\n        var copy = {}, _ = this._;\n        for (var t in _)\n            copy[t] = _[t].slice();\n        return new Dispatch(copy);\n    },\n    call: function (type, that) {\n        if ((n = arguments.length - 2) > 0)\n            for (var args = new Array(n), i = 0, n, t; i < n; ++i)\n                args[i] = arguments[i + 2];\n        if (!this._.hasOwnProperty(type))\n            throw new Error(\"unknown type: \" + type);\n        for (t = this._[type], i = 0, n = t.length; i < n; ++i)\n            t[i].value.apply(that, args);\n    },\n    apply: function (type, that, args) {\n        if (!this._.hasOwnProperty(type))\n            throw new Error(\"unknown type: \" + type);\n        for (var t = this._[type], i = 0, n = t.length; i < n; ++i)\n            t[i].value.apply(that, args);\n    }\n};\nfunction get(type, name) {\n    for (var i = 0, n = type.length, c; i < n; ++i) {\n        if ((c = type[i]).name === name) {\n            return c.value;\n        }\n    }\n}\nfunction set(type, name, callback) {\n    for (var i = 0, n = type.length; i < n; ++i) {\n        if (type[i].name === name) {\n            type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n            break;\n        }\n    }\n    if (callback != null)\n        type.push({ name: name, value: callback });\n    return type;\n}\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nvar namespaces = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: xhtml,\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\nfunction namespace(name) {\n    var prefix = name += \"\", i = prefix.indexOf(\":\");\n    if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\")\n        name = name.slice(i + 1);\n    return namespaces.hasOwnProperty(prefix) ? { space: namespaces[prefix], local: name } : name;\n}\nfunction creatorInherit(name) {\n    return function () {\n        var document = this.ownerDocument, uri = this.namespaceURI;\n        return uri === xhtml && document.documentElement.namespaceURI === xhtml\n            ? document.createElement(name)\n            : document.createElementNS(uri, name);\n    };\n}\nfunction creatorFixed(fullname) {\n    return function () {\n        return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n    };\n}\nfunction creator(name) {\n    var fullname = namespace(name);\n    return (fullname.local\n        ? creatorFixed\n        : creatorInherit)(fullname);\n}\nfunction none() { }\nfunction selector(selector) {\n    return selector == null ? none : function () {\n        return this.querySelector(selector);\n    };\n}\nfunction selection_select(select) {\n    if (typeof select !== \"function\")\n        select = selector(select);\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n            if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n                if (\"__data__\" in node)\n                    subnode.__data__ = node.__data__;\n                subgroup[i] = subnode;\n            }\n        }\n    }\n    return new Selection(subgroups, this._parents);\n}\nfunction empty() {\n    return [];\n}\nfunction selectorAll(selector) {\n    return selector == null ? empty : function () {\n        return this.querySelectorAll(selector);\n    };\n}\nfunction selection_selectAll(select) {\n    if (typeof select !== \"function\")\n        select = selectorAll(select);\n    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                subgroups.push(select.call(node, node.__data__, i, group));\n                parents.push(node);\n            }\n        }\n    }\n    return new Selection(subgroups, parents);\n}\nfunction matcher(selector) {\n    return function () {\n        return this.matches(selector);\n    };\n}\nfunction selection_filter(match) {\n    if (typeof match !== \"function\")\n        match = matcher(match);\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n            if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n                subgroup.push(node);\n            }\n        }\n    }\n    return new Selection(subgroups, this._parents);\n}\nfunction sparse(update) {\n    return new Array(update.length);\n}\nfunction selection_enter() {\n    return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\nfunction EnterNode(parent, datum) {\n    this.ownerDocument = parent.ownerDocument;\n    this.namespaceURI = parent.namespaceURI;\n    this._next = null;\n    this._parent = parent;\n    this.__data__ = datum;\n}\nEnterNode.prototype = {\n    constructor: EnterNode,\n    appendChild: function (child) { return this._parent.insertBefore(child, this._next); },\n    insertBefore: function (child, next) { return this._parent.insertBefore(child, next); },\n    querySelector: function (selector) { return this._parent.querySelector(selector); },\n    querySelectorAll: function (selector) { return this._parent.querySelectorAll(selector); }\n};\nfunction constant(x) {\n    return function () {\n        return x;\n    };\n}\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\nfunction bindIndex(parent, group, enter, update, exit, data) {\n    var i = 0, node, groupLength = group.length, dataLength = data.length;\n    // Put any non-null nodes that fit into update.\n    // Put any null nodes into enter.\n    // Put any remaining data into enter.\n    for (; i < dataLength; ++i) {\n        if (node = group[i]) {\n            node.__data__ = data[i];\n            update[i] = node;\n        }\n        else {\n            enter[i] = new EnterNode(parent, data[i]);\n        }\n    }\n    // Put any non-null nodes that don’t fit into exit.\n    for (; i < groupLength; ++i) {\n        if (node = group[i]) {\n            exit[i] = node;\n        }\n    }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n    var i, node, nodeByKeyValue = {}, groupLength = group.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;\n    // Compute the key for each node.\n    // If multiple nodes have the same key, the duplicates are added to exit.\n    for (i = 0; i < groupLength; ++i) {\n        if (node = group[i]) {\n            keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n            if (keyValue in nodeByKeyValue) {\n                exit[i] = node;\n            }\n            else {\n                nodeByKeyValue[keyValue] = node;\n            }\n        }\n    }\n    // Compute the key for each datum.\n    // If there a node associated with this key, join and add it to update.\n    // If there is not (or the key is a duplicate), add it to enter.\n    for (i = 0; i < dataLength; ++i) {\n        keyValue = keyPrefix + key.call(parent, data[i], i, data);\n        if (node = nodeByKeyValue[keyValue]) {\n            update[i] = node;\n            node.__data__ = data[i];\n            nodeByKeyValue[keyValue] = null;\n        }\n        else {\n            enter[i] = new EnterNode(parent, data[i]);\n        }\n    }\n    // Add any remaining nodes that were not bound to data to exit.\n    for (i = 0; i < groupLength; ++i) {\n        if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n            exit[i] = node;\n        }\n    }\n}\nfunction selection_data(value, key) {\n    if (!value) {\n        data = new Array(this.size()), j = -1;\n        this.each(function (d) { data[++j] = d; });\n        return data;\n    }\n    var bind = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;\n    if (typeof value !== \"function\")\n        value = constant(value);\n    for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n        var parent = parents[j], group = groups[j], groupLength = group.length, data = value.call(parent, parent && parent.__data__, j, parents), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);\n        bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n        // Now connect the enter nodes to their following update node, such that\n        // appendChild can insert the materialized enter node before this node,\n        // rather than at the end of the parent node.\n        for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n            if (previous = enterGroup[i0]) {\n                if (i0 >= i1)\n                    i1 = i0 + 1;\n                while (!(next = updateGroup[i1]) && ++i1 < dataLength)\n                    ;\n                previous._next = next || null;\n            }\n        }\n    }\n    update = new Selection(update, parents);\n    update._enter = enter;\n    update._exit = exit;\n    return update;\n}\nfunction selection_exit() {\n    return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\nfunction selection_join(onenter, onupdate, onexit) {\n    var enter = this.enter(), update = this, exit = this.exit();\n    enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n    if (onupdate != null)\n        update = onupdate(update);\n    if (onexit == null)\n        exit.remove();\n    else\n        onexit(exit);\n    return enter && update ? enter.merge(update).order() : update;\n}\nfunction selection_merge(selection) {\n    for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n        for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n            if (node = group0[i] || group1[i]) {\n                merge[i] = node;\n            }\n        }\n    }\n    for (; j < m0; ++j) {\n        merges[j] = groups0[j];\n    }\n    return new Selection(merges, this._parents);\n}\nfunction selection_order() {\n    for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n        for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n            if (node = group[i]) {\n                if (next && node.compareDocumentPosition(next) ^ 4)\n                    next.parentNode.insertBefore(node, next);\n                next = node;\n            }\n        }\n    }\n    return this;\n}\nfunction selection_sort(compare) {\n    if (!compare)\n        compare = ascending$1;\n    function compareNode(a, b) {\n        return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n    }\n    for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                sortgroup[i] = node;\n            }\n        }\n        sortgroup.sort(compareNode);\n    }\n    return new Selection(sortgroups, this._parents).order();\n}\nfunction ascending$1(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction selection_call() {\n    var callback = arguments[0];\n    arguments[0] = this;\n    callback.apply(null, arguments);\n    return this;\n}\nfunction selection_nodes() {\n    var nodes = new Array(this.size()), i = -1;\n    this.each(function () { nodes[++i] = this; });\n    return nodes;\n}\nfunction selection_node() {\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n        for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n            var node = group[i];\n            if (node)\n                return node;\n        }\n    }\n    return null;\n}\nfunction selection_size() {\n    var size = 0;\n    this.each(function () { ++size; });\n    return size;\n}\nfunction selection_empty() {\n    return !this.node();\n}\nfunction selection_each(callback) {\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n        for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n            if (node = group[i])\n                callback.call(node, node.__data__, i, group);\n        }\n    }\n    return this;\n}\nfunction attrRemove(name) {\n    return function () {\n        this.removeAttribute(name);\n    };\n}\nfunction attrRemoveNS(fullname) {\n    return function () {\n        this.removeAttributeNS(fullname.space, fullname.local);\n    };\n}\nfunction attrConstant(name, value) {\n    return function () {\n        this.setAttribute(name, value);\n    };\n}\nfunction attrConstantNS(fullname, value) {\n    return function () {\n        this.setAttributeNS(fullname.space, fullname.local, value);\n    };\n}\nfunction attrFunction(name, value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        if (v == null)\n            this.removeAttribute(name);\n        else\n            this.setAttribute(name, v);\n    };\n}\nfunction attrFunctionNS(fullname, value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        if (v == null)\n            this.removeAttributeNS(fullname.space, fullname.local);\n        else\n            this.setAttributeNS(fullname.space, fullname.local, v);\n    };\n}\nfunction selection_attr(name, value) {\n    var fullname = namespace(name);\n    if (arguments.length < 2) {\n        var node = this.node();\n        return fullname.local\n            ? node.getAttributeNS(fullname.space, fullname.local)\n            : node.getAttribute(fullname);\n    }\n    return this.each((value == null\n        ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n        ? (fullname.local ? attrFunctionNS : attrFunction)\n        : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\nfunction defaultView(node) {\n    return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n        || (node.document && node) // node is a Window\n        || node.defaultView; // node is a Document\n}\nfunction styleRemove(name) {\n    return function () {\n        this.style.removeProperty(name);\n    };\n}\nfunction styleConstant(name, value, priority) {\n    return function () {\n        this.style.setProperty(name, value, priority);\n    };\n}\nfunction styleFunction(name, value, priority) {\n    return function () {\n        var v = value.apply(this, arguments);\n        if (v == null)\n            this.style.removeProperty(name);\n        else\n            this.style.setProperty(name, v, priority);\n    };\n}\nfunction selection_style(name, value, priority) {\n    return arguments.length > 1\n        ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n        : styleValue(this.node(), name);\n}\nfunction styleValue(node, name) {\n    return node.style.getPropertyValue(name)\n        || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\nfunction propertyRemove(name) {\n    return function () {\n        delete this[name];\n    };\n}\nfunction propertyConstant(name, value) {\n    return function () {\n        this[name] = value;\n    };\n}\nfunction propertyFunction(name, value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        if (v == null)\n            delete this[name];\n        else\n            this[name] = v;\n    };\n}\nfunction selection_property(name, value) {\n    return arguments.length > 1\n        ? this.each((value == null\n            ? propertyRemove : typeof value === \"function\"\n            ? propertyFunction\n            : propertyConstant)(name, value))\n        : this.node()[name];\n}\nfunction classArray(string) {\n    return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n    return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n    this._node = node;\n    this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n    add: function (name) {\n        var i = this._names.indexOf(name);\n        if (i < 0) {\n            this._names.push(name);\n            this._node.setAttribute(\"class\", this._names.join(\" \"));\n        }\n    },\n    remove: function (name) {\n        var i = this._names.indexOf(name);\n        if (i >= 0) {\n            this._names.splice(i, 1);\n            this._node.setAttribute(\"class\", this._names.join(\" \"));\n        }\n    },\n    contains: function (name) {\n        return this._names.indexOf(name) >= 0;\n    }\n};\nfunction classedAdd(node, names) {\n    var list = classList(node), i = -1, n = names.length;\n    while (++i < n)\n        list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n    var list = classList(node), i = -1, n = names.length;\n    while (++i < n)\n        list.remove(names[i]);\n}\nfunction classedTrue(names) {\n    return function () {\n        classedAdd(this, names);\n    };\n}\nfunction classedFalse(names) {\n    return function () {\n        classedRemove(this, names);\n    };\n}\nfunction classedFunction(names, value) {\n    return function () {\n        (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n    };\n}\nfunction selection_classed(name, value) {\n    var names = classArray(name + \"\");\n    if (arguments.length < 2) {\n        var list = classList(this.node()), i = -1, n = names.length;\n        while (++i < n)\n            if (!list.contains(names[i]))\n                return false;\n        return true;\n    }\n    return this.each((typeof value === \"function\"\n        ? classedFunction : value\n        ? classedTrue\n        : classedFalse)(names, value));\n}\nfunction textRemove() {\n    this.textContent = \"\";\n}\nfunction textConstant(value) {\n    return function () {\n        this.textContent = value;\n    };\n}\nfunction textFunction(value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        this.textContent = v == null ? \"\" : v;\n    };\n}\nfunction selection_text(value) {\n    return arguments.length\n        ? this.each(value == null\n            ? textRemove : (typeof value === \"function\"\n            ? textFunction\n            : textConstant)(value))\n        : this.node().textContent;\n}\nfunction htmlRemove() {\n    this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n    return function () {\n        this.innerHTML = value;\n    };\n}\nfunction htmlFunction(value) {\n    return function () {\n        var v = value.apply(this, arguments);\n        this.innerHTML = v == null ? \"\" : v;\n    };\n}\nfunction selection_html(value) {\n    return arguments.length\n        ? this.each(value == null\n            ? htmlRemove : (typeof value === \"function\"\n            ? htmlFunction\n            : htmlConstant)(value))\n        : this.node().innerHTML;\n}\nfunction raise() {\n    if (this.nextSibling)\n        this.parentNode.appendChild(this);\n}\nfunction selection_raise() {\n    return this.each(raise);\n}\nfunction lower() {\n    if (this.previousSibling)\n        this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction selection_lower() {\n    return this.each(lower);\n}\nfunction selection_append(name) {\n    var create = typeof name === \"function\" ? name : creator(name);\n    return this.select(function () {\n        return this.appendChild(create.apply(this, arguments));\n    });\n}\nfunction constantNull() {\n    return null;\n}\nfunction selection_insert(name, before) {\n    var create = typeof name === \"function\" ? name : creator(name), select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n    return this.select(function () {\n        return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n    });\n}\nfunction remove() {\n    var parent = this.parentNode;\n    if (parent)\n        parent.removeChild(this);\n}\nfunction selection_remove() {\n    return this.each(remove);\n}\nfunction selection_cloneShallow() {\n    var clone = this.cloneNode(false), parent = this.parentNode;\n    return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_cloneDeep() {\n    var clone = this.cloneNode(true), parent = this.parentNode;\n    return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_clone(deep) {\n    return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\nfunction selection_datum(value) {\n    return arguments.length\n        ? this.property(\"__data__\", value)\n        : this.node().__data__;\n}\nvar filterEvents = {};\nvar event = null;\nif (typeof document !== \"undefined\") {\n    var element = document.documentElement;\n    if (!(\"onmouseenter\" in element)) {\n        filterEvents = { mouseenter: \"mouseover\", mouseleave: \"mouseout\" };\n    }\n}\nfunction filterContextListener(listener, index, group) {\n    listener = contextListener(listener, index, group);\n    return function (event) {\n        var related = event.relatedTarget;\n        if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n            listener.call(this, event);\n        }\n    };\n}\nfunction contextListener(listener, index, group) {\n    return function (event1) {\n        var event0 = event; // Events can be reentrant (e.g., focus).\n        event = event1;\n        try {\n            listener.call(this, this.__data__, index, group);\n        }\n        finally {\n            event = event0;\n        }\n    };\n}\nfunction parseTypenames$1(typenames) {\n    return typenames.trim().split(/^|\\s+/).map(function (t) {\n        var name = \"\", i = t.indexOf(\".\");\n        if (i >= 0)\n            name = t.slice(i + 1), t = t.slice(0, i);\n        return { type: t, name: name };\n    });\n}\nfunction onRemove(typename) {\n    return function () {\n        var on = this.__on;\n        if (!on)\n            return;\n        for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n            if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n                this.removeEventListener(o.type, o.listener, o.capture);\n            }\n            else {\n                on[++i] = o;\n            }\n        }\n        if (++i)\n            on.length = i;\n        else\n            delete this.__on;\n    };\n}\nfunction onAdd(typename, value, capture) {\n    var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n    return function (d, i, group) {\n        var on = this.__on, o, listener = wrap(value, i, group);\n        if (on)\n            for (var j = 0, m = on.length; j < m; ++j) {\n                if ((o = on[j]).type === typename.type && o.name === typename.name) {\n                    this.removeEventListener(o.type, o.listener, o.capture);\n                    this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n                    o.value = value;\n                    return;\n                }\n            }\n        this.addEventListener(typename.type, listener, capture);\n        o = { type: typename.type, name: typename.name, value: value, listener: listener, capture: capture };\n        if (!on)\n            this.__on = [o];\n        else\n            on.push(o);\n    };\n}\nfunction selection_on(typename, value, capture) {\n    var typenames = parseTypenames$1(typename + \"\"), i, n = typenames.length, t;\n    if (arguments.length < 2) {\n        var on = this.node().__on;\n        if (on)\n            for (var j = 0, m = on.length, o; j < m; ++j) {\n                for (i = 0, o = on[j]; i < n; ++i) {\n                    if ((t = typenames[i]).type === o.type && t.name === o.name) {\n                        return o.value;\n                    }\n                }\n            }\n        return;\n    }\n    on = value ? onAdd : onRemove;\n    if (capture == null)\n        capture = false;\n    for (i = 0; i < n; ++i)\n        this.each(on(typenames[i], value, capture));\n    return this;\n}\nfunction customEvent(event1, listener, that, args) {\n    var event0 = event;\n    event1.sourceEvent = event;\n    event = event1;\n    try {\n        return listener.apply(that, args);\n    }\n    finally {\n        event = event0;\n    }\n}\nfunction dispatchEvent(node, type, params) {\n    var window = defaultView(node), event = window.CustomEvent;\n    if (typeof event === \"function\") {\n        event = new event(type, params);\n    }\n    else {\n        event = window.document.createEvent(\"Event\");\n        if (params)\n            event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n        else\n            event.initEvent(type, false, false);\n    }\n    node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n    return function () {\n        return dispatchEvent(this, type, params);\n    };\n}\nfunction dispatchFunction(type, params) {\n    return function () {\n        return dispatchEvent(this, type, params.apply(this, arguments));\n    };\n}\nfunction selection_dispatch(type, params) {\n    return this.each((typeof params === \"function\"\n        ? dispatchFunction\n        : dispatchConstant)(type, params));\n}\nvar root = [null];\nfunction Selection(groups, parents) {\n    this._groups = groups;\n    this._parents = parents;\n}\nfunction selection() {\n    return new Selection([[document.documentElement]], root);\n}\nSelection.prototype = selection.prototype = {\n    constructor: Selection,\n    select: selection_select,\n    selectAll: selection_selectAll,\n    filter: selection_filter,\n    data: selection_data,\n    enter: selection_enter,\n    exit: selection_exit,\n    join: selection_join,\n    merge: selection_merge,\n    order: selection_order,\n    sort: selection_sort,\n    call: selection_call,\n    nodes: selection_nodes,\n    node: selection_node,\n    size: selection_size,\n    empty: selection_empty,\n    each: selection_each,\n    attr: selection_attr,\n    style: selection_style,\n    property: selection_property,\n    classed: selection_classed,\n    text: selection_text,\n    html: selection_html,\n    raise: selection_raise,\n    lower: selection_lower,\n    append: selection_append,\n    insert: selection_insert,\n    remove: selection_remove,\n    clone: selection_clone,\n    datum: selection_datum,\n    on: selection_on,\n    dispatch: selection_dispatch\n};\nfunction select(selector) {\n    return typeof selector === \"string\"\n        ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n        : new Selection([[selector]], root);\n}\nfunction sourceEvent() {\n    var current = event, source;\n    while (source = current.sourceEvent)\n        current = source;\n    return current;\n}\nfunction point(node, event) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n        var point = svg.createSVGPoint();\n        point.x = event.clientX, point.y = event.clientY;\n        point = point.matrixTransform(node.getScreenCTM().inverse());\n        return [point.x, point.y];\n    }\n    var rect = node.getBoundingClientRect();\n    return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\nfunction mouse(node) {\n    var event = sourceEvent();\n    if (event.changedTouches)\n        event = event.changedTouches[0];\n    return point(node, event);\n}\nfunction touch(node, touches, identifier) {\n    if (arguments.length < 3)\n        identifier = touches, touches = sourceEvent().changedTouches;\n    for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n        if ((touch = touches[i]).identifier === identifier) {\n            return point(node, touch);\n        }\n    }\n    return null;\n}\nfunction nopropagation() {\n    event.stopImmediatePropagation();\n}\nfunction noevent() {\n    event.preventDefault();\n    event.stopImmediatePropagation();\n}\nfunction dragDisable(view) {\n    var root = view.document.documentElement, selection = select(view).on(\"dragstart.drag\", noevent, true);\n    if (\"onselectstart\" in root) {\n        selection.on(\"selectstart.drag\", noevent, true);\n    }\n    else {\n        root.__noselect = root.style.MozUserSelect;\n        root.style.MozUserSelect = \"none\";\n    }\n}\nfunction yesdrag(view, noclick) {\n    var root = view.document.documentElement, selection = select(view).on(\"dragstart.drag\", null);\n    if (noclick) {\n        selection.on(\"click.drag\", noevent, true);\n        setTimeout(function () { selection.on(\"click.drag\", null); }, 0);\n    }\n    if (\"onselectstart\" in root) {\n        selection.on(\"selectstart.drag\", null);\n    }\n    else {\n        root.style.MozUserSelect = root.__noselect;\n        delete root.__noselect;\n    }\n}\nfunction constant$1(x) {\n    return function () {\n        return x;\n    };\n}\nfunction DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n    this.target = target;\n    this.type = type;\n    this.subject = subject;\n    this.identifier = id;\n    this.active = active;\n    this.x = x;\n    this.y = y;\n    this.dx = dx;\n    this.dy = dy;\n    this._ = dispatch;\n}\nDragEvent.prototype.on = function () {\n    var value = this._.on.apply(this._, arguments);\n    return value === this._ ? this : value;\n};\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n    return !event.ctrlKey && !event.button;\n}\nfunction defaultContainer() {\n    return this.parentNode;\n}\nfunction defaultSubject(d) {\n    return d == null ? { x: event.x, y: event.y } : d;\n}\nfunction defaultTouchable() {\n    return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\nfunction drag() {\n    var filter = defaultFilter, container = defaultContainer, subject = defaultSubject, touchable = defaultTouchable, gestures = {}, listeners = dispatch(\"start\", \"drag\", \"end\"), active = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;\n    function drag(selection) {\n        selection\n            .on(\"mousedown.drag\", mousedowned)\n            .filter(touchable)\n            .on(\"touchstart.drag\", touchstarted)\n            .on(\"touchmove.drag\", touchmoved)\n            .on(\"touchend.drag touchcancel.drag\", touchended)\n            .style(\"touch-action\", \"none\")\n            .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n    }\n    function mousedowned() {\n        if (touchending || !filter.apply(this, arguments))\n            return;\n        var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n        if (!gesture)\n            return;\n        select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n        dragDisable(event.view);\n        nopropagation();\n        mousemoving = false;\n        mousedownx = event.clientX;\n        mousedowny = event.clientY;\n        gesture(\"start\");\n    }\n    function mousemoved() {\n        noevent();\n        if (!mousemoving) {\n            var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n            mousemoving = dx * dx + dy * dy > clickDistance2;\n        }\n        gestures.mouse(\"drag\");\n    }\n    function mouseupped() {\n        select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n        yesdrag(event.view, mousemoving);\n        noevent();\n        gestures.mouse(\"end\");\n    }\n    function touchstarted() {\n        if (!filter.apply(this, arguments))\n            return;\n        var touches = event.changedTouches, c = container.apply(this, arguments), n = touches.length, i, gesture;\n        for (i = 0; i < n; ++i) {\n            if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n                nopropagation();\n                gesture(\"start\");\n            }\n        }\n    }\n    function touchmoved() {\n        var touches = event.changedTouches, n = touches.length, i, gesture;\n        for (i = 0; i < n; ++i) {\n            if (gesture = gestures[touches[i].identifier]) {\n                noevent();\n                gesture(\"drag\");\n            }\n        }\n    }\n    function touchended() {\n        var touches = event.changedTouches, n = touches.length, i, gesture;\n        if (touchending)\n            clearTimeout(touchending);\n        touchending = setTimeout(function () { touchending = null; }, 500); // Ghost clicks are delayed!\n        for (i = 0; i < n; ++i) {\n            if (gesture = gestures[touches[i].identifier]) {\n                nopropagation();\n                gesture(\"end\");\n            }\n        }\n    }\n    function beforestart(id, container, point, that, args) {\n        var p = point(container, id), s, dx, dy, sublisteners = listeners.copy();\n        if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function () {\n            if ((event.subject = s = subject.apply(that, args)) == null)\n                return false;\n            dx = s.x - p[0] || 0;\n            dy = s.y - p[1] || 0;\n            return true;\n        }))\n            return;\n        return function gesture(type) {\n            var p0 = p, n;\n            switch (type) {\n                case \"start\":\n                    gestures[id] = gesture, n = active++;\n                    break;\n                case \"end\": delete gestures[id], --active; // nobreak\n                case \"drag\":\n                    p = point(container, id), n = active;\n                    break;\n            }\n            customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n        };\n    }\n    drag.filter = function (_) {\n        return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$1(!!_), drag) : filter;\n    };\n    drag.container = function (_) {\n        return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$1(_), drag) : container;\n    };\n    drag.subject = function (_) {\n        return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$1(_), drag) : subject;\n    };\n    drag.touchable = function (_) {\n        return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant$1(!!_), drag) : touchable;\n    };\n    drag.on = function () {\n        var value = listeners.on.apply(listeners, arguments);\n        return value === listeners ? drag : value;\n    };\n    drag.clickDistance = function (_) {\n        return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n    };\n    return drag;\n}\nfunction define(constructor, factory, prototype) {\n    constructor.prototype = factory.prototype = prototype;\n    prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n    var prototype = Object.create(parent.prototype);\n    for (var key in definition)\n        prototype[key] = definition[key];\n    return prototype;\n}\nfunction Color() { }\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\", reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\", reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\", reHex = /^#([0-9a-f]{3,8})$/, reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"), reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"), reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"), reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"), reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"), reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\nvar named = {\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkgrey: 0xa9a9a9,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    grey: 0x808080,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightgrey: 0xd3d3d3,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n    copy: function (channels) {\n        return Object.assign(new this.constructor, this, channels);\n    },\n    displayable: function () {\n        return this.rgb().displayable();\n    },\n    hex: color_formatHex,\n    formatHex: color_formatHex,\n    formatHsl: color_formatHsl,\n    formatRgb: color_formatRgb,\n    toString: color_formatRgb\n});\nfunction color_formatHex() {\n    return this.rgb().formatHex();\n}\nfunction color_formatHsl() {\n    return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n    return this.rgb().formatRgb();\n}\nfunction color(format) {\n    var m, l;\n    format = (format + \"\").trim().toLowerCase();\n    return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n        : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n            : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n                : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n                    : null) // invalid hex\n        : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n            : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n                : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n                    : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n                        : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n                            : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n                                : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n                                    : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n                                        : null;\n}\nfunction rgbn(n) {\n    return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\nfunction rgba(r, g, b, a) {\n    if (a <= 0)\n        r = g = b = NaN;\n    return new Rgb(r, g, b, a);\n}\nfunction rgbConvert(o) {\n    if (!(o instanceof Color))\n        o = color(o);\n    if (!o)\n        return new Rgb;\n    o = o.rgb();\n    return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n    return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n    this.r = +r;\n    this.g = +g;\n    this.b = +b;\n    this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n    brighter: function (k) {\n        k = k == null ? brighter : Math.pow(brighter, k);\n        return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    darker: function (k) {\n        k = k == null ? darker : Math.pow(darker, k);\n        return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    rgb: function () {\n        return this;\n    },\n    displayable: function () {\n        return (-0.5 <= this.r && this.r < 255.5)\n            && (-0.5 <= this.g && this.g < 255.5)\n            && (-0.5 <= this.b && this.b < 255.5)\n            && (0 <= this.opacity && this.opacity <= 1);\n    },\n    hex: rgb_formatHex,\n    formatHex: rgb_formatHex,\n    formatRgb: rgb_formatRgb,\n    toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\nfunction rgb_formatRgb() {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n}\nfunction hex(value) {\n    value = Math.max(0, Math.min(255, Math.round(value) || 0));\n    return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h, s, l, a) {\n    if (a <= 0)\n        h = s = l = NaN;\n    else if (l <= 0 || l >= 1)\n        h = s = NaN;\n    else if (s <= 0)\n        h = NaN;\n    return new Hsl(h, s, l, a);\n}\nfunction hslConvert(o) {\n    if (o instanceof Hsl)\n        return new Hsl(o.h, o.s, o.l, o.opacity);\n    if (!(o instanceof Color))\n        o = color(o);\n    if (!o)\n        return new Hsl;\n    if (o instanceof Hsl)\n        return o;\n    o = o.rgb();\n    var r = o.r / 255, g = o.g / 255, b = o.b / 255, min = Math.min(r, g, b), max = Math.max(r, g, b), h = NaN, s = max - min, l = (max + min) / 2;\n    if (s) {\n        if (r === max)\n            h = (g - b) / s + (g < b) * 6;\n        else if (g === max)\n            h = (b - r) / s + 2;\n        else\n            h = (r - g) / s + 4;\n        s /= l < 0.5 ? max + min : 2 - max - min;\n        h *= 60;\n    }\n    else {\n        s = l > 0 && l < 1 ? 0 : h;\n    }\n    return new Hsl(h, s, l, o.opacity);\n}\nfunction hsl(h, s, l, opacity) {\n    return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h, s, l, opacity) {\n    this.h = +h;\n    this.s = +s;\n    this.l = +l;\n    this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n    brighter: function (k) {\n        k = k == null ? brighter : Math.pow(brighter, k);\n        return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    darker: function (k) {\n        k = k == null ? darker : Math.pow(darker, k);\n        return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    rgb: function () {\n        var h = this.h % 360 + (this.h < 0) * 360, s = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;\n        return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n    },\n    displayable: function () {\n        return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n            && (0 <= this.l && this.l <= 1)\n            && (0 <= this.opacity && this.opacity <= 1);\n    },\n    formatHsl: function () {\n        var a = this.opacity;\n        a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n        return (a === 1 ? \"hsl(\" : \"hsla(\")\n            + (this.h || 0) + \", \"\n            + (this.s || 0) * 100 + \"%, \"\n            + (this.l || 0) * 100 + \"%\"\n            + (a === 1 ? \")\" : \", \" + a + \")\");\n    }\n}));\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n    return (h < 60 ? m1 + (m2 - m1) * h / 60\n        : h < 180 ? m2\n            : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n                : m1) * 255;\n}\nfunction constant$2(x) {\n    return function () {\n        return x;\n    };\n}\nfunction linear(a, d) {\n    return function (t) {\n        return a + t * d;\n    };\n}\nfunction exponential(a, b, y) {\n    return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n        return Math.pow(a + t * b, y);\n    };\n}\nfunction gamma(y) {\n    return (y = +y) === 1 ? nogamma : function (a, b) {\n        return b - a ? exponential(a, b, y) : constant$2(isNaN(a) ? b : a);\n    };\n}\nfunction nogamma(a, b) {\n    var d = b - a;\n    return d ? linear(a, d) : constant$2(isNaN(a) ? b : a);\n}\nvar interpolateRgb = (function rgbGamma(y) {\n    var color = gamma(y);\n    function rgb$1(start, end) {\n        var r = color((start = rgb(start)).r, (end = rgb(end)).r), g = color(start.g, end.g), b = color(start.b, end.b), opacity = nogamma(start.opacity, end.opacity);\n        return function (t) {\n            start.r = r(t);\n            start.g = g(t);\n            start.b = b(t);\n            start.opacity = opacity(t);\n            return start + \"\";\n        };\n    }\n    rgb$1.gamma = rgbGamma;\n    return rgb$1;\n})(1);\nfunction numberArray(a, b) {\n    if (!b)\n        b = [];\n    var n = a ? Math.min(b.length, a.length) : 0, c = b.slice(), i;\n    return function (t) {\n        for (i = 0; i < n; ++i)\n            c[i] = a[i] * (1 - t) + b[i] * t;\n        return c;\n    };\n}\nfunction isNumberArray(x) {\n    return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\nfunction genericArray(a, b) {\n    var nb = b ? b.length : 0, na = a ? Math.min(nb, a.length) : 0, x = new Array(na), c = new Array(nb), i;\n    for (i = 0; i < na; ++i)\n        x[i] = interpolateValue(a[i], b[i]);\n    for (; i < nb; ++i)\n        c[i] = b[i];\n    return function (t) {\n        for (i = 0; i < na; ++i)\n            c[i] = x[i](t);\n        return c;\n    };\n}\nfunction date(a, b) {\n    var d = new Date;\n    return a = +a, b = +b, function (t) {\n        return d.setTime(a * (1 - t) + b * t), d;\n    };\n}\nfunction interpolateNumber(a, b) {\n    return a = +a, b = +b, function (t) {\n        return a * (1 - t) + b * t;\n    };\n}\nfunction object(a, b) {\n    var i = {}, c = {}, k;\n    if (a === null || typeof a !== \"object\")\n        a = {};\n    if (b === null || typeof b !== \"object\")\n        b = {};\n    for (k in b) {\n        if (k in a) {\n            i[k] = interpolateValue(a[k], b[k]);\n        }\n        else {\n            c[k] = b[k];\n        }\n    }\n    return function (t) {\n        for (k in i)\n            c[k] = i[k](t);\n        return c;\n    };\n}\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n    return function () {\n        return b;\n    };\n}\nfunction one(b) {\n    return function (t) {\n        return b(t) + \"\";\n    };\n}\nfunction interpolateString(a, b) {\n    var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n    am, // current match in a\n    bm, // current match in b\n    bs, // string preceding current number in b, if any\n    i = -1, // index in s\n    s = [], // string constants and placeholders\n    q = []; // number interpolators\n    // Coerce inputs to strings.\n    a = a + \"\", b = b + \"\";\n    // Interpolate pairs of numbers in a & b.\n    while ((am = reA.exec(a))\n        && (bm = reB.exec(b))) {\n        if ((bs = bm.index) > bi) { // a string precedes the next number in b\n            bs = b.slice(bi, bs);\n            if (s[i])\n                s[i] += bs; // coalesce with previous string\n            else\n                s[++i] = bs;\n        }\n        if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n            if (s[i])\n                s[i] += bm; // coalesce with previous string\n            else\n                s[++i] = bm;\n        }\n        else { // interpolate non-matching numbers\n            s[++i] = null;\n            q.push({ i: i, x: interpolateNumber(am, bm) });\n        }\n        bi = reB.lastIndex;\n    }\n    // Add remains of b.\n    if (bi < b.length) {\n        bs = b.slice(bi);\n        if (s[i])\n            s[i] += bs; // coalesce with previous string\n        else\n            s[++i] = bs;\n    }\n    // Special optimization for only a single match.\n    // Otherwise, interpolate each of the numbers and rejoin the string.\n    return s.length < 2 ? (q[0]\n        ? one(q[0].x)\n        : zero(b))\n        : (b = q.length, function (t) {\n            for (var i = 0, o; i < b; ++i)\n                s[(o = q[i]).i] = o.x(t);\n            return s.join(\"\");\n        });\n}\nfunction interpolateValue(a, b) {\n    var t = typeof b, c;\n    return b == null || t === \"boolean\" ? constant$2(b)\n        : (t === \"number\" ? interpolateNumber\n            : t === \"string\" ? ((c = color(b)) ? (b = c, interpolateRgb) : interpolateString)\n                : b instanceof color ? interpolateRgb\n                    : b instanceof Date ? date\n                        : isNumberArray(b) ? numberArray\n                            : Array.isArray(b) ? genericArray\n                                : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n                                    : interpolateNumber)(a, b);\n}\nfunction interpolateRound(a, b) {\n    return a = +a, b = +b, function (t) {\n        return Math.round(a * (1 - t) + b * t);\n    };\n}\nvar degrees = 180 / Math.PI;\nvar identity$1 = {\n    translateX: 0,\n    translateY: 0,\n    rotate: 0,\n    skewX: 0,\n    scaleX: 1,\n    scaleY: 1\n};\nfunction decompose(a, b, c, d, e, f) {\n    var scaleX, scaleY, skewX;\n    if (scaleX = Math.sqrt(a * a + b * b))\n        a /= scaleX, b /= scaleX;\n    if (skewX = a * c + b * d)\n        c -= a * skewX, d -= b * skewX;\n    if (scaleY = Math.sqrt(c * c + d * d))\n        c /= scaleY, d /= scaleY, skewX /= scaleY;\n    if (a * d < b * c)\n        a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n    return {\n        translateX: e,\n        translateY: f,\n        rotate: Math.atan2(b, a) * degrees,\n        skewX: Math.atan(skewX) * degrees,\n        scaleX: scaleX,\n        scaleY: scaleY\n    };\n}\nvar cssNode, cssRoot, cssView, svgNode;\nfunction parseCss(value) {\n    if (value === \"none\")\n        return identity$1;\n    if (!cssNode)\n        cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n    cssNode.style.transform = value;\n    value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n    cssRoot.removeChild(cssNode);\n    value = value.slice(7, -1).split(\",\");\n    return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\nfunction parseSvg(value) {\n    if (value == null)\n        return identity$1;\n    if (!svgNode)\n        svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n    svgNode.setAttribute(\"transform\", value);\n    if (!(value = svgNode.transform.baseVal.consolidate()))\n        return identity$1;\n    value = value.matrix;\n    return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n    function pop(s) {\n        return s.length ? s.pop() + \" \" : \"\";\n    }\n    function translate(xa, ya, xb, yb, s, q) {\n        if (xa !== xb || ya !== yb) {\n            var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n            q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n        }\n        else if (xb || yb) {\n            s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n        }\n    }\n    function rotate(a, b, s, q) {\n        if (a !== b) {\n            if (a - b > 180)\n                b += 360;\n            else if (b - a > 180)\n                a += 360; // shortest path\n            q.push({ i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n        }\n        else if (b) {\n            s.push(pop(s) + \"rotate(\" + b + degParen);\n        }\n    }\n    function skewX(a, b, s, q) {\n        if (a !== b) {\n            q.push({ i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n        }\n        else if (b) {\n            s.push(pop(s) + \"skewX(\" + b + degParen);\n        }\n    }\n    function scale(xa, ya, xb, yb, s, q) {\n        if (xa !== xb || ya !== yb) {\n            var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n            q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n        }\n        else if (xb !== 1 || yb !== 1) {\n            s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n        }\n    }\n    return function (a, b) {\n        var s = [], // string constants and placeholders\n        q = []; // number interpolators\n        a = parse(a), b = parse(b);\n        translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n        rotate(a.rotate, b.rotate, s, q);\n        skewX(a.skewX, b.skewX, s, q);\n        scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n        a = b = null; // gc\n        return function (t) {\n            var i = -1, n = q.length, o;\n            while (++i < n)\n                s[(o = q[i]).i] = o.x(t);\n            return s.join(\"\");\n        };\n    };\n}\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\nvar frame = 0, // is an animation frame pending?\ntimeout = 0, // is a timeout pending?\ninterval = 0, // are any timers active?\npokeDelay = 1000, // how frequently we check for clock skew\ntaskHead, taskTail, clockLast = 0, clockNow = 0, clockSkew = 0, clock = typeof performance === \"object\" && performance.now ? performance : Date, setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (f) { setTimeout(f, 17); };\nfunction now() {\n    return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\nfunction clearNow() {\n    clockNow = 0;\n}\nfunction Timer() {\n    this._call =\n        this._time =\n            this._next = null;\n}\nTimer.prototype = timer.prototype = {\n    constructor: Timer,\n    restart: function (callback, delay, time) {\n        if (typeof callback !== \"function\")\n            throw new TypeError(\"callback is not a function\");\n        time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n        if (!this._next && taskTail !== this) {\n            if (taskTail)\n                taskTail._next = this;\n            else\n                taskHead = this;\n            taskTail = this;\n        }\n        this._call = callback;\n        this._time = time;\n        sleep();\n    },\n    stop: function () {\n        if (this._call) {\n            this._call = null;\n            this._time = Infinity;\n            sleep();\n        }\n    }\n};\nfunction timer(callback, delay, time) {\n    var t = new Timer;\n    t.restart(callback, delay, time);\n    return t;\n}\nfunction timerFlush() {\n    now(); // Get the current time, if not already set.\n    ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n    var t = taskHead, e;\n    while (t) {\n        if ((e = clockNow - t._time) >= 0)\n            t._call.call(null, e);\n        t = t._next;\n    }\n    --frame;\n}\nfunction wake() {\n    clockNow = (clockLast = clock.now()) + clockSkew;\n    frame = timeout = 0;\n    try {\n        timerFlush();\n    }\n    finally {\n        frame = 0;\n        nap();\n        clockNow = 0;\n    }\n}\nfunction poke() {\n    var now = clock.now(), delay = now - clockLast;\n    if (delay > pokeDelay)\n        clockSkew -= delay, clockLast = now;\n}\nfunction nap() {\n    var t0, t1 = taskHead, t2, time = Infinity;\n    while (t1) {\n        if (t1._call) {\n            if (time > t1._time)\n                time = t1._time;\n            t0 = t1, t1 = t1._next;\n        }\n        else {\n            t2 = t1._next, t1._next = null;\n            t1 = t0 ? t0._next = t2 : taskHead = t2;\n        }\n    }\n    taskTail = t0;\n    sleep(time);\n}\nfunction sleep(time) {\n    if (frame)\n        return; // Soonest alarm already set, or will be.\n    if (timeout)\n        timeout = clearTimeout(timeout);\n    var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n    if (delay > 24) {\n        if (time < Infinity)\n            timeout = setTimeout(wake, time - clock.now() - clockSkew);\n        if (interval)\n            interval = clearInterval(interval);\n    }\n    else {\n        if (!interval)\n            clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n        frame = 1, setFrame(wake);\n    }\n}\nfunction timeout$1(callback, delay, time) {\n    var t = new Timer;\n    delay = delay == null ? 0 : +delay;\n    t.restart(function (elapsed) {\n        t.stop();\n        callback(elapsed + delay);\n    }, delay, time);\n    return t;\n}\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\nfunction schedule(node, name, id, index, group, timing) {\n    var schedules = node.__transition;\n    if (!schedules)\n        node.__transition = {};\n    else if (id in schedules)\n        return;\n    create(node, id, {\n        name: name,\n        index: index,\n        group: group,\n        on: emptyOn,\n        tween: emptyTween,\n        time: timing.time,\n        delay: timing.delay,\n        duration: timing.duration,\n        ease: timing.ease,\n        timer: null,\n        state: CREATED\n    });\n}\nfunction init(node, id) {\n    var schedule = get$1(node, id);\n    if (schedule.state > CREATED)\n        throw new Error(\"too late; already scheduled\");\n    return schedule;\n}\nfunction set$1(node, id) {\n    var schedule = get$1(node, id);\n    if (schedule.state > STARTED)\n        throw new Error(\"too late; already running\");\n    return schedule;\n}\nfunction get$1(node, id) {\n    var schedule = node.__transition;\n    if (!schedule || !(schedule = schedule[id]))\n        throw new Error(\"transition not found\");\n    return schedule;\n}\nfunction create(node, id, self) {\n    var schedules = node.__transition, tween;\n    // Initialize the self timer when the transition is created.\n    // Note the actual delay is not known until the first callback!\n    schedules[id] = self;\n    self.timer = timer(schedule, 0, self.time);\n    function schedule(elapsed) {\n        self.state = SCHEDULED;\n        self.timer.restart(start, self.delay, self.time);\n        // If the elapsed delay is less than our first sleep, start immediately.\n        if (self.delay <= elapsed)\n            start(elapsed - self.delay);\n    }\n    function start(elapsed) {\n        var i, j, n, o;\n        // If the state is not SCHEDULED, then we previously errored on start.\n        if (self.state !== SCHEDULED)\n            return stop();\n        for (i in schedules) {\n            o = schedules[i];\n            if (o.name !== self.name)\n                continue;\n            // While this element already has a starting transition during this frame,\n            // defer starting an interrupting transition until that transition has a\n            // chance to tick (and possibly end); see d3/d3-transition#54!\n            if (o.state === STARTED)\n                return timeout$1(start);\n            // Interrupt the active transition, if any.\n            if (o.state === RUNNING) {\n                o.state = ENDED;\n                o.timer.stop();\n                o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n                delete schedules[i];\n            }\n            // Cancel any pre-empted transitions.\n            else if (+i < id) {\n                o.state = ENDED;\n                o.timer.stop();\n                o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n                delete schedules[i];\n            }\n        }\n        // Defer the first tick to end of the current frame; see d3/d3#1576.\n        // Note the transition may be canceled after start and before the first tick!\n        // Note this must be scheduled before the start event; see d3/d3-transition#16!\n        // Assuming this is successful, subsequent callbacks go straight to tick.\n        timeout$1(function () {\n            if (self.state === STARTED) {\n                self.state = RUNNING;\n                self.timer.restart(tick, self.delay, self.time);\n                tick(elapsed);\n            }\n        });\n        // Dispatch the start event.\n        // Note this must be done before the tween are initialized.\n        self.state = STARTING;\n        self.on.call(\"start\", node, node.__data__, self.index, self.group);\n        if (self.state !== STARTING)\n            return; // interrupted\n        self.state = STARTED;\n        // Initialize the tween, deleting null tween.\n        tween = new Array(n = self.tween.length);\n        for (i = 0, j = -1; i < n; ++i) {\n            if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n                tween[++j] = o;\n            }\n        }\n        tween.length = j + 1;\n    }\n    function tick(elapsed) {\n        var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1), i = -1, n = tween.length;\n        while (++i < n) {\n            tween[i].call(node, t);\n        }\n        // Dispatch the end event.\n        if (self.state === ENDING) {\n            self.on.call(\"end\", node, node.__data__, self.index, self.group);\n            stop();\n        }\n    }\n    function stop() {\n        self.state = ENDED;\n        self.timer.stop();\n        delete schedules[id];\n        for (var i in schedules)\n            return; // eslint-disable-line no-unused-vars\n        delete node.__transition;\n    }\n}\nfunction interrupt(node, name) {\n    var schedules = node.__transition, schedule, active, empty = true, i;\n    if (!schedules)\n        return;\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n        if ((schedule = schedules[i]).name !== name) {\n            empty = false;\n            continue;\n        }\n        active = schedule.state > STARTING && schedule.state < ENDING;\n        schedule.state = ENDED;\n        schedule.timer.stop();\n        schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n        delete schedules[i];\n    }\n    if (empty)\n        delete node.__transition;\n}\nfunction selection_interrupt(name) {\n    return this.each(function () {\n        interrupt(this, name);\n    });\n}\nfunction tweenRemove(id, name) {\n    var tween0, tween1;\n    return function () {\n        var schedule = set$1(this, id), tween = schedule.tween;\n        // If this node shared tween with the previous node,\n        // just assign the updated shared tween and we’re done!\n        // Otherwise, copy-on-write.\n        if (tween !== tween0) {\n            tween1 = tween0 = tween;\n            for (var i = 0, n = tween1.length; i < n; ++i) {\n                if (tween1[i].name === name) {\n                    tween1 = tween1.slice();\n                    tween1.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        schedule.tween = tween1;\n    };\n}\nfunction tweenFunction(id, name, value) {\n    var tween0, tween1;\n    if (typeof value !== \"function\")\n        throw new Error;\n    return function () {\n        var schedule = set$1(this, id), tween = schedule.tween;\n        // If this node shared tween with the previous node,\n        // just assign the updated shared tween and we’re done!\n        // Otherwise, copy-on-write.\n        if (tween !== tween0) {\n            tween1 = (tween0 = tween).slice();\n            for (var t = { name: name, value: value }, i = 0, n = tween1.length; i < n; ++i) {\n                if (tween1[i].name === name) {\n                    tween1[i] = t;\n                    break;\n                }\n            }\n            if (i === n)\n                tween1.push(t);\n        }\n        schedule.tween = tween1;\n    };\n}\nfunction transition_tween(name, value) {\n    var id = this._id;\n    name += \"\";\n    if (arguments.length < 2) {\n        var tween = get$1(this.node(), id).tween;\n        for (var i = 0, n = tween.length, t; i < n; ++i) {\n            if ((t = tween[i]).name === name) {\n                return t.value;\n            }\n        }\n        return null;\n    }\n    return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\nfunction tweenValue(transition, name, value) {\n    var id = transition._id;\n    transition.each(function () {\n        var schedule = set$1(this, id);\n        (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n    });\n    return function (node) {\n        return get$1(node, id).value[name];\n    };\n}\nfunction interpolate(a, b) {\n    var c;\n    return (typeof b === \"number\" ? interpolateNumber\n        : b instanceof color ? interpolateRgb\n            : (c = color(b)) ? (b = c, interpolateRgb)\n                : interpolateString)(a, b);\n}\nfunction attrRemove$1(name) {\n    return function () {\n        this.removeAttribute(name);\n    };\n}\nfunction attrRemoveNS$1(fullname) {\n    return function () {\n        this.removeAttributeNS(fullname.space, fullname.local);\n    };\n}\nfunction attrConstant$1(name, interpolate, value1) {\n    var string00, string1 = value1 + \"\", interpolate0;\n    return function () {\n        var string0 = this.getAttribute(name);\n        return string0 === string1 ? null\n            : string0 === string00 ? interpolate0\n                : interpolate0 = interpolate(string00 = string0, value1);\n    };\n}\nfunction attrConstantNS$1(fullname, interpolate, value1) {\n    var string00, string1 = value1 + \"\", interpolate0;\n    return function () {\n        var string0 = this.getAttributeNS(fullname.space, fullname.local);\n        return string0 === string1 ? null\n            : string0 === string00 ? interpolate0\n                : interpolate0 = interpolate(string00 = string0, value1);\n    };\n}\nfunction attrFunction$1(name, interpolate, value) {\n    var string00, string10, interpolate0;\n    return function () {\n        var string0, value1 = value(this), string1;\n        if (value1 == null)\n            return void this.removeAttribute(name);\n        string0 = this.getAttribute(name);\n        string1 = value1 + \"\";\n        return string0 === string1 ? null\n            : string0 === string00 && string1 === string10 ? interpolate0\n                : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n    };\n}\nfunction attrFunctionNS$1(fullname, interpolate, value) {\n    var string00, string10, interpolate0;\n    return function () {\n        var string0, value1 = value(this), string1;\n        if (value1 == null)\n            return void this.removeAttributeNS(fullname.space, fullname.local);\n        string0 = this.getAttributeNS(fullname.space, fullname.local);\n        string1 = value1 + \"\";\n        return string0 === string1 ? null\n            : string0 === string00 && string1 === string10 ? interpolate0\n                : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n    };\n}\nfunction transition_attr(name, value) {\n    var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n    return this.attrTween(name, typeof value === \"function\"\n        ? (fullname.local ? attrFunctionNS$1 : attrFunction$1)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n        : value == null ? (fullname.local ? attrRemoveNS$1 : attrRemove$1)(fullname)\n            : (fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, i, value));\n}\nfunction attrInterpolate(name, i) {\n    return function (t) {\n        this.setAttribute(name, i.call(this, t));\n    };\n}\nfunction attrInterpolateNS(fullname, i) {\n    return function (t) {\n        this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n    };\n}\nfunction attrTweenNS(fullname, value) {\n    var t0, i0;\n    function tween() {\n        var i = value.apply(this, arguments);\n        if (i !== i0)\n            t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n        return t0;\n    }\n    tween._value = value;\n    return tween;\n}\nfunction attrTween(name, value) {\n    var t0, i0;\n    function tween() {\n        var i = value.apply(this, arguments);\n        if (i !== i0)\n            t0 = (i0 = i) && attrInterpolate(name, i);\n        return t0;\n    }\n    tween._value = value;\n    return tween;\n}\nfunction transition_attrTween(name, value) {\n    var key = \"attr.\" + name;\n    if (arguments.length < 2)\n        return (key = this.tween(key)) && key._value;\n    if (value == null)\n        return this.tween(key, null);\n    if (typeof value !== \"function\")\n        throw new Error;\n    var fullname = namespace(name);\n    return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\nfunction delayFunction(id, value) {\n    return function () {\n        init(this, id).delay = +value.apply(this, arguments);\n    };\n}\nfunction delayConstant(id, value) {\n    return value = +value, function () {\n        init(this, id).delay = value;\n    };\n}\nfunction transition_delay(value) {\n    var id = this._id;\n    return arguments.length\n        ? this.each((typeof value === \"function\"\n            ? delayFunction\n            : delayConstant)(id, value))\n        : get$1(this.node(), id).delay;\n}\nfunction durationFunction(id, value) {\n    return function () {\n        set$1(this, id).duration = +value.apply(this, arguments);\n    };\n}\nfunction durationConstant(id, value) {\n    return value = +value, function () {\n        set$1(this, id).duration = value;\n    };\n}\nfunction transition_duration(value) {\n    var id = this._id;\n    return arguments.length\n        ? this.each((typeof value === \"function\"\n            ? durationFunction\n            : durationConstant)(id, value))\n        : get$1(this.node(), id).duration;\n}\nfunction easeConstant(id, value) {\n    if (typeof value !== \"function\")\n        throw new Error;\n    return function () {\n        set$1(this, id).ease = value;\n    };\n}\nfunction transition_ease(value) {\n    var id = this._id;\n    return arguments.length\n        ? this.each(easeConstant(id, value))\n        : get$1(this.node(), id).ease;\n}\nfunction transition_filter(match) {\n    if (typeof match !== \"function\")\n        match = matcher(match);\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n            if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n                subgroup.push(node);\n            }\n        }\n    }\n    return new Transition(subgroups, this._parents, this._name, this._id);\n}\nfunction transition_merge(transition) {\n    if (transition._id !== this._id)\n        throw new Error;\n    for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n        for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n            if (node = group0[i] || group1[i]) {\n                merge[i] = node;\n            }\n        }\n    }\n    for (; j < m0; ++j) {\n        merges[j] = groups0[j];\n    }\n    return new Transition(merges, this._parents, this._name, this._id);\n}\nfunction start(name) {\n    return (name + \"\").trim().split(/^|\\s+/).every(function (t) {\n        var i = t.indexOf(\".\");\n        if (i >= 0)\n            t = t.slice(0, i);\n        return !t || t === \"start\";\n    });\n}\nfunction onFunction(id, name, listener) {\n    var on0, on1, sit = start(name) ? init : set$1;\n    return function () {\n        var schedule = sit(this, id), on = schedule.on;\n        // If this node shared a dispatch with the previous node,\n        // just assign the updated shared dispatch and we’re done!\n        // Otherwise, copy-on-write.\n        if (on !== on0)\n            (on1 = (on0 = on).copy()).on(name, listener);\n        schedule.on = on1;\n    };\n}\nfunction transition_on(name, listener) {\n    var id = this._id;\n    return arguments.length < 2\n        ? get$1(this.node(), id).on.on(name)\n        : this.each(onFunction(id, name, listener));\n}\nfunction removeFunction(id) {\n    return function () {\n        var parent = this.parentNode;\n        for (var i in this.__transition)\n            if (+i !== id)\n                return;\n        if (parent)\n            parent.removeChild(this);\n    };\n}\nfunction transition_remove() {\n    return this.on(\"end.remove\", removeFunction(this._id));\n}\nfunction transition_select(select) {\n    var name = this._name, id = this._id;\n    if (typeof select !== \"function\")\n        select = selector(select);\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n            if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n                if (\"__data__\" in node)\n                    subnode.__data__ = node.__data__;\n                subgroup[i] = subnode;\n                schedule(subgroup[i], name, id, i, subgroup, get$1(node, id));\n            }\n        }\n    }\n    return new Transition(subgroups, this._parents, name, id);\n}\nfunction transition_selectAll(select) {\n    var name = this._name, id = this._id;\n    if (typeof select !== \"function\")\n        select = selectorAll(select);\n    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                for (var children = select.call(node, node.__data__, i, group), child, inherit = get$1(node, id), k = 0, l = children.length; k < l; ++k) {\n                    if (child = children[k]) {\n                        schedule(child, name, id, k, children, inherit);\n                    }\n                }\n                subgroups.push(children);\n                parents.push(node);\n            }\n        }\n    }\n    return new Transition(subgroups, parents, name, id);\n}\nvar Selection$1 = selection.prototype.constructor;\nfunction transition_selection() {\n    return new Selection$1(this._groups, this._parents);\n}\nfunction styleNull(name, interpolate) {\n    var string00, string10, interpolate0;\n    return function () {\n        var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));\n        return string0 === string1 ? null\n            : string0 === string00 && string1 === string10 ? interpolate0\n                : interpolate0 = interpolate(string00 = string0, string10 = string1);\n    };\n}\nfunction styleRemove$1(name) {\n    return function () {\n        this.style.removeProperty(name);\n    };\n}\nfunction styleConstant$1(name, interpolate, value1) {\n    var string00, string1 = value1 + \"\", interpolate0;\n    return function () {\n        var string0 = styleValue(this, name);\n        return string0 === string1 ? null\n            : string0 === string00 ? interpolate0\n                : interpolate0 = interpolate(string00 = string0, value1);\n    };\n}\nfunction styleFunction$1(name, interpolate, value) {\n    var string00, string10, interpolate0;\n    return function () {\n        var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + \"\";\n        if (value1 == null)\n            string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n        return string0 === string1 ? null\n            : string0 === string00 && string1 === string10 ? interpolate0\n                : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n    };\n}\nfunction styleMaybeRemove(id, name) {\n    var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n    return function () {\n        var schedule = set$1(this, id), on = schedule.on, listener = schedule.value[key] == null ? remove || (remove = styleRemove$1(name)) : undefined;\n        // If this node shared a dispatch with the previous node,\n        // just assign the updated shared dispatch and we’re done!\n        // Otherwise, copy-on-write.\n        if (on !== on0 || listener0 !== listener)\n            (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n        schedule.on = on1;\n    };\n}\nfunction transition_style(name, value, priority) {\n    var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n    return value == null ? this\n        .styleTween(name, styleNull(name, i))\n        .on(\"end.style.\" + name, styleRemove$1(name))\n        : typeof value === \"function\" ? this\n            .styleTween(name, styleFunction$1(name, i, tweenValue(this, \"style.\" + name, value)))\n            .each(styleMaybeRemove(this._id, name))\n            : this\n                .styleTween(name, styleConstant$1(name, i, value), priority)\n                .on(\"end.style.\" + name, null);\n}\nfunction styleInterpolate(name, i, priority) {\n    return function (t) {\n        this.style.setProperty(name, i.call(this, t), priority);\n    };\n}\nfunction styleTween(name, value, priority) {\n    var t, i0;\n    function tween() {\n        var i = value.apply(this, arguments);\n        if (i !== i0)\n            t = (i0 = i) && styleInterpolate(name, i, priority);\n        return t;\n    }\n    tween._value = value;\n    return tween;\n}\nfunction transition_styleTween(name, value, priority) {\n    var key = \"style.\" + (name += \"\");\n    if (arguments.length < 2)\n        return (key = this.tween(key)) && key._value;\n    if (value == null)\n        return this.tween(key, null);\n    if (typeof value !== \"function\")\n        throw new Error;\n    return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\nfunction textConstant$1(value) {\n    return function () {\n        this.textContent = value;\n    };\n}\nfunction textFunction$1(value) {\n    return function () {\n        var value1 = value(this);\n        this.textContent = value1 == null ? \"\" : value1;\n    };\n}\nfunction transition_text(value) {\n    return this.tween(\"text\", typeof value === \"function\"\n        ? textFunction$1(tweenValue(this, \"text\", value))\n        : textConstant$1(value == null ? \"\" : value + \"\"));\n}\nfunction textInterpolate(i) {\n    return function (t) {\n        this.textContent = i.call(this, t);\n    };\n}\nfunction textTween(value) {\n    var t0, i0;\n    function tween() {\n        var i = value.apply(this, arguments);\n        if (i !== i0)\n            t0 = (i0 = i) && textInterpolate(i);\n        return t0;\n    }\n    tween._value = value;\n    return tween;\n}\nfunction transition_textTween(value) {\n    var key = \"text\";\n    if (arguments.length < 1)\n        return (key = this.tween(key)) && key._value;\n    if (value == null)\n        return this.tween(key, null);\n    if (typeof value !== \"function\")\n        throw new Error;\n    return this.tween(key, textTween(value));\n}\nfunction transition_transition() {\n    var name = this._name, id0 = this._id, id1 = newId();\n    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                var inherit = get$1(node, id0);\n                schedule(node, name, id1, i, group, {\n                    time: inherit.time + inherit.delay + inherit.duration,\n                    delay: 0,\n                    duration: inherit.duration,\n                    ease: inherit.ease\n                });\n            }\n        }\n    }\n    return new Transition(groups, this._parents, name, id1);\n}\nfunction transition_end() {\n    var on0, on1, that = this, id = that._id, size = that.size();\n    return new Promise(function (resolve, reject) {\n        var cancel = { value: reject }, end = { value: function () { if (--size === 0)\n                resolve(); } };\n        that.each(function () {\n            var schedule = set$1(this, id), on = schedule.on;\n            // If this node shared a dispatch with the previous node,\n            // just assign the updated shared dispatch and we’re done!\n            // Otherwise, copy-on-write.\n            if (on !== on0) {\n                on1 = (on0 = on).copy();\n                on1._.cancel.push(cancel);\n                on1._.interrupt.push(cancel);\n                on1._.end.push(end);\n            }\n            schedule.on = on1;\n        });\n    });\n}\nvar id = 0;\nfunction Transition(groups, parents, name, id) {\n    this._groups = groups;\n    this._parents = parents;\n    this._name = name;\n    this._id = id;\n}\nfunction transition(name) {\n    return selection().transition(name);\n}\nfunction newId() {\n    return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = transition.prototype = {\n    constructor: Transition,\n    select: transition_select,\n    selectAll: transition_selectAll,\n    filter: transition_filter,\n    merge: transition_merge,\n    selection: transition_selection,\n    transition: transition_transition,\n    call: selection_prototype.call,\n    nodes: selection_prototype.nodes,\n    node: selection_prototype.node,\n    size: selection_prototype.size,\n    empty: selection_prototype.empty,\n    each: selection_prototype.each,\n    on: transition_on,\n    attr: transition_attr,\n    attrTween: transition_attrTween,\n    style: transition_style,\n    styleTween: transition_styleTween,\n    text: transition_text,\n    textTween: transition_textTween,\n    remove: transition_remove,\n    tween: transition_tween,\n    delay: transition_delay,\n    duration: transition_duration,\n    ease: transition_ease,\n    end: transition_end\n};\nfunction quadOut(t) {\n    return t * (2 - t);\n}\nfunction cubicInOut(t) {\n    return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\nvar defaultTiming = {\n    time: null,\n    delay: 0,\n    duration: 250,\n    ease: cubicInOut\n};\nfunction inherit(node, id) {\n    var timing;\n    while (!(timing = node.__transition) || !(timing = timing[id])) {\n        if (!(node = node.parentNode)) {\n            return defaultTiming.time = now(), defaultTiming;\n        }\n    }\n    return timing;\n}\nfunction selection_transition(name) {\n    var id, timing;\n    if (name instanceof Transition) {\n        id = name._id, name = name._name;\n    }\n    else {\n        id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n    }\n    for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n        for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n            if (node = group[i]) {\n                schedule(node, name, id, i, group, timing || inherit(node, id));\n            }\n        }\n    }\n    return new Transition(groups, this._parents, name, id);\n}\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nfunction formatDecimal(x, p) {\n    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0)\n        return null; // NaN, ±Infinity\n    var i, coefficient = x.slice(0, i);\n    // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n    // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n    return [\n        coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n        +x.slice(i + 1)\n    ];\n}\nfunction exponent(x) {\n    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\nfunction formatGroup(grouping, thousands) {\n    return function (value, width) {\n        var i = value.length, t = [], j = 0, g = grouping[0], length = 0;\n        while (i > 0 && g > 0) {\n            if (length + g + 1 > width)\n                g = Math.max(1, width - length);\n            t.push(value.substring(i -= g, i + g));\n            if ((length += g + 1) > width)\n                break;\n            g = grouping[j = (j + 1) % grouping.length];\n        }\n        return t.reverse().join(thousands);\n    };\n}\nfunction formatNumerals(numerals) {\n    return function (value) {\n        return value.replace(/[0-9]/g, function (i) {\n            return numerals[+i];\n        });\n    };\n}\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\nfunction formatSpecifier(specifier) {\n    if (!(match = re.exec(specifier)))\n        throw new Error(\"invalid format: \" + specifier);\n    var match;\n    return new FormatSpecifier({\n        fill: match[1],\n        align: match[2],\n        sign: match[3],\n        symbol: match[4],\n        zero: match[5],\n        width: match[6],\n        comma: match[7],\n        precision: match[8] && match[8].slice(1),\n        trim: match[9],\n        type: match[10]\n    });\n}\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\nfunction FormatSpecifier(specifier) {\n    this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n    this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n    this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n    this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n    this.zero = !!specifier.zero;\n    this.width = specifier.width === undefined ? undefined : +specifier.width;\n    this.comma = !!specifier.comma;\n    this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n    this.trim = !!specifier.trim;\n    this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\nFormatSpecifier.prototype.toString = function () {\n    return this.fill\n        + this.align\n        + this.sign\n        + this.symbol\n        + (this.zero ? \"0\" : \"\")\n        + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n        + (this.comma ? \",\" : \"\")\n        + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n        + (this.trim ? \"~\" : \"\")\n        + this.type;\n};\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n    out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n        switch (s[i]) {\n            case \".\":\n                i0 = i1 = i;\n                break;\n            case \"0\":\n                if (i0 === 0)\n                    i0 = i;\n                i1 = i;\n                break;\n            default:\n                if (!+s[i])\n                    break out;\n                if (i0 > 0)\n                    i0 = 0;\n                break;\n        }\n    }\n    return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\nvar prefixExponent;\nfunction formatPrefixAuto(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d)\n        return x + \"\";\n    var coefficient = d[0], exponent = d[1], i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1, n = coefficient.length;\n    return i === n ? coefficient\n        : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n            : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n                : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\nfunction formatRounded(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d)\n        return x + \"\";\n    var coefficient = d[0], exponent = d[1];\n    return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n        : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n            : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\nvar formatTypes = {\n    \"%\": function (x, p) { return (x * 100).toFixed(p); },\n    \"b\": function (x) { return Math.round(x).toString(2); },\n    \"c\": function (x) { return x + \"\"; },\n    \"d\": function (x) { return Math.round(x).toString(10); },\n    \"e\": function (x, p) { return x.toExponential(p); },\n    \"f\": function (x, p) { return x.toFixed(p); },\n    \"g\": function (x, p) { return x.toPrecision(p); },\n    \"o\": function (x) { return Math.round(x).toString(8); },\n    \"p\": function (x, p) { return formatRounded(x * 100, p); },\n    \"r\": formatRounded,\n    \"s\": formatPrefixAuto,\n    \"X\": function (x) { return Math.round(x).toString(16).toUpperCase(); },\n    \"x\": function (x) { return Math.round(x).toString(16); }\n};\nfunction identity$2(x) {\n    return x;\n}\nvar map = Array.prototype.map, prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\nfunction formatLocale(locale) {\n    var group = locale.grouping === undefined || locale.thousands === undefined ? identity$2 : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"), currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\", currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\", decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\", numerals = locale.numerals === undefined ? identity$2 : formatNumerals(map.call(locale.numerals, String)), percent = locale.percent === undefined ? \"%\" : locale.percent + \"\", minus = locale.minus === undefined ? \"-\" : locale.minus + \"\", nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n    function newFormat(specifier) {\n        specifier = formatSpecifier(specifier);\n        var fill = specifier.fill, align = specifier.align, sign = specifier.sign, symbol = specifier.symbol, zero = specifier.zero, width = specifier.width, comma = specifier.comma, precision = specifier.precision, trim = specifier.trim, type = specifier.type;\n        // The \"n\" type is an alias for \",g\".\n        if (type === \"n\")\n            comma = true, type = \"g\";\n        // The \"\" type, and any invalid type, is an alias for \".12~g\".\n        else if (!formatTypes[type])\n            precision === undefined && (precision = 12), trim = true, type = \"g\";\n        // If zero fill is specified, padding goes after sign and before digits.\n        if (zero || (fill === \"0\" && align === \"=\"))\n            zero = true, fill = \"0\", align = \"=\";\n        // Compute the prefix and suffix.\n        // For SI-prefix, the suffix is lazily computed.\n        var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\", suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n        // What format function should we use?\n        // Is this an integer type?\n        // Can this type generate exponential notation?\n        var formatType = formatTypes[type], maybeSuffix = /[defgprs%]/.test(type);\n        // Set the default precision if not specified,\n        // or clamp the specified precision to the supported range.\n        // For significant precision, it must be in [1, 21].\n        // For fixed precision, it must be in [0, 20].\n        precision = precision === undefined ? 6\n            : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n                : Math.max(0, Math.min(20, precision));\n        function format(value) {\n            var valuePrefix = prefix, valueSuffix = suffix, i, n, c;\n            if (type === \"c\") {\n                valueSuffix = formatType(value) + valueSuffix;\n                value = \"\";\n            }\n            else {\n                value = +value;\n                // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n                var valueNegative = value < 0 || 1 / value < 0;\n                // Perform the initial formatting.\n                value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n                // Trim insignificant zeros.\n                if (trim)\n                    value = formatTrim(value);\n                // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n                if (valueNegative && +value === 0 && sign !== \"+\")\n                    valueNegative = false;\n                // Compute the prefix and suffix.\n                valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n                valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n                // Break the formatted value into the integer “value” part that can be\n                // grouped, and fractional or exponential “suffix” part that is not.\n                if (maybeSuffix) {\n                    i = -1, n = value.length;\n                    while (++i < n) {\n                        if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                            valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                            value = value.slice(0, i);\n                            break;\n                        }\n                    }\n                }\n            }\n            // If the fill character is not \"0\", grouping is applied before padding.\n            if (comma && !zero)\n                value = group(value, Infinity);\n            // Compute the padding.\n            var length = valuePrefix.length + value.length + valueSuffix.length, padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n            // If the fill character is \"0\", grouping is applied after padding.\n            if (comma && zero)\n                value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n            // Reconstruct the final output based on the desired alignment.\n            switch (align) {\n                case \"<\":\n                    value = valuePrefix + value + valueSuffix + padding;\n                    break;\n                case \"=\":\n                    value = valuePrefix + padding + value + valueSuffix;\n                    break;\n                case \"^\":\n                    value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n                    break;\n                default:\n                    value = padding + valuePrefix + value + valueSuffix;\n                    break;\n            }\n            return numerals(value);\n        }\n        format.toString = function () {\n            return specifier + \"\";\n        };\n        return format;\n    }\n    function formatPrefix(specifier, value) {\n        var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)), e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3, k = Math.pow(10, -e), prefix = prefixes[8 + e / 3];\n        return function (value) {\n            return f(k * value) + prefix;\n        };\n    }\n    return {\n        format: newFormat,\n        formatPrefix: formatPrefix\n    };\n}\nvar locale;\nvar format;\nvar formatPrefix;\ndefaultLocale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"],\n    minus: \"-\"\n});\nfunction defaultLocale(definition) {\n    locale = formatLocale(definition);\n    format = locale.format;\n    formatPrefix = locale.formatPrefix;\n    return locale;\n}\nfunction precisionFixed(step) {\n    return Math.max(0, -exponent(Math.abs(step)));\n}\nfunction precisionPrefix(step, value) {\n    return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\nfunction precisionRound(step, max) {\n    step = Math.abs(step), max = Math.abs(max) - step;\n    return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\nfunction initRange(domain, range) {\n    switch (arguments.length) {\n        case 0: break;\n        case 1:\n            this.range(domain);\n            break;\n        default:\n            this.range(range).domain(domain);\n            break;\n    }\n    return this;\n}\nvar array = Array.prototype;\nvar map$1 = array.map;\nvar slice$1 = array.slice;\nfunction constant$3(x) {\n    return function () {\n        return x;\n    };\n}\nfunction number$1(x) {\n    return +x;\n}\nvar unit = [0, 1];\nfunction identity$3(x) {\n    return x;\n}\nfunction normalize(a, b) {\n    return (b -= (a = +a))\n        ? function (x) { return (x - a) / b; }\n        : constant$3(isNaN(b) ? NaN : 0.5);\n}\nfunction clamper(domain) {\n    var a = domain[0], b = domain[domain.length - 1], t;\n    if (a > b)\n        t = a, a = b, b = t;\n    return function (x) { return Math.max(a, Math.min(b, x)); };\n}\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n    var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n    if (d1 < d0)\n        d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n    else\n        d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n    return function (x) { return r0(d0(x)); };\n}\nfunction polymap(domain, range, interpolate) {\n    var j = Math.min(domain.length, range.length) - 1, d = new Array(j), r = new Array(j), i = -1;\n    // Reverse descending domains.\n    if (domain[j] < domain[0]) {\n        domain = domain.slice().reverse();\n        range = range.slice().reverse();\n    }\n    while (++i < j) {\n        d[i] = normalize(domain[i], domain[i + 1]);\n        r[i] = interpolate(range[i], range[i + 1]);\n    }\n    return function (x) {\n        var i = bisectRight(domain, x, 1, j) - 1;\n        return r[i](d[i](x));\n    };\n}\nfunction copy(source, target) {\n    return target\n        .domain(source.domain())\n        .range(source.range())\n        .interpolate(source.interpolate())\n        .clamp(source.clamp())\n        .unknown(source.unknown());\n}\nfunction transformer() {\n    var domain = unit, range = unit, interpolate = interpolateValue, transform, untransform, unknown, clamp = identity$3, piecewise, output, input;\n    function rescale() {\n        piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n        output = input = null;\n        return scale;\n    }\n    function scale(x) {\n        return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n    }\n    scale.invert = function (y) {\n        return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n    };\n    scale.domain = function (_) {\n        return arguments.length ? (domain = map$1.call(_, number$1), clamp === identity$3 || (clamp = clamper(domain)), rescale()) : domain.slice();\n    };\n    scale.range = function (_) {\n        return arguments.length ? (range = slice$1.call(_), rescale()) : range.slice();\n    };\n    scale.rangeRound = function (_) {\n        return range = slice$1.call(_), interpolate = interpolateRound, rescale();\n    };\n    scale.clamp = function (_) {\n        return arguments.length ? (clamp = _ ? clamper(domain) : identity$3, scale) : clamp !== identity$3;\n    };\n    scale.interpolate = function (_) {\n        return arguments.length ? (interpolate = _, rescale()) : interpolate;\n    };\n    scale.unknown = function (_) {\n        return arguments.length ? (unknown = _, scale) : unknown;\n    };\n    return function (t, u) {\n        transform = t, untransform = u;\n        return rescale();\n    };\n}\nfunction continuous(transform, untransform) {\n    return transformer()(transform, untransform);\n}\nfunction tickFormat(start, stop, count, specifier) {\n    var step = tickStep(start, stop, count), precision;\n    specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n    switch (specifier.type) {\n        case \"s\": {\n            var value = Math.max(Math.abs(start), Math.abs(stop));\n            if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value)))\n                specifier.precision = precision;\n            return formatPrefix(specifier, value);\n        }\n        case \"\":\n        case \"e\":\n        case \"g\":\n        case \"p\":\n        case \"r\": {\n            if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop)))))\n                specifier.precision = precision - (specifier.type === \"e\");\n            break;\n        }\n        case \"f\":\n        case \"%\": {\n            if (specifier.precision == null && !isNaN(precision = precisionFixed(step)))\n                specifier.precision = precision - (specifier.type === \"%\") * 2;\n            break;\n        }\n    }\n    return format(specifier);\n}\nfunction linearish(scale) {\n    var domain = scale.domain;\n    scale.ticks = function (count) {\n        var d = domain();\n        return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n    };\n    scale.tickFormat = function (count, specifier) {\n        var d = domain();\n        return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n    };\n    scale.nice = function (count) {\n        if (count == null)\n            count = 10;\n        var d = domain(), i0 = 0, i1 = d.length - 1, start = d[i0], stop = d[i1], step;\n        if (stop < start) {\n            step = start, start = stop, stop = step;\n            step = i0, i0 = i1, i1 = step;\n        }\n        step = tickIncrement(start, stop, count);\n        if (step > 0) {\n            start = Math.floor(start / step) * step;\n            stop = Math.ceil(stop / step) * step;\n            step = tickIncrement(start, stop, count);\n        }\n        else if (step < 0) {\n            start = Math.ceil(start * step) / step;\n            stop = Math.floor(stop * step) / step;\n            step = tickIncrement(start, stop, count);\n        }\n        if (step > 0) {\n            d[i0] = Math.floor(start / step) * step;\n            d[i1] = Math.ceil(stop / step) * step;\n            domain(d);\n        }\n        else if (step < 0) {\n            d[i0] = Math.ceil(start * step) / step;\n            d[i1] = Math.floor(stop * step) / step;\n            domain(d);\n        }\n        return scale;\n    };\n    return scale;\n}\nfunction linear$1() {\n    var scale = continuous(identity$3, identity$3);\n    scale.copy = function () {\n        return copy(scale, linear$1());\n    };\n    initRange.apply(scale, arguments);\n    return linearish(scale);\n}\nfunction nice(domain, interval) {\n    domain = domain.slice();\n    var i0 = 0, i1 = domain.length - 1, x0 = domain[i0], x1 = domain[i1], t;\n    if (x1 < x0) {\n        t = i0, i0 = i1, i1 = t;\n        t = x0, x0 = x1, x1 = t;\n    }\n    domain[i0] = interval.floor(x0);\n    domain[i1] = interval.ceil(x1);\n    return domain;\n}\nvar t0 = new Date, t1 = new Date;\nfunction newInterval(floori, offseti, count, field) {\n    function interval(date) {\n        return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n    }\n    interval.floor = function (date) {\n        return floori(date = new Date(+date)), date;\n    };\n    interval.ceil = function (date) {\n        return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n    };\n    interval.round = function (date) {\n        var d0 = interval(date), d1 = interval.ceil(date);\n        return date - d0 < d1 - date ? d0 : d1;\n    };\n    interval.offset = function (date, step) {\n        return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n    };\n    interval.range = function (start, stop, step) {\n        var range = [], previous;\n        start = interval.ceil(start);\n        step = step == null ? 1 : Math.floor(step);\n        if (!(start < stop) || !(step > 0))\n            return range; // also handles Invalid Date\n        do\n            range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n        while (previous < start && start < stop);\n        return range;\n    };\n    interval.filter = function (test) {\n        return newInterval(function (date) {\n            if (date >= date)\n                while (floori(date), !test(date))\n                    date.setTime(date - 1);\n        }, function (date, step) {\n            if (date >= date) {\n                if (step < 0)\n                    while (++step <= 0) {\n                        while (offseti(date, -1), !test(date)) { } // eslint-disable-line no-empty\n                    }\n                else\n                    while (--step >= 0) {\n                        while (offseti(date, +1), !test(date)) { } // eslint-disable-line no-empty\n                    }\n            }\n        });\n    };\n    if (count) {\n        interval.count = function (start, end) {\n            t0.setTime(+start), t1.setTime(+end);\n            floori(t0), floori(t1);\n            return Math.floor(count(t0, t1));\n        };\n        interval.every = function (step) {\n            step = Math.floor(step);\n            return !isFinite(step) || !(step > 0) ? null\n                : !(step > 1) ? interval\n                    : interval.filter(field\n                        ? function (d) { return field(d) % step === 0; }\n                        : function (d) { return interval.count(0, d) % step === 0; });\n        };\n    }\n    return interval;\n}\nvar millisecond = newInterval(function () {\n    // noop\n}, function (date, step) {\n    date.setTime(+date + step);\n}, function (start, end) {\n    return end - start;\n});\n// An optimized implementation for this simple case.\nmillisecond.every = function (k) {\n    k = Math.floor(k);\n    if (!isFinite(k) || !(k > 0))\n        return null;\n    if (!(k > 1))\n        return millisecond;\n    return newInterval(function (date) {\n        date.setTime(Math.floor(date / k) * k);\n    }, function (date, step) {\n        date.setTime(+date + step * k);\n    }, function (start, end) {\n        return (end - start) / k;\n    });\n};\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\nvar second = newInterval(function (date) {\n    date.setTime(date - date.getMilliseconds());\n}, function (date, step) {\n    date.setTime(+date + step * durationSecond);\n}, function (start, end) {\n    return (end - start) / durationSecond;\n}, function (date) {\n    return date.getUTCSeconds();\n});\nvar minute = newInterval(function (date) {\n    date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function (date, step) {\n    date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n    return (end - start) / durationMinute;\n}, function (date) {\n    return date.getMinutes();\n});\nvar hour = newInterval(function (date) {\n    date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function (date, step) {\n    date.setTime(+date + step * durationHour);\n}, function (start, end) {\n    return (end - start) / durationHour;\n}, function (date) {\n    return date.getHours();\n});\nvar day = newInterval(function (date) {\n    date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setDate(date.getDate() + step);\n}, function (start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function (date) {\n    return date.getDate() - 1;\n});\nfunction weekday(i) {\n    return newInterval(function (date) {\n        date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n        date.setHours(0, 0, 0, 0);\n    }, function (date, step) {\n        date.setDate(date.getDate() + step * 7);\n    }, function (start, end) {\n        return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n    });\n}\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar month = newInterval(function (date) {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setMonth(date.getMonth() + step);\n}, function (start, end) {\n    return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function (date) {\n    return date.getMonth();\n});\nvar year = newInterval(function (date) {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setFullYear(date.getFullYear() + step);\n}, function (start, end) {\n    return end.getFullYear() - start.getFullYear();\n}, function (date) {\n    return date.getFullYear();\n});\n// An optimized implementation for this simple case.\nyear.every = function (k) {\n    return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n        date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n        date.setMonth(0, 1);\n        date.setHours(0, 0, 0, 0);\n    }, function (date, step) {\n        date.setFullYear(date.getFullYear() + step * k);\n    });\n};\nvar utcDay = newInterval(function (date) {\n    date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setUTCDate(date.getUTCDate() + step);\n}, function (start, end) {\n    return (end - start) / durationDay;\n}, function (date) {\n    return date.getUTCDate() - 1;\n});\nfunction utcWeekday(i) {\n    return newInterval(function (date) {\n        date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n        date.setUTCHours(0, 0, 0, 0);\n    }, function (date, step) {\n        date.setUTCDate(date.getUTCDate() + step * 7);\n    }, function (start, end) {\n        return (end - start) / durationWeek;\n    });\n}\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\nvar utcYear = newInterval(function (date) {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function (start, end) {\n    return end.getUTCFullYear() - start.getUTCFullYear();\n}, function (date) {\n    return date.getUTCFullYear();\n});\n// An optimized implementation for this simple case.\nutcYear.every = function (k) {\n    return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n        date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n        date.setUTCMonth(0, 1);\n        date.setUTCHours(0, 0, 0, 0);\n    }, function (date, step) {\n        date.setUTCFullYear(date.getUTCFullYear() + step * k);\n    });\n};\nfunction localDate(d) {\n    if (0 <= d.y && d.y < 100) {\n        var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n        date.setFullYear(d.y);\n        return date;\n    }\n    return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\nfunction utcDate(d) {\n    if (0 <= d.y && d.y < 100) {\n        var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n        date.setUTCFullYear(d.y);\n        return date;\n    }\n    return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\nfunction newDate(y, m, d) {\n    return { y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0 };\n}\nfunction formatLocale$1(locale) {\n    var locale_dateTime = locale.dateTime, locale_date = locale.date, locale_time = locale.time, locale_periods = locale.periods, locale_weekdays = locale.days, locale_shortWeekdays = locale.shortDays, locale_months = locale.months, locale_shortMonths = locale.shortMonths;\n    var periodRe = formatRe(locale_periods), periodLookup = formatLookup(locale_periods), weekdayRe = formatRe(locale_weekdays), weekdayLookup = formatLookup(locale_weekdays), shortWeekdayRe = formatRe(locale_shortWeekdays), shortWeekdayLookup = formatLookup(locale_shortWeekdays), monthRe = formatRe(locale_months), monthLookup = formatLookup(locale_months), shortMonthRe = formatRe(locale_shortMonths), shortMonthLookup = formatLookup(locale_shortMonths);\n    var formats = {\n        \"a\": formatShortWeekday,\n        \"A\": formatWeekday,\n        \"b\": formatShortMonth,\n        \"B\": formatMonth,\n        \"c\": null,\n        \"d\": formatDayOfMonth,\n        \"e\": formatDayOfMonth,\n        \"f\": formatMicroseconds,\n        \"H\": formatHour24,\n        \"I\": formatHour12,\n        \"j\": formatDayOfYear,\n        \"L\": formatMilliseconds,\n        \"m\": formatMonthNumber,\n        \"M\": formatMinutes,\n        \"p\": formatPeriod,\n        \"q\": formatQuarter,\n        \"Q\": formatUnixTimestamp,\n        \"s\": formatUnixTimestampSeconds,\n        \"S\": formatSeconds,\n        \"u\": formatWeekdayNumberMonday,\n        \"U\": formatWeekNumberSunday,\n        \"V\": formatWeekNumberISO,\n        \"w\": formatWeekdayNumberSunday,\n        \"W\": formatWeekNumberMonday,\n        \"x\": null,\n        \"X\": null,\n        \"y\": formatYear,\n        \"Y\": formatFullYear,\n        \"Z\": formatZone,\n        \"%\": formatLiteralPercent\n    };\n    var utcFormats = {\n        \"a\": formatUTCShortWeekday,\n        \"A\": formatUTCWeekday,\n        \"b\": formatUTCShortMonth,\n        \"B\": formatUTCMonth,\n        \"c\": null,\n        \"d\": formatUTCDayOfMonth,\n        \"e\": formatUTCDayOfMonth,\n        \"f\": formatUTCMicroseconds,\n        \"H\": formatUTCHour24,\n        \"I\": formatUTCHour12,\n        \"j\": formatUTCDayOfYear,\n        \"L\": formatUTCMilliseconds,\n        \"m\": formatUTCMonthNumber,\n        \"M\": formatUTCMinutes,\n        \"p\": formatUTCPeriod,\n        \"q\": formatUTCQuarter,\n        \"Q\": formatUnixTimestamp,\n        \"s\": formatUnixTimestampSeconds,\n        \"S\": formatUTCSeconds,\n        \"u\": formatUTCWeekdayNumberMonday,\n        \"U\": formatUTCWeekNumberSunday,\n        \"V\": formatUTCWeekNumberISO,\n        \"w\": formatUTCWeekdayNumberSunday,\n        \"W\": formatUTCWeekNumberMonday,\n        \"x\": null,\n        \"X\": null,\n        \"y\": formatUTCYear,\n        \"Y\": formatUTCFullYear,\n        \"Z\": formatUTCZone,\n        \"%\": formatLiteralPercent\n    };\n    var parses = {\n        \"a\": parseShortWeekday,\n        \"A\": parseWeekday,\n        \"b\": parseShortMonth,\n        \"B\": parseMonth,\n        \"c\": parseLocaleDateTime,\n        \"d\": parseDayOfMonth,\n        \"e\": parseDayOfMonth,\n        \"f\": parseMicroseconds,\n        \"H\": parseHour24,\n        \"I\": parseHour24,\n        \"j\": parseDayOfYear,\n        \"L\": parseMilliseconds,\n        \"m\": parseMonthNumber,\n        \"M\": parseMinutes,\n        \"p\": parsePeriod,\n        \"q\": parseQuarter,\n        \"Q\": parseUnixTimestamp,\n        \"s\": parseUnixTimestampSeconds,\n        \"S\": parseSeconds,\n        \"u\": parseWeekdayNumberMonday,\n        \"U\": parseWeekNumberSunday,\n        \"V\": parseWeekNumberISO,\n        \"w\": parseWeekdayNumberSunday,\n        \"W\": parseWeekNumberMonday,\n        \"x\": parseLocaleDate,\n        \"X\": parseLocaleTime,\n        \"y\": parseYear,\n        \"Y\": parseFullYear,\n        \"Z\": parseZone,\n        \"%\": parseLiteralPercent\n    };\n    // These recursive directive definitions must be deferred.\n    formats.x = newFormat(locale_date, formats);\n    formats.X = newFormat(locale_time, formats);\n    formats.c = newFormat(locale_dateTime, formats);\n    utcFormats.x = newFormat(locale_date, utcFormats);\n    utcFormats.X = newFormat(locale_time, utcFormats);\n    utcFormats.c = newFormat(locale_dateTime, utcFormats);\n    function newFormat(specifier, formats) {\n        return function (date) {\n            var string = [], i = -1, j = 0, n = specifier.length, c, pad, format;\n            if (!(date instanceof Date))\n                date = new Date(+date);\n            while (++i < n) {\n                if (specifier.charCodeAt(i) === 37) {\n                    string.push(specifier.slice(j, i));\n                    if ((pad = pads[c = specifier.charAt(++i)]) != null)\n                        c = specifier.charAt(++i);\n                    else\n                        pad = c === \"e\" ? \" \" : \"0\";\n                    if (format = formats[c])\n                        c = format(date, pad);\n                    string.push(c);\n                    j = i + 1;\n                }\n            }\n            string.push(specifier.slice(j, i));\n            return string.join(\"\");\n        };\n    }\n    function newParse(specifier, Z) {\n        return function (string) {\n            var d = newDate(1900, undefined, 1), i = parseSpecifier(d, specifier, string += \"\", 0), week, day$1;\n            if (i != string.length)\n                return null;\n            // If a UNIX timestamp is specified, return it.\n            if (\"Q\" in d)\n                return new Date(d.Q);\n            if (\"s\" in d)\n                return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n            // If this is utcParse, never use the local timezone.\n            if (Z && !(\"Z\" in d))\n                d.Z = 0;\n            // The am-pm flag is 0 for AM, and 1 for PM.\n            if (\"p\" in d)\n                d.H = d.H % 12 + d.p * 12;\n            // If the month was not specified, inherit from the quarter.\n            if (d.m === undefined)\n                d.m = \"q\" in d ? d.q : 0;\n            // Convert day-of-week and week-of-year to day-of-year.\n            if (\"V\" in d) {\n                if (d.V < 1 || d.V > 53)\n                    return null;\n                if (!(\"w\" in d))\n                    d.w = 1;\n                if (\"Z\" in d) {\n                    week = utcDate(newDate(d.y, 0, 1)), day$1 = week.getUTCDay();\n                    week = day$1 > 4 || day$1 === 0 ? utcMonday.ceil(week) : utcMonday(week);\n                    week = utcDay.offset(week, (d.V - 1) * 7);\n                    d.y = week.getUTCFullYear();\n                    d.m = week.getUTCMonth();\n                    d.d = week.getUTCDate() + (d.w + 6) % 7;\n                }\n                else {\n                    week = localDate(newDate(d.y, 0, 1)), day$1 = week.getDay();\n                    week = day$1 > 4 || day$1 === 0 ? monday.ceil(week) : monday(week);\n                    week = day.offset(week, (d.V - 1) * 7);\n                    d.y = week.getFullYear();\n                    d.m = week.getMonth();\n                    d.d = week.getDate() + (d.w + 6) % 7;\n                }\n            }\n            else if (\"W\" in d || \"U\" in d) {\n                if (!(\"w\" in d))\n                    d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n                day$1 = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n                d.m = 0;\n                d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$1 + 5) % 7 : d.w + d.U * 7 - (day$1 + 6) % 7;\n            }\n            // If a time zone is specified, all fields are interpreted as UTC and then\n            // offset according to the specified time zone.\n            if (\"Z\" in d) {\n                d.H += d.Z / 100 | 0;\n                d.M += d.Z % 100;\n                return utcDate(d);\n            }\n            // Otherwise, all fields are in local time.\n            return localDate(d);\n        };\n    }\n    function parseSpecifier(d, specifier, string, j) {\n        var i = 0, n = specifier.length, m = string.length, c, parse;\n        while (i < n) {\n            if (j >= m)\n                return -1;\n            c = specifier.charCodeAt(i++);\n            if (c === 37) {\n                c = specifier.charAt(i++);\n                parse = parses[c in pads ? specifier.charAt(i++) : c];\n                if (!parse || ((j = parse(d, string, j)) < 0))\n                    return -1;\n            }\n            else if (c != string.charCodeAt(j++)) {\n                return -1;\n            }\n        }\n        return j;\n    }\n    function parsePeriod(d, string, i) {\n        var n = periodRe.exec(string.slice(i));\n        return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseShortWeekday(d, string, i) {\n        var n = shortWeekdayRe.exec(string.slice(i));\n        return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseWeekday(d, string, i) {\n        var n = weekdayRe.exec(string.slice(i));\n        return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseShortMonth(d, string, i) {\n        var n = shortMonthRe.exec(string.slice(i));\n        return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseMonth(d, string, i) {\n        var n = monthRe.exec(string.slice(i));\n        return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n    }\n    function parseLocaleDateTime(d, string, i) {\n        return parseSpecifier(d, locale_dateTime, string, i);\n    }\n    function parseLocaleDate(d, string, i) {\n        return parseSpecifier(d, locale_date, string, i);\n    }\n    function parseLocaleTime(d, string, i) {\n        return parseSpecifier(d, locale_time, string, i);\n    }\n    function formatShortWeekday(d) {\n        return locale_shortWeekdays[d.getDay()];\n    }\n    function formatWeekday(d) {\n        return locale_weekdays[d.getDay()];\n    }\n    function formatShortMonth(d) {\n        return locale_shortMonths[d.getMonth()];\n    }\n    function formatMonth(d) {\n        return locale_months[d.getMonth()];\n    }\n    function formatPeriod(d) {\n        return locale_periods[+(d.getHours() >= 12)];\n    }\n    function formatQuarter(d) {\n        return 1 + ~~(d.getMonth() / 3);\n    }\n    function formatUTCShortWeekday(d) {\n        return locale_shortWeekdays[d.getUTCDay()];\n    }\n    function formatUTCWeekday(d) {\n        return locale_weekdays[d.getUTCDay()];\n    }\n    function formatUTCShortMonth(d) {\n        return locale_shortMonths[d.getUTCMonth()];\n    }\n    function formatUTCMonth(d) {\n        return locale_months[d.getUTCMonth()];\n    }\n    function formatUTCPeriod(d) {\n        return locale_periods[+(d.getUTCHours() >= 12)];\n    }\n    function formatUTCQuarter(d) {\n        return 1 + ~~(d.getUTCMonth() / 3);\n    }\n    return {\n        format: function (specifier) {\n            var f = newFormat(specifier += \"\", formats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        parse: function (specifier) {\n            var p = newParse(specifier += \"\", false);\n            p.toString = function () { return specifier; };\n            return p;\n        },\n        utcFormat: function (specifier) {\n            var f = newFormat(specifier += \"\", utcFormats);\n            f.toString = function () { return specifier; };\n            return f;\n        },\n        utcParse: function (specifier) {\n            var p = newParse(specifier += \"\", true);\n            p.toString = function () { return specifier; };\n            return p;\n        }\n    };\n}\nvar pads = { \"-\": \"\", \"_\": \" \", \"0\": \"0\" }, numberRe = /^\\s*\\d+/, // note: ignores next directive\npercentRe = /^%/, requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\nfunction pad(value, fill, width) {\n    var sign = value < 0 ? \"-\" : \"\", string = (sign ? -value : value) + \"\", length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\nfunction requote(s) {\n    return s.replace(requoteRe, \"\\\\$&\");\n}\nfunction formatRe(names) {\n    return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\nfunction formatLookup(names) {\n    var map = {}, i = -1, n = names.length;\n    while (++i < n)\n        map[names[i].toLowerCase()] = i;\n    return map;\n}\nfunction parseWeekdayNumberSunday(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 1));\n    return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekdayNumberMonday(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 1));\n    return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekNumberSunday(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekNumberISO(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\nfunction parseWeekNumberMonday(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\nfunction parseFullYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 4));\n    return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\nfunction parseYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\nfunction parseZone(d, string, i) {\n    var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n    return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\nfunction parseQuarter(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 1));\n    return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\nfunction parseMonthNumber(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\nfunction parseDayOfMonth(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\nfunction parseDayOfYear(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\nfunction parseHour24(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\nfunction parseMinutes(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\nfunction parseSeconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 2));\n    return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\nfunction parseMilliseconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 3));\n    return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\nfunction parseMicroseconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i, i + 6));\n    return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\nfunction parseLiteralPercent(d, string, i) {\n    var n = percentRe.exec(string.slice(i, i + 1));\n    return n ? i + n[0].length : -1;\n}\nfunction parseUnixTimestamp(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\nfunction parseUnixTimestampSeconds(d, string, i) {\n    var n = numberRe.exec(string.slice(i));\n    return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\nfunction formatDayOfMonth(d, p) {\n    return pad(d.getDate(), p, 2);\n}\nfunction formatHour24(d, p) {\n    return pad(d.getHours(), p, 2);\n}\nfunction formatHour12(d, p) {\n    return pad(d.getHours() % 12 || 12, p, 2);\n}\nfunction formatDayOfYear(d, p) {\n    return pad(1 + day.count(year(d), d), p, 3);\n}\nfunction formatMilliseconds(d, p) {\n    return pad(d.getMilliseconds(), p, 3);\n}\nfunction formatMicroseconds(d, p) {\n    return formatMilliseconds(d, p) + \"000\";\n}\nfunction formatMonthNumber(d, p) {\n    return pad(d.getMonth() + 1, p, 2);\n}\nfunction formatMinutes(d, p) {\n    return pad(d.getMinutes(), p, 2);\n}\nfunction formatSeconds(d, p) {\n    return pad(d.getSeconds(), p, 2);\n}\nfunction formatWeekdayNumberMonday(d) {\n    var day = d.getDay();\n    return day === 0 ? 7 : day;\n}\nfunction formatWeekNumberSunday(d, p) {\n    return pad(sunday.count(year(d) - 1, d), p, 2);\n}\nfunction formatWeekNumberISO(d, p) {\n    var day = d.getDay();\n    d = (day >= 4 || day === 0) ? thursday(d) : thursday.ceil(d);\n    return pad(thursday.count(year(d), d) + (year(d).getDay() === 4), p, 2);\n}\nfunction formatWeekdayNumberSunday(d) {\n    return d.getDay();\n}\nfunction formatWeekNumberMonday(d, p) {\n    return pad(monday.count(year(d) - 1, d), p, 2);\n}\nfunction formatYear(d, p) {\n    return pad(d.getFullYear() % 100, p, 2);\n}\nfunction formatFullYear(d, p) {\n    return pad(d.getFullYear() % 10000, p, 4);\n}\nfunction formatZone(d) {\n    var z = d.getTimezoneOffset();\n    return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n        + pad(z / 60 | 0, \"0\", 2)\n        + pad(z % 60, \"0\", 2);\n}\nfunction formatUTCDayOfMonth(d, p) {\n    return pad(d.getUTCDate(), p, 2);\n}\nfunction formatUTCHour24(d, p) {\n    return pad(d.getUTCHours(), p, 2);\n}\nfunction formatUTCHour12(d, p) {\n    return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\nfunction formatUTCDayOfYear(d, p) {\n    return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\nfunction formatUTCMilliseconds(d, p) {\n    return pad(d.getUTCMilliseconds(), p, 3);\n}\nfunction formatUTCMicroseconds(d, p) {\n    return formatUTCMilliseconds(d, p) + \"000\";\n}\nfunction formatUTCMonthNumber(d, p) {\n    return pad(d.getUTCMonth() + 1, p, 2);\n}\nfunction formatUTCMinutes(d, p) {\n    return pad(d.getUTCMinutes(), p, 2);\n}\nfunction formatUTCSeconds(d, p) {\n    return pad(d.getUTCSeconds(), p, 2);\n}\nfunction formatUTCWeekdayNumberMonday(d) {\n    var dow = d.getUTCDay();\n    return dow === 0 ? 7 : dow;\n}\nfunction formatUTCWeekNumberSunday(d, p) {\n    return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\nfunction formatUTCWeekNumberISO(d, p) {\n    var day = d.getUTCDay();\n    d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n    return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\nfunction formatUTCWeekdayNumberSunday(d) {\n    return d.getUTCDay();\n}\nfunction formatUTCWeekNumberMonday(d, p) {\n    return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\nfunction formatUTCYear(d, p) {\n    return pad(d.getUTCFullYear() % 100, p, 2);\n}\nfunction formatUTCFullYear(d, p) {\n    return pad(d.getUTCFullYear() % 10000, p, 4);\n}\nfunction formatUTCZone() {\n    return \"+0000\";\n}\nfunction formatLiteralPercent() {\n    return \"%\";\n}\nfunction formatUnixTimestamp(d) {\n    return +d;\n}\nfunction formatUnixTimestampSeconds(d) {\n    return Math.floor(+d / 1000);\n}\nvar locale$1;\nvar timeFormat;\ndefaultLocale$1({\n    dateTime: \"%x, %X\",\n    date: \"%-m/%-d/%Y\",\n    time: \"%-I:%M:%S %p\",\n    periods: [\"AM\", \"PM\"],\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\nfunction defaultLocale$1(definition) {\n    locale$1 = formatLocale$1(definition);\n    timeFormat = locale$1.format;\n    return locale$1;\n}\nvar durationSecond$1 = 1000, durationMinute$1 = durationSecond$1 * 60, durationHour$1 = durationMinute$1 * 60, durationDay$1 = durationHour$1 * 24, durationWeek$1 = durationDay$1 * 7, durationMonth = durationDay$1 * 30, durationYear = durationDay$1 * 365;\nfunction date$1(t) {\n    return new Date(t);\n}\nfunction number$2(t) {\n    return t instanceof Date ? +t : +new Date(+t);\n}\nfunction calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n    var scale = continuous(identity$3, identity$3), invert = scale.invert, domain = scale.domain;\n    var formatMillisecond = format(\".%L\"), formatSecond = format(\":%S\"), formatMinute = format(\"%I:%M\"), formatHour = format(\"%I %p\"), formatDay = format(\"%a %d\"), formatWeek = format(\"%b %d\"), formatMonth = format(\"%B\"), formatYear = format(\"%Y\");\n    var tickIntervals = [\n        [second, 1, durationSecond$1],\n        [second, 5, 5 * durationSecond$1],\n        [second, 15, 15 * durationSecond$1],\n        [second, 30, 30 * durationSecond$1],\n        [minute, 1, durationMinute$1],\n        [minute, 5, 5 * durationMinute$1],\n        [minute, 15, 15 * durationMinute$1],\n        [minute, 30, 30 * durationMinute$1],\n        [hour, 1, durationHour$1],\n        [hour, 3, 3 * durationHour$1],\n        [hour, 6, 6 * durationHour$1],\n        [hour, 12, 12 * durationHour$1],\n        [day, 1, durationDay$1],\n        [day, 2, 2 * durationDay$1],\n        [week, 1, durationWeek$1],\n        [month, 1, durationMonth],\n        [month, 3, 3 * durationMonth],\n        [year, 1, durationYear]\n    ];\n    function tickFormat(date) {\n        return (second(date) < date ? formatMillisecond\n            : minute(date) < date ? formatSecond\n                : hour(date) < date ? formatMinute\n                    : day(date) < date ? formatHour\n                        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n                            : year(date) < date ? formatMonth\n                                : formatYear)(date);\n    }\n    function tickInterval(interval, start, stop, step) {\n        if (interval == null)\n            interval = 10;\n        // If a desired tick count is specified, pick a reasonable tick interval\n        // based on the extent of the domain and a rough estimate of tick size.\n        // Otherwise, assume interval is already a time interval and use it.\n        if (typeof interval === \"number\") {\n            var target = Math.abs(stop - start) / interval, i = bisector(function (i) { return i[2]; }).right(tickIntervals, target);\n            if (i === tickIntervals.length) {\n                step = tickStep(start / durationYear, stop / durationYear, interval);\n                interval = year;\n            }\n            else if (i) {\n                i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n                step = i[1];\n                interval = i[0];\n            }\n            else {\n                step = Math.max(tickStep(start, stop, interval), 1);\n                interval = millisecond;\n            }\n        }\n        return step == null ? interval : interval.every(step);\n    }\n    scale.invert = function (y) {\n        return new Date(invert(y));\n    };\n    scale.domain = function (_) {\n        return arguments.length ? domain(map$1.call(_, number$2)) : domain().map(date$1);\n    };\n    scale.ticks = function (interval, step) {\n        var d = domain(), t0 = d[0], t1 = d[d.length - 1], r = t1 < t0, t;\n        if (r)\n            t = t0, t0 = t1, t1 = t;\n        t = tickInterval(interval, t0, t1, step);\n        t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n        return r ? t.reverse() : t;\n    };\n    scale.tickFormat = function (count, specifier) {\n        return specifier == null ? tickFormat : format(specifier);\n    };\n    scale.nice = function (interval, step) {\n        var d = domain();\n        return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n            ? domain(nice(d, interval))\n            : scale;\n    };\n    scale.copy = function () {\n        return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n    };\n    return scale;\n}\nfunction scaleTime() {\n    return initRange.apply(calendar(year, month, sunday, day, hour, minute, second, millisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\nvar UPDATE_DURATION = 200;\nvar SLIDER_END_PADDING = 8;\nvar KEYBOARD_NUMBER_STEPS = 100;\nvar top$1 = 1;\nvar right$1 = 2;\nvar bottom$1 = 3;\nvar left$1 = 4;\nfunction translateX$1(x) {\n    return 'translate(' + x + ',0)';\n}\nfunction translateY$1(y) {\n    return 'translate(0,' + y + ')';\n}\nfunction slider(orientation, scale) {\n    scale = typeof scale !== 'undefined' ? scale : null;\n    var value = [0];\n    var defaultValue = [0];\n    var domain = [0, 10];\n    var width = 100;\n    var height = 100;\n    var displayValue = true;\n    var handle = 'M-5.5,-5.5v10l6,5.5l6,-5.5v-10z';\n    var step = null;\n    var tickValues = null;\n    var marks = null;\n    var tickFormat = null;\n    var ticks = null;\n    var displayFormat = null;\n    var fill = null;\n    var listeners = dispatch('onchange', 'start', 'end', 'drag');\n    var selection = null;\n    var identityClamped = null;\n    var handleIndex = null;\n    var k = orientation === top$1 || orientation === left$1 ? -1 : 1;\n    var x = orientation === left$1 || orientation === right$1 ? 'y' : 'x';\n    var y = orientation === left$1 || orientation === right$1 ? 'x' : 'y';\n    var transformAlong = orientation === top$1 || orientation === bottom$1 ? translateX$1 : translateY$1;\n    var transformAcross = orientation === top$1 || orientation === bottom$1 ? translateY$1 : translateX$1;\n    var axisFunction = null;\n    switch (orientation) {\n        case top$1:\n            axisFunction = axisTop;\n            break;\n        case right$1:\n            axisFunction = axisRight;\n            break;\n        case bottom$1:\n            axisFunction = axisBottom;\n            break;\n        case left$1:\n            axisFunction = axisLeft;\n            break;\n    }\n    var handleSelection = null;\n    var fillSelection = null;\n    var textSelection = null;\n    if (scale) {\n        domain = [min(scale.domain()), max(scale.domain())];\n        if (orientation === top$1 || orientation === bottom$1) {\n            width = max(scale.range()) - min(scale.range());\n        }\n        else {\n            height = max(scale.range()) - min(scale.range());\n        }\n        scale = scale.clamp(true);\n    }\n    function slider(context) {\n        selection = context.selection ? context.selection() : context;\n        if (scale) {\n            scale = scale.range([\n                min(scale.range()),\n                min(scale.range()) +\n                    (orientation === top$1 || orientation === bottom$1 ? width : height),\n            ]);\n        }\n        else {\n            scale = domain[0] instanceof Date ? scaleTime() : linear$1();\n            scale = scale\n                .domain(domain)\n                .range(orientation === top$1 || orientation === bottom$1\n                ? [0, width]\n                : [height, 0])\n                .clamp(true);\n        }\n        identityClamped = linear$1()\n            .range(scale.range())\n            .domain(scale.range())\n            .clamp(true);\n        // Ensure value is valid\n        value = value.map(function (d) {\n            return linear$1()\n                .range(domain)\n                .domain(domain)\n                .clamp(true)(d);\n        });\n        tickFormat = tickFormat || scale.tickFormat();\n        displayFormat = displayFormat || tickFormat || scale.tickFormat();\n        var axis = selection.selectAll('.axis').data([null]);\n        axis\n            .enter()\n            .append('g')\n            .attr('transform', transformAcross(k * 7))\n            .attr('class', 'axis');\n        var sliderSelection = selection.selectAll('.slider').data([null]);\n        var sliderEnter = sliderSelection\n            .enter()\n            .append('g')\n            .attr('class', 'slider')\n            .attr('cursor', orientation === top$1 || orientation === bottom$1\n            ? 'ew-resize'\n            : 'ns-resize')\n            .call(drag()\n            .on('start', dragstarted)\n            .on('drag', dragged)\n            .on('end', dragended));\n        sliderEnter\n            .append('line')\n            .attr('class', 'track')\n            .attr(x + '1', scale.range()[0] - k * SLIDER_END_PADDING)\n            .attr('stroke', '#bbb')\n            .attr('stroke-width', 6)\n            .attr('stroke-linecap', 'round');\n        sliderEnter\n            .append('line')\n            .attr('class', 'track-inset')\n            .attr(x + '1', scale.range()[0] - k * SLIDER_END_PADDING)\n            .attr('stroke', '#eee')\n            .attr('stroke-width', 4)\n            .attr('stroke-linecap', 'round');\n        if (fill) {\n            sliderEnter\n                .append('line')\n                .attr('class', 'track-fill')\n                .attr(x + '1', value.length === 1\n                ? scale.range()[0] - k * SLIDER_END_PADDING\n                : scale(value[0]))\n                .attr('stroke', fill)\n                .attr('stroke-width', 4)\n                .attr('stroke-linecap', 'round');\n        }\n        sliderEnter\n            .append('line')\n            .attr('class', 'track-overlay')\n            .attr(x + '1', scale.range()[0] - k * SLIDER_END_PADDING)\n            .attr('stroke', 'transparent')\n            .attr('stroke-width', 40)\n            .attr('stroke-linecap', 'round')\n            .merge(sliderSelection.select('.track-overlay'));\n        handleSelection = sliderEnter.selectAll('.parameter-value').data(value);\n        var handleEnter = handleSelection\n            .enter()\n            .append('g')\n            .attr('class', 'parameter-value')\n            .attr('transform', function (d) {\n            return transformAlong(scale(d));\n        })\n            .attr('font-family', 'sans-serif')\n            .attr('text-anchor', orientation === right$1\n            ? 'start'\n            : orientation === left$1\n                ? 'end'\n                : 'middle');\n        handleEnter\n            .append('path')\n            .attr('transform', 'rotate(' + (orientation + 1) * 90 + ')')\n            .attr('d', handle)\n            .attr('class', 'handle')\n            .attr('aria-label', 'handle')\n            .attr('aria-valuemax', domain[1])\n            .attr('aria-valuemin', domain[0])\n            .attr('aria-valuenow', value)\n            .attr('aria-orientation', orientation === left$1 || orientation === right$1\n            ? 'vertical'\n            : 'horizontal')\n            .attr('focusable', 'true')\n            .attr('tabindex', 0)\n            .attr('fill', 'white')\n            .attr('stroke', '#777')\n            .on('keydown', function (d, i) {\n            var change = step || (domain[1] - domain[0]) / KEYBOARD_NUMBER_STEPS;\n            // TODO: Don't need to loop over value because we know which element needs to change\n            function newValue(adjustedValue) {\n                return value.map(function (d, j) {\n                    if (value.length === 2) {\n                        return j === i\n                            ? i === 0\n                                ? Math.min(adjustedValue, alignedValue(value[1]))\n                                : Math.max(adjustedValue, alignedValue(value[0]))\n                            : d;\n                    }\n                    else {\n                        return j === i ? adjustedValue : d;\n                    }\n                });\n            }\n            switch (event.key) {\n                case 'ArrowLeft':\n                case 'ArrowDown':\n                    slider.value(newValue(+value[i] - change));\n                    event.preventDefault();\n                    break;\n                case 'PageDown':\n                    slider.value(newValue(+value[i] - 2 * change));\n                    event.preventDefault();\n                    break;\n                case 'ArrowRight':\n                case 'ArrowUp':\n                    slider.value(newValue(+value[i] + change));\n                    event.preventDefault();\n                    break;\n                case 'PageUp':\n                    slider.value(newValue(+value[i] + 2 * change));\n                    event.preventDefault();\n                    break;\n                case 'Home':\n                    slider.value(newValue(domain[0]));\n                    event.preventDefault();\n                    break;\n                case 'End':\n                    slider.value(newValue(domain[1]));\n                    event.preventDefault();\n                    break;\n            }\n        });\n        if (displayValue && value.length === 1) {\n            handleEnter\n                .append('text')\n                .attr('font-size', 10) // TODO: Remove coupling to font-size in d3-axis\n                .attr(y, k * 27)\n                .attr('dy', orientation === top$1\n                ? '0em'\n                : orientation === bottom$1\n                    ? '.71em'\n                    : '.32em')\n                .text(tickFormat(value[0]));\n        }\n        context\n            .select('.track')\n            .attr(x + '2', scale.range()[1] + k * SLIDER_END_PADDING);\n        context\n            .select('.track-inset')\n            .attr(x + '2', scale.range()[1] + k * SLIDER_END_PADDING);\n        if (fill) {\n            context\n                .select('.track-fill')\n                .attr(x + '2', value.length === 1 ? scale(value[0]) : scale(value[1]));\n        }\n        context\n            .select('.track-overlay')\n            .attr(x + '2', scale.range()[1] + k * SLIDER_END_PADDING);\n        context.select('.axis').call(axisFunction(scale)\n            .tickFormat(tickFormat)\n            .ticks(ticks)\n            .tickValues(tickValues));\n        // https://bl.ocks.org/mbostock/4323929\n        selection\n            .select('.axis')\n            .select('.domain')\n            .remove();\n        context.select('.axis').attr('transform', transformAcross(k * 7));\n        context\n            .selectAll('.axis text')\n            .attr('fill', '#aaa')\n            .attr(y, k * 20)\n            .attr('dy', orientation === top$1 ? '0em' : orientation === bottom$1 ? '.71em' : '.32em')\n            .attr('text-anchor', orientation === right$1\n            ? 'start'\n            : orientation === left$1\n                ? 'end'\n                : 'middle');\n        context.selectAll('.axis line').attr('stroke', '#aaa');\n        context.selectAll('.parameter-value').attr('transform', function (d) {\n            return transformAlong(scale(d));\n        });\n        fadeTickText();\n        function computeDragNewValue(pos) {\n            var adjustedValue = alignedValue(scale.invert(pos));\n            return value.map(function (d, i) {\n                if (value.length === 2) {\n                    return i === handleIndex\n                        ? handleIndex === 0\n                            ? Math.min(adjustedValue, alignedValue(value[1]))\n                            : Math.max(adjustedValue, alignedValue(value[0]))\n                        : d;\n                }\n                else {\n                    return i === handleIndex ? adjustedValue : d;\n                }\n            });\n        }\n        function dragstarted() {\n            select(this).classed('active', true);\n            var pos = identityClamped(orientation === bottom$1 || orientation === top$1 ? event.x : event.y);\n            // Handle cases where both handles are at the same end of the slider\n            if (value[0] === domain[0] && value[1] === domain[0]) {\n                handleIndex = 1;\n            }\n            else if (value[0] === domain[1] && value[1] === domain[1]) {\n                handleIndex = 0;\n            }\n            else {\n                handleIndex = scan(value.map(function (d) {\n                    return Math.abs(d - alignedValue(scale.invert(pos)));\n                }));\n            }\n            var newValue = value.map(function (d, i) {\n                return i === handleIndex ? alignedValue(scale.invert(pos)) : d;\n            });\n            updateHandle(newValue);\n            listeners.call('start', sliderSelection, newValue.length === 1 ? newValue[0] : newValue);\n            updateValue(newValue, true);\n        }\n        function dragged() {\n            var pos = identityClamped(orientation === bottom$1 || orientation === top$1 ? event.x : event.y);\n            var newValue = computeDragNewValue(pos);\n            updateHandle(newValue);\n            listeners.call('drag', sliderSelection, newValue.length === 1 ? newValue[0] : newValue);\n            updateValue(newValue, true);\n        }\n        function dragended() {\n            select(this).classed('active', false);\n            var pos = identityClamped(orientation === bottom$1 || orientation === top$1 ? event.x : event.y);\n            var newValue = computeDragNewValue(pos);\n            updateHandle(newValue);\n            listeners.call('end', sliderSelection, newValue.length === 1 ? newValue[0] : newValue);\n            updateValue(newValue, true);\n            handleIndex = null;\n        }\n        textSelection = selection.select('.parameter-value text');\n        fillSelection = selection.select('.track-fill');\n    }\n    function fadeTickText() {\n        if (selection) {\n            if (displayValue && value.length === 1) {\n                var distances = [];\n                selection.selectAll('.axis .tick').each(function (d) {\n                    distances.push(Math.abs(d - value[0]));\n                });\n                var index = scan(distances);\n                selection.selectAll('.axis .tick text').attr('opacity', function (d, i) {\n                    return i === index ? 0 : 1;\n                });\n            }\n        }\n    }\n    function alignedValue(newValue) {\n        if (step) {\n            var valueModStep = (newValue - domain[0]) % step;\n            var alignValue = newValue - valueModStep;\n            if (valueModStep * 2 > step) {\n                alignValue += step;\n            }\n            return newValue instanceof Date ? new Date(alignValue) : alignValue;\n        }\n        if (marks) {\n            var index = scan(marks.map(function (d) {\n                return Math.abs(newValue - d);\n            }));\n            return marks[index];\n        }\n        return newValue;\n    }\n    function updateValue(newValue, notifyListener) {\n        if (value[0] !== newValue[0] ||\n            (value.length > 1 && value[1] !== newValue[1])) {\n            value = newValue;\n            if (notifyListener) {\n                listeners.call('onchange', slider, newValue.length === 1 ? newValue[0] : newValue);\n            }\n            fadeTickText();\n        }\n    }\n    function updateHandle(newValue, animate) {\n        if (selection) {\n            animate = typeof animate !== 'undefined' ? animate : false;\n            if (animate) {\n                selection\n                    .selectAll('.parameter-value')\n                    .data(newValue)\n                    .transition()\n                    .ease(quadOut)\n                    .duration(UPDATE_DURATION)\n                    .attr('transform', function (d) {\n                    return transformAlong(scale(d));\n                })\n                    .select('.handle')\n                    .attr('aria-valuenow', function (d) {\n                    return d;\n                });\n                if (fill) {\n                    fillSelection\n                        .transition()\n                        .ease(quadOut)\n                        .duration(UPDATE_DURATION)\n                        .attr(x + '1', value.length === 1\n                        ? scale.range()[0] - k * SLIDER_END_PADDING\n                        : scale(newValue[0]))\n                        .attr(x + '2', value.length === 1 ? scale(newValue[0]) : scale(newValue[1]));\n                }\n            }\n            else {\n                selection\n                    .selectAll('.parameter-value')\n                    .data(newValue)\n                    .attr('transform', function (d) {\n                    return transformAlong(scale(d));\n                })\n                    .select('.handle')\n                    .attr('aria-valuenow', function (d) {\n                    return d;\n                });\n                if (fill) {\n                    fillSelection\n                        .attr(x + '1', value.length === 1\n                        ? scale.range()[0] - k * SLIDER_END_PADDING\n                        : scale(newValue[0]))\n                        .attr(x + '2', value.length === 1 ? scale(newValue[0]) : scale(newValue[1]));\n                }\n            }\n            if (displayValue) {\n                textSelection.text(displayFormat(newValue[0]));\n            }\n        }\n    }\n    slider.min = function (_) {\n        if (!arguments.length)\n            return domain[0];\n        domain[0] = _;\n        return slider;\n    };\n    slider.max = function (_) {\n        if (!arguments.length)\n            return domain[1];\n        domain[1] = _;\n        return slider;\n    };\n    slider.domain = function (_) {\n        if (!arguments.length)\n            return domain;\n        domain = _;\n        return slider;\n    };\n    slider.width = function (_) {\n        if (!arguments.length)\n            return width;\n        width = _;\n        return slider;\n    };\n    slider.height = function (_) {\n        if (!arguments.length)\n            return height;\n        height = _;\n        return slider;\n    };\n    slider.tickFormat = function (_) {\n        if (!arguments.length)\n            return tickFormat;\n        tickFormat = _;\n        return slider;\n    };\n    slider.displayFormat = function (_) {\n        if (!arguments.length)\n            return displayFormat;\n        displayFormat = _;\n        return slider;\n    };\n    slider.ticks = function (_) {\n        if (!arguments.length)\n            return ticks;\n        ticks = _;\n        return slider;\n    };\n    slider.value = function (_) {\n        if (!arguments.length) {\n            if (value.length === 1) {\n                return value[0];\n            }\n            return value;\n        }\n        var toArray = Array.isArray(_) ? _ : [_];\n        toArray.sort(function (a, b) {\n            return a - b;\n        });\n        var pos = toArray.map(scale).map(identityClamped);\n        var newValue = pos.map(scale.invert).map(alignedValue);\n        updateHandle(newValue, true);\n        updateValue(newValue, true);\n        return slider;\n    };\n    slider.silentValue = function (_) {\n        if (!arguments.length) {\n            if (value.length === 1) {\n                return value[0];\n            }\n            return value;\n        }\n        var toArray = Array.isArray(_) ? _ : [_];\n        toArray.sort(function (a, b) {\n            return a - b;\n        });\n        var pos = toArray.map(scale).map(identityClamped);\n        var newValue = pos.map(scale.invert).map(alignedValue);\n        updateHandle(newValue, false);\n        updateValue(newValue, false);\n        return slider;\n    };\n    slider.default = function (_) {\n        if (!arguments.length) {\n            if (defaultValue.length === 1) {\n                return defaultValue[0];\n            }\n            return defaultValue;\n        }\n        var toArray = Array.isArray(_) ? _ : [_];\n        toArray.sort(function (a, b) {\n            return a - b;\n        });\n        defaultValue = toArray;\n        value = toArray;\n        return slider;\n    };\n    slider.step = function (_) {\n        if (!arguments.length)\n            return step;\n        step = _;\n        return slider;\n    };\n    slider.tickValues = function (_) {\n        if (!arguments.length)\n            return tickValues;\n        tickValues = _;\n        return slider;\n    };\n    slider.marks = function (_) {\n        if (!arguments.length)\n            return marks;\n        marks = _;\n        return slider;\n    };\n    slider.handle = function (_) {\n        if (!arguments.length)\n            return handle;\n        handle = _;\n        return slider;\n    };\n    slider.displayValue = function (_) {\n        if (!arguments.length)\n            return displayValue;\n        displayValue = _;\n        return slider;\n    };\n    slider.fill = function (_) {\n        if (!arguments.length)\n            return fill;\n        fill = _;\n        return slider;\n    };\n    slider.on = function () {\n        var value = listeners.on.apply(listeners, arguments);\n        return value === listeners ? slider : value;\n    };\n    return slider;\n}\nfunction sliderHorizontal(scale) {\n    return slider(bottom$1, scale);\n}\nvar tableCrisprCss = \".main-table{font-family:\\\"Helvetica Neue\\\", Helvetica, Arial;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.search-container{display:grid;grid-row-gap:10%;padding-bottom:1em}.slider-containers{display:grid;grid-template-areas:'header header' '. .'}.slider-containers .selection-header{grid-area:header}#regexString{width:100%;font-size:16px;padding:12px 20px;border:1px solid #ddd}.tooltipRegex .tooltiptextRegex{visibility:hidden;width:120px;background-color:#6da7c3b3;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1}.tooltipRegex:hover .tooltiptextRegex{visibility:visible}.tooltipRegex .tooltiptextRegex::after{content:\\\" \\\";position:absolute;top:50%;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent rgba(103, 203, 222, 0.9) transparent transparent}.spinner-grow{width:40 !important;height:40 !important}input{border-radius:5px}#resultTab{border-collapse:collapse}#resultTab>tr{border-bottom:1px solid #9e9e9e3d}.global-header>th:nth-child(3){padding-left:10px}.table-sort-icon{vertical-align:middle;}.table-sort-icon.ascending{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.table-sort-icon.highlighted{color:rgba(239, 71, 111)}.seq-header{background-color:#DCDCDC}.seq-header>td:nth-child(1){padding:5px 0 5px 5px}.seq-header>td:nth-child(2){padding:5px 0}.seq-header>td:nth-child(3){padding:5px 5px 5px 0;text-align:center}.sg-occ{text-align:center}.sgrna-organism{padding:3px;width:80%}.organism-line:hover{background-color:lightgray}.organism-line.click-selected{background-color:lightblue}.organism-line.click-selected:hover{background-color:lightblue}.organism-line.checkbox-selected{background-color:#f2f2f2}.organism-line.checkbox-selected:hover{background-color:lightgray}.pagination{display:grid;grid-template-columns:-webkit-max-content -webkit-max-content;grid-template-columns:max-content max-content;grid-column-gap:1.3rem}.page-field{color:black;text-decoration:none;padding:5px 5px;-webkit-transition:background-color .3s;transition:background-color .3s;text-align:center;cursor:pointer}.pagination-select-page{padding-top:2px}.page-field.active{background-color:dodgerblue;color:white}.page-field:hover:not(.active){background-color:#ddd}.page-field.disabled{color:grey}.page-numbering{display:-ms-flexbox;display:flex}.pagination-select-entries{padding-top:5px}.selection-header{display:inline-block;margin-bottom:0.5rem;font-weight:bold}.sgrna-search-container{display:grid;grid-template-areas:\\\"header header\\\" \\\"filter close\\\";grid-template-columns:auto -webkit-min-content;grid-template-columns:auto min-content}.sgrna-search-container .selection-header{grid-area:header}.close-icon{-ms-flex-item-align:center;align-self:center;margin-left:0.5em;cursor:pointer}.close-icon:hover{font-weight:bold}\";\nvar TableCrispr = /** @class */ (function () {\n    // *************************** LISTEN & EMIT ***************************\n    function TableCrispr(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        // sgRNA displayed on interface\n        this.displaySgrna = [];\n        // Dictionary of min and max occurences for each sgRNA\n        // Display occurences with this.displaySgrna as key\n        //allOcc = new Map();\n        this.page = 1;\n        this.state = \"initialize\";\n        this.error_msg = '';\n        this.sort_type = \"Alphabetical\";\n        this.sort_order = \"descending\";\n        this.entries_by_pages = 10;\n        this.max_pagination = 7;\n        this.number_selected = 0;\n        /**\n         * Call with click for sorting. Get the sorting order and the sorting type from html fields and click event and change sort_order and sort_type variables.\n         */\n        this.handleChangeSortMethod = function (e) {\n            var clicked_e = e.currentTarget;\n            var icon_element = clicked_e.querySelector('i');\n            _this.page = 1;\n            var selected_mode = clicked_e.dataset.type;\n            if (selected_mode === _this.sort_type) {\n                _this.sort_order = _this.sort_order === \"ascending\" ? \"descending\" : \"ascending\";\n                icon_element.classList.toggle(\"ascending\");\n            }\n            else {\n                _this.sort_order = icon_element.classList.contains(\"ascending\") ? \"ascending\" : \"descending\";\n                _this.sort_type = selected_mode;\n            }\n        };\n        this.sgRNAFilter = this.sgRNAFilter.bind(this);\n    }\n    //@Event({ eventName: 'table-crispr.org-click' }) onClickTableOrganism: EventEmitter;\n    TableCrispr.prototype.handleButtonSelectSgrna = function () {\n        this.reinitializeSliders();\n        this.highlighted_selection = Object.assign({}, this.selected);\n        this.sgRNAFilter(this.highlighted_selection.sgrna);\n        var selected_sgrna_index = this.currentSgrnas.map(function (e) { return e.seq; }).indexOf(this.selected.sgrna);\n        var current_page = Math.trunc(selected_sgrna_index / 10) + 1;\n        this.page = current_page;\n    };\n    /**\n     * Filter sgrna based on current regex given in regex field and current min and max occurences selected. If a sgrna is given, will filter only this sgrna.\n     * @param sgrna : optional, sgrna to filter\n     */\n    TableCrispr.prototype.sgRNAFilter = function (sgrna) {\n        var _this = this;\n        if (sgrna === void 0) { sgrna = undefined; }\n        //Filter on min occurences\n        var search = sgrna ? sgrna : this.element.shadowRoot.querySelector(\"#regexString\").value;\n        this.currentSgrnas = this.initial_min_max_data\n            .filter(function (a) { return RegExp(search).test(a.seq); })\n            .filter(function (a) { return a.total_occurences >= _this.occ_filter[0] && a.total_occurences <= _this.occ_filter[1]; });\n        this.page = 1;\n    };\n    // *************************** DISPLAY ***************************\n    /**\n     * Get pagination that needs to be currently displayed\n     * @param start : first page to display in pagination field\n     * @param end : last page to display in pagination field\n     */\n    TableCrispr.prototype.getCurrentPagination = function (start, end) {\n        var pagination_display = [];\n        for (var i = start; i <= end; i++) {\n            pagination_display.push(i);\n        }\n        return pagination_display;\n    };\n    TableCrispr.prototype.componentWillLoad = function () {\n        var stop = 0;\n        this.error_msg = 'ERROR : ';\n        if (this.complete_data === undefined) {\n            stop = 1;\n            this.error_msg += \"complete_data undefined\";\n        }\n        if (stop) {\n            this.state = \"stop\";\n        }\n        else {\n            this.initial_min_max_data = this.minMaxOccurences();\n            this.currentSgrnas = this.initial_min_max_data;\n            this.sortData();\n            this.displaySgrna = this.currentSgrnas.slice((10 * (this.page - 1)), 10 * this.page);\n        }\n        var minocc_max = this.currentSgrnas.reduce(function (val, e) { return val > e.min_occurences ? val : e.min_occurences; }, 0);\n        var maxocc_max = this.currentSgrnas.reduce(function (val, e) { return val > e.max_occurences ? val : e.max_occurences; }, 0);\n        this.initial_minocc = [0, minocc_max];\n        this.initial_maxocc = [0, maxocc_max];\n        this.minocc_filter = this.initial_minocc;\n        this.maxocc_filter = this.initial_maxocc;\n        var occ_max = this.currentSgrnas.reduce(function (val, e) { return val > e.total_occurences ? val : e.total_occurences; }, 0);\n        var occ_min = this.currentSgrnas.reduce(function (val, e) { return val < e.total_occurences ? val : e.total_occurences; }, occ_max);\n        this.initial_occ_limits = [occ_min, occ_max];\n        this.occ_filter = this.initial_occ_limits;\n    };\n    TableCrispr.prototype.componentDidLoad = function () {\n        this.displaySlider(this.element.shadowRoot.querySelector(\".slider\"), this.occ_filter[0], this.occ_filter[1]);\n        this.addSliderSvgText();\n    };\n    TableCrispr.prototype.componentWillUpdate = function () {\n        //Reinitialize sgrna list when selection change\n        if (this.highlighted_selection && (this.highlighted_selection.sgrna != this.selected.sgrna || this.highlighted_selection.org != this.selected.org || this.highlighted_selection.ref != this.selected.ref)) {\n            this.highlighted_selection = undefined;\n            this.element.shadowRoot.querySelector(\"#regexString\").value = \"\"; //reinitialize sequence search bar\n            this.sgRNAFilter(); //reinitialize sgrnas \n        }\n        this.sortData();\n        this.displaySgrna = this.currentSgrnas.slice((10 * (this.page - 1)), 10 * this.page);\n    };\n    TableCrispr.prototype.componentDidUpdate = function () {\n        this.conserveCheckbox();\n    };\n    /**\n     * Get occurences of the given sequence with organism and number of occurence informations.\n     * @param seq : sequence\n     */\n    TableCrispr.prototype.sequencesOccurences = function (seq) {\n        var _this = this;\n        var hit = this.complete_data.find(function (s) { return s.sequence === seq; });\n        return hit.occurences.map(function (o) {\n            var coords_count = o.all_ref.reduce(function (acc, val) { return acc + val.coords.length; }, 0);\n            var on_gene_count = 0;\n            var not_on_gene_count = 0;\n            if (_this.gene) {\n                o.all_ref.forEach(function (all_ref_obj) { return all_ref_obj.coords\n                    .forEach(function (coord_obj) {\n                    if (coord_obj.is_on_gene.length > 0)\n                        on_gene_count++;\n                    else\n                        not_on_gene_count++;\n                }); });\n            }\n            return { name: o.org, coords_count: coords_count, on_gene_count: on_gene_count, not_on_gene_count: not_on_gene_count };\n        })\n            .sort(function (a, b) { return b.coords_count - a.coords_count; });\n    };\n    /**\n     * Get all occurences formated to have access to min occurences and max occurences informations\n     */\n    TableCrispr.prototype.minMaxOccurences = function () {\n        return this.complete_data.map(function (sgrna) {\n            var nb_occurences = [];\n            sgrna.occurences.map(function (occ) {\n                nb_occurences.push(occ.all_ref.reduce(function (acc, val) { return acc + val.coords.length; }, 0));\n            });\n            nb_occurences.sort(function (a, b) { return a - b; });\n            return { seq: sgrna.sequence, min_occurences: nb_occurences[0], max_occurences: nb_occurences[nb_occurences.length - 1], total_occurences: nb_occurences.reduce(function (acc, val) { return acc + val; }, 0) };\n        });\n    };\n    /**\n     * Sort data based on current sorting type (occurences, alphabetical) and current sort order (descending, ascending).\n     * The sorting change currentSgrnas variable\n     */\n    TableCrispr.prototype.sortData = function () {\n        if (this.sort_type === \"Alphabetical\" && this.sort_order === \"descending\") {\n            this.currentSgrnas = this.currentSgrnas.sort(function (a, b) { return b.seq < a.seq ? 1 : -1; });\n        }\n        else if (this.sort_type === \"Alphabetical\" && this.sort_order === \"ascending\") {\n            this.currentSgrnas = this.currentSgrnas.sort(function (a, b) { return b.seq < a.seq ? -1 : 1; });\n        }\n        else if (this.sort_type === \"Occurences\" && this.sort_order === \"descending\") {\n            this.currentSgrnas = this.currentSgrnas.sort(function (a, b) { return b.total_occurences - a.total_occurences; });\n        }\n        else if (this.sort_type === \"Occurences\" && this.sort_order === \"ascending\") {\n            this.currentSgrnas = this.currentSgrnas.sort(function (a, b) { return a.total_occurences - b.total_occurences; });\n        }\n    };\n    /**\n     * Get start and end of pagination depending on the current page.\n     * We want to display 3 pages before and 3 pages after current page. If we have less than 3 available, only the availables are displayed.\n     */\n    TableCrispr.prototype.actualizePaginationDisplay = function () {\n        var start;\n        var end;\n        if (this.page - 3 <= 0) {\n            start = 1;\n            end = this.total_pages < this.max_pagination ? this.total_pages : this.max_pagination;\n        }\n        else if (this.page + 3 >= this.total_pages) {\n            start = this.total_pages - this.max_pagination;\n            end = this.total_pages;\n        }\n        else {\n            start = this.page - 3;\n            end = this.page + 3;\n        }\n        this.current_pagination_display = this.getCurrentPagination(start, end);\n    };\n    /**\n     * Display slider for min and max occurences selection.\n     * @param elmt html element where to put slider\n     * @param min : min occurences\n     * @param max : max occurences\n     */\n    TableCrispr.prototype.displaySlider = function (elmt, min, max) {\n        var _this = this;\n        var sliderRange = sliderHorizontal()\n            .min(min)\n            .max(max)\n            .step(1)\n            .width(450)\n            .ticks(max - min < 10 ? max - min : 10)\n            .default([min, max])\n            .fill(\"rgba(239, 71, 111)\")\n            .tickFormat(format(',.0f'))\n            .on('onchange', function (val) {\n            _this.occ_filter = [val[0], val[1]];\n            _this.sgRNAFilter();\n            _this.addSliderSvgText();\n            //d3.select(elmtValue).text(val[0]);\n        });\n        select(elmt)\n            .append('svg')\n            .attr('width', 500)\n            .attr('height', 50)\n            .append('g')\n            .attr('transform', 'translate(10,10)')\n            .call(sliderRange);\n    };\n    /**\n     * Highlight current selected value in sliders below the cursor.\n     */\n    TableCrispr.prototype.addSliderSvgText = function () {\n        var _this = this;\n        var i = 0;\n        this.element.shadowRoot.querySelectorAll('.slider .parameter-value')\n            .forEach(function (svg_elmt) {\n            select(svg_elmt).select('text').remove();\n            select(svg_elmt)\n                .append('text')\n                .text(_this.occ_filter[i])\n                .attr('font-size', 10)\n                .attr('dy', '.71em')\n                .attr('y', '27');\n            i += 1;\n        });\n    };\n    /**\n     * Sliders in their initial state.\n     */\n    TableCrispr.prototype.reinitializeSliders = function () {\n        this.element.shadowRoot.querySelector(\".slider svg\").remove();\n        this.minocc_filter = this.initial_minocc;\n        this.maxocc_filter = this.initial_maxocc;\n        this.displaySlider(this.element.shadowRoot.querySelector(\".slider\"), this.occ_filter[0], this.occ_filter[1]);\n        this.addSliderSvgText();\n    };\n    TableCrispr.prototype.reinitializeSgrna = function () {\n        this.element.shadowRoot.querySelector(\"#regexString\").value = '';\n        this.sgRNAFilter();\n        this.highlighted_selection = undefined;\n    };\n    TableCrispr.prototype.uncheckCheckbox = function () {\n        var checkboxes = this.element.shadowRoot.querySelectorAll(\".checkbox\");\n        checkboxes.forEach(function (checkbox) {\n            if (checkbox.checked)\n                checkbox.checked = false;\n        });\n    };\n    TableCrispr.prototype.conserveCheckbox = function () {\n        var _this = this;\n        this.uncheckCheckbox();\n        this.card_selection.forEach(function (sgrna) {\n            var select_checkbox = _this.element.shadowRoot.querySelector(\"#\" + sgrna);\n            if (select_checkbox)\n                select_checkbox.checked = true;\n        });\n    };\n    TableCrispr.prototype.highlightSelectedOrg = function (target) {\n        var org_lines = this.element.shadowRoot.querySelectorAll(\"#org-\" + target.id);\n        org_lines.forEach(function (td) { return td.style.background = target.checked ? \"#f2f2f2\" : \"\"; });\n    };\n    TableCrispr.prototype.getBackground = function (selected, checkbox_selected) {\n        if (selected && this.shouldHighlight)\n            return \"red\";\n        else if (checkbox_selected)\n            return \"yellow\";\n        else\n            return \"\";\n    };\n    TableCrispr.prototype.countSelected = function (target) {\n        this.number_selected = target.checked ? this.number_selected + 1 : this.number_selected - 1;\n    };\n    TableCrispr.prototype.render = function () {\n        var _this = this;\n        if (this.state == \"stop\") {\n            return this.error_msg;\n        }\n        this.displaySgrna = this.currentSgrnas.slice((this.entries_by_pages * (this.page - 1)), this.entries_by_pages * this.page);\n        this.total_pages = (Number.isInteger(this.currentSgrnas.length / this.entries_by_pages)) ? (this.currentSgrnas.length / this.entries_by_pages) : (Math.trunc(this.currentSgrnas.length / this.entries_by_pages) + 1);\n        this.actualizePaginationDisplay();\n        return ([h(\"head\", null, h(\"link\", { rel: \"stylesheet\", href: \"https://fonts.googleapis.com/icon?family=Material+Icons\" })),\n            // ***********************************************\n            // ******************* SPINNER *******************\n            // ***********************************************\n            h(\"div\", { style: { display: \"none\" } }, h(\"strong\", null, \" Loading ... \"), h(\"div\", { class: \"spinner-grow text-info\", role: \"status\" })),\n            // *********************************************\n            // ******************* TABLE *******************\n            // *********************************************\n            h(\"div\", { class: \"main-table\", style: { display: \"block\" } }, h(\"div\", { class: \"search-container\" }, h(\"div\", { class: \"sgrna-search-container\" }, h(\"span\", { class: 'selection-header' }, \"Filter by sequence\"), h(\"input\", { type: \"text\", id: \"regexString\", onKeyUp: function () { return _this.sgRNAFilter(); }, placeholder: \"Search for sgRNA..\", value: this.highlighted_selection ? this.highlighted_selection.sgrna : \"\" }), h(\"i\", { class: \"material-icons close-icon\", onClick: function () { _this.reinitializeSgrna(); _this.reinitSelection(); } }, \"close\")), h(\"div\", { class: \"slider-containers\" }, h(\"span\", { class: \"selection-header\" }, \"Filter by number of occurences\"), h(\"div\", { class: \"slider\" }))), h(\"table\", { id: \"resultTab\", style: { width: '100%' } }, h(\"thead\", null, h(\"tr\", { class: \"global-header\" }, h(\"th\", { rowSpan: this.gene ? 2 : 1, onClick: function (e) { _this.handleChangeSortMethod(e); }, \"data-type\": \"Alphabetical\" }, h(\"span\", null, \"Sequence(s) (\", this.currentSgrnas.length, \" sgRNAs selected)\"), h(\"i\", { class: \"material-icons table-sort-icon \" + (this.sort_type === \"Alphabetical\" ? \"highlighted\" : \"\") }, \"keyboard_arrow_down\")), h(\"th\", { colSpan: 2, onClick: function (e) { _this.handleChangeSortMethod(e); }, \"data-type\": \"Occurences\" }, h(\"span\", null, \"Occurences number\"), h(\"i\", { class: \"material-icons table-sort-icon \" + (this.sort_type === \"Occurences\" ? \"highlighted\" : \"\") }, \"keyboard_arrow_down\")), h(\"th\", { rowSpan: this.gene ? 2 : 1 }, \"Selection (\", this.card_selection.length, \")\", h(\"input\", { type: \"checkbox\", class: \"all-checkbox\", onClick: function (e) {\n                    //this.highlightSelectedOrg(e.target);\n                    _this.cardAction(e.target, _this.currentSgrnas.map(function (sgrna) { return sgrna.seq; }));\n                } }))), this.gene ? h(\"tr\", null, h(\"td\", { style: { paddingRight: '10px' }, class: \"sg-occ\" }, \"Inside homologous gene(s)\"), h(\"td\", { class: \"sg-occ\" }, \"Outside homologous gene(s)\")) : ''), h(\"tbody\", null, h(\"tr\", { style: { height: '8px' } }, h(\"td\", null), h(\"td\", null), h(\"td\", null), h(\"td\", null)), this.displaySgrna.map(function (sgrna) {\n                var currentOccurences = _this.sequencesOccurences(sgrna.seq);\n                //const min = currentOccurences.reduce((p, v) => (p < v.coords_count ? p : v.coords_count), currentOccurences[0].coords_count);\n                var to_return = [h(\"tr\", { class: \"seq-header\" }, h(\"td\", null, h(\"strong\", null, sgrna.seq.slice(0, -3), h(\"span\", { style: { color: \"rgba(239, 71, 111)\" } }, sgrna.seq.slice(-3), \" \"))), _this.gene ? h(\"td\", { class: \"sg-occ\" }, h(\"strong\", null, currentOccurences.reduce(function (acc, val) { return acc + val.on_gene_count; }, 0))) :\n                        h(\"td\", { colSpan: 2, class: \"occ-col\" }, h(\"strong\", null, currentOccurences.reduce(function (acc, val) { return acc + val.coords_count; }, 0))), _this.gene ? h(\"td\", { class: \"sg-occ\" }, h(\"strong\", null, currentOccurences.reduce(function (acc, val) { return acc + val.not_on_gene_count; }, 0))) : '', h(\"td\", null, h(\"input\", { type: \"checkbox\", class: \"checkbox\", id: sgrna.seq, onClick: function (e) {\n                            //this.highlightSelectedOrg(e.target);\n                            _this.cardAction(e.target, [sgrna.seq]);\n                        } })))];\n                {\n                    currentOccurences.map(function (o) {\n                        var selected = _this.selected && _this.selected.org === o.name && _this.selected.sgrna === sgrna.seq;\n                        var checkbox_selected = _this.card_selection.includes(sgrna.seq);\n                        to_return.push(h(\"tr\", { class: \"organism-line\" + (checkbox_selected && !selected ? \" checkbox-selected\" : \"\") + (selected && _this.shouldHighlight ? \" click-selected\" : \"\"), onClick: function () {\n                                _this.onOrganismClick(o.name, sgrna.seq);\n                                //this.onClickTableOrganism.emit();\n                            } }, h(\"td\", { class: \"sgrna-organism\" }, o.name), _this.gene ? h(\"td\", { class: \"sg-occ\" }, \" \", o.on_gene_count) : h(\"td\", { colSpan: 2 }, o.coords_count), _this.gene ? h(\"td\", { class: \"sg-occ\" }, \" \", o.not_on_gene_count) : '', h(\"td\", null)));\n                    });\n                }\n                return to_return;\n            }))), h(\"div\", { class: \"pagination\" }, h(\"div\", { class: \"pagination-select-entries\" }, h(\"span\", null, \"Items by page : \"), h(\"select\", { onChange: function (e) {\n                    _this.entries_by_pages = e.target.value;\n                    _this.page = 1;\n                } }, h(\"option\", { value: \"5\" }, \"5\"), h(\"option\", { value: \"10\", selected: true }, \"10\"), h(\"option\", { value: \"25\" }, \"25\"), h(\"option\", { value: \"50\" }, \"50\"))), h(\"div\", { class: \"page-numbering\" }, h(\"div\", { class: \"page-field\" + (this.page === 1 ? \" disabled\" : \"\"), onClick: function () { return _this.page = 1; } }, \"First\"), h(\"div\", { class: \"page-field\" + (this.page === 1 ? \" disabled\" : \"\"), onClick: function () { return _this.page = _this.page === 1 ? _this.page : _this.page - 1; } }, \"\\u00AB\"), this.current_pagination_display.map(function (e) { return h(\"div\", { class: \"page-field page-number\" + (_this.page === e ? \" active\" : \"\"), onClick: function () { return _this.page = e; } }, h(\"span\", null, e)); }), h(\"div\", { class: \"page-field\" + (this.page === this.total_pages ? \" disabled\" : \"\"), onClick: function () { return _this.page = _this.page === _this.total_pages ? _this.page : _this.page + 1; } }, \"\\u00BB\"), h(\"div\", { class: \"page-field\" + (this.page === this.total_pages ? \" disabled\" : \"\"), onClick: function () { return _this.page = _this.total_pages; } }, \"Last\"))))\n        ]);\n    };\n    Object.defineProperty(TableCrispr.prototype, \"element\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    return TableCrispr;\n}());\nTableCrispr.style = tableCrisprCss;\nexport { CircularBarplot as circular_barplot, CircularBarplotLegend as circular_barplot_legend, CoordBox as coord_box, DropdownMenu as dropdown_menu, TableCrispr as table_crispr };\n"],"sourceRoot":""}